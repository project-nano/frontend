{"version":3,"sources":["assets/img/login_background.jpg","assets/img/sidebar.jpg","assets/img/nano_white.svg","assets/jss/material-dashboard-react.js","assets/jss/material-dashboard-react/components/typographyStyle.js","components/Typography/Danger.js","assets/jss/material-dashboard-react/components/buttonStyle.js","components/CustomButtons/Button.js","components/CustomInput/InputList.js","components/Backdrop/Backdrop.js","components/Grid/GridItem.js","assets/jss/material-dashboard-react/components/snackbarContentStyle.js","components/Snackbar/SnackbarContent.js","components/Dialog/CustomDialog.js","utils.js","nano_api.js","components/LoggedUser/ModifyPasswordDialog.js","assets/jss/material-dashboard-react/dropdownStyle.js","assets/jss/material-dashboard-react/components/headerLinksStyle.js","components/LoggedUser/LoggedUser.js","components/Navbars/AdminNavbarLinks.js","components/Language/Selector.js","assets/jss/material-dashboard-react/components/headerStyle.js","components/Navbars/Navbar.js","assets/jss/material-dashboard-react/components/sidebarStyle.js","components/Sidebar/Sidebar.js","components/Grid/GridContainer.js","assets/jss/material-dashboard-react/components/cardStyle.js","components/Card/Card.js","assets/jss/material-dashboard-react/components/cardHeaderStyle.js","components/Card/CardHeader.js","assets/jss/material-dashboard-react/components/cardBodyStyle.js","components/Card/CardBody.js","components/Typography/Info.js","components/Snackbar/Snackbar.js","assets/jss/material-dashboard-react/components/tableStyle.js","components/Table/ObjectTable.js","components/CustomButtons/IconButton.js","views/ComputeCells/RemoveDialog.js","views/ComputeCells/AddDialog.js","views/ComputeCells/DetailDialog.js","views/ComputeCells/MigrateDialog.js","views/ComputeCells/ChangeStorageDialog.js","views/ComputeCells/ComputeCells.js","views/Dashboard/PieChart.js","assets/jss/material-dashboard-react/views/dashboardStyle.js","views/Dashboard/PieCard.js","views/Dashboard/LineChart.js","views/Dashboard/LineCard.js","views/Dashboard/StackedBarChart.js","views/Dashboard/StackedBarCard.js","views/Dashboard/MultiBarChart.js","views/Dashboard/MultiBarCard.js","views/Dashboard/ZoneStatus.js","views/Dashboard/SeriesLabels.js","views/Dashboard/PoolStatus.js","views/Dashboard/CellStatus.js","views/ComputePools/DeleteDialog.js","views/ComputePools/CreateDialog.js","views/ComputePools/ModifyDialog.js","views/ComputePools/ComputePools.js","views/AddressPools/DeleteDialog.js","views/AddressPools/CreateDialog.js","views/AddressPools/ModifyDialog.js","views/AddressPools/PoolList.js","views/AddressPools/RemoveRangeDialog.js","views/AddressPools/AddRangeDialog.js","views/AddressPools/PoolStatus.js","views/AddressPools/RangeStatus.js","views/StoragePools/DeleteDialog.js","views/StoragePools/CreateDialog.js","views/StoragePools/ModifyDialog.js","views/StoragePools/StoragePools.js","views/MediaImages/DeleteDialog.js","views/MediaImages/UploadDialog.js","views/MediaImages/ModifyDialog.js","views/MediaImages/SyncDialog.js","views/MediaImages/MediaImages.js","views/DiskImages/DeleteDialog.js","views/DiskImages/UploadDialog.js","views/DiskImages/ModifyDialog.js","views/DiskImages/BuildDialog.js","views/DiskImages/SyncDialog.js","views/DiskImages/DiskImages.js","views/SystemTemplates/DeleteDialog.js","views/SystemTemplates/CreateDialog.js","views/SystemTemplates/ModifyDialog.js","views/SystemTemplates/SystemTemplates.js","components/Table/OperableTable.js","views/Instances/InstanceRow.js","views/Instances/DeleteDialog.js","components/Grid/SingleRow.js","views/Instances/CreateDialog.js","views/Instances/StartWithMediaDialog.js","views/Instances/InsertMediaDialog.js","views/Instances/BuildImageDialog.js","views/Instances/ResetSystemDialog.js","views/Instances/MigrateInstanceDialog.js","views/Instances/BatchStopDialog.js","views/Instances/BatchDeleteDialog.js","views/Instances/BatchCreateDialog.js","views/Instances/InstancesInScope.js","views/Instances/InstanceStatus.js","views/Instances/CreateSnapshotDialog.js","views/Instances/DeleteSnapshotDialog.js","views/Instances/RevertSnapshotDialog.js","views/Instances/Snapshots.js","views/Instances/ModifyNameDialog.js","views/Instances/ModifyCoresDialog.js","views/Instances/ModifyMemoryDialog.js","views/Instances/ModifyPasswordDialog.js","views/Instances/ModifyDiskSizeDialog.js","views/Instances/ShrinkDiskSizeDialog.js","views/Instances/ModifyCPUPriorityDialog.js","views/Instances/ModifyDiskIOPSDialog.js","views/Instances/ModifyNetworkBandwidthDialog.js","views/Instances/ResetSecretDialog.js","views/Instances/Details.js","views/Instances/AllInstances.js","views/Instances/RemoveRuleDialog.js","views/Instances/AddRuleDialog.js","views/Instances/ModifyRuleDialog.js","views/Instances/SecurityPolicies.js","assets/jss/material-dashboard-react/components/customTabsStyle.js","components/CustomTabs/CustomTabs.js","views/Users/CreateUserDialog.js","views/Users/ModifyUserDialog.js","views/Users/DeleteUserDialog.js","views/Users/UserTab.js","views/Users/AddGroupDialog.js","views/Users/ModifyGroupDialog.js","views/Users/RemoveGroupDialog.js","views/Users/GroupTab.js","views/Users/AddMemberDialog.js","views/Users/RemoveMemberDialog.js","views/Users/GroupMemberTab.js","views/Users/AddRoleDialog.js","views/Users/ModifyRoleDialog.js","views/Users/RemoveRoleDialog.js","views/Users/RoleTab.js","views/Users/Main.js","views/Visibilities/Visibilities.js","views/PolicyGroups/DeletePolicyDialog.js","views/PolicyGroups/CreatePolicyDialog.js","views/PolicyGroups/ModifyPolicyDialog.js","views/PolicyGroups/PolicyGroupList.js","views/PolicyGroups/RemoveRuleDialog.js","views/PolicyGroups/AddRuleDialog.js","views/PolicyGroups/ModifyRuleDialog.js","views/PolicyGroups/SecurityRules.js","views/Logs/BatchDeleteDialog.js","views/Logs/Logs.js","layouts/Admin.js","routes.js","views/Dashboard/Dashboard.js","views/AddressPools/AddressPools.js","views/Instances/Instances.js","views/PolicyGroups/PolicyGroups.js","assets/jss/material-dashboard-react/layouts/adminStyle.js","views/Login/Login.js","views/Login/Initial.js","views/Instances/VncDisplay.js","views/Instances/ControlInstance.js","index.js"],"names":["module","exports","hexToRgb","input","replace","test","length","Error","first","second","last","toUpperCase","parseInt","transition","container","paddingRight","paddingLeft","marginRight","marginLeft","defaultFont","fontFamily","fontWeight","lineHeight","primaryColor","warningColor","dangerColor","successColor","infoColor","roseColor","grayColor","boxShadow","primaryBoxShadow","infoBoxShadow","successBoxShadow","warningBoxShadow","dangerBoxShadow","roseBoxShadow","warningCardHeader","_objectSpread","background","successCardHeader","dangerCardHeader","infoCardHeader","primaryCardHeader","roseCardHeader","defaultBoxShadow","margin","paddingTop","borderTop","height","border","borderRadius","padding","title","color","textDecoration","marginTop","marginBottom","minHeight","typographyStyle","defaultFontStyle","fontSize","defaultHeaderMargins","quote","borderLeft","quoteText","fontStyle","quoteAuthor","display","mutedText","primaryText","infoText","successText","warningText","dangerText","useStyles","makeStyles","styles","Danger","props","classes","children","React","createElement","className","buttonStyle","button","minWidth","backgroundColor","position","textTransform","letterSpacing","willChange","textAlign","whiteSpace","verticalAlign","touchAction","cursor","top","width","transform","left","white","rose","primary","info","success","warning","danger","simple","transparent","disabled","opacity","pointerEvents","lg","sm","round","block","link","justIcon","RegularButton","_classNames","size","muiClasses","rest","_objectWithoutProperties","_excluded","btnClasses","classNames","_defineProperty","Button","Object","assign","InputComponent","type","label","value","onChange","required","oneRow","options","on","off","rows","step","maxStep","minStep","marks","helper","valueLabelFormat","valueLabelDisplay","component","Box","m","pt","TextField","helperText","fullWidth","rowsMax","multiline","InputLabel","Select","map","option","key","MenuItem","FormControl","FormLabel","RadioGroup","name","row","alignItems","FormControlLabel","control","Radio","Grid","item","Switch","checked","FormGroup","tagValue","tagLabel","has","get","xs","Checkbox","Slider","max","min","InputList","inputs","theme","backdrop","zIndex","drawer","Backdrop","InnerBackdrop","grid","GridItem","snackbarContentStyle","root","flexWrap","maxWidth","top20","top40","message","close","iconButton","icon","infoIcon","successIcon","warningIcon","dangerIcon","primaryIcon","roseIcon","iconMessage","actionRTL","SnackbarContent","rtlActive","action","messageClasses","undefined","IconButton","aria-label","Close","Snack","CustomDialog","promptElement","contentElement","open","operatable","promptPosition","prompt","content","buttons","hideBackdrop","operates","forEach","push","onClick","Dialog","DialogTitle","DialogContent","CircularProgress","DialogActions","displayPrint","getLoggedSession","sessionData","localStorage","getItem","s","JSON","parse","id","logoutSession","setItem","redirectToLogin","Redirect","to","encodeURIComponent","window","location","pathname","search","bytesToString","bytes","toString","radix","unit","toFixed","bpsToString","truncateToRadix","number","base","Math","pow","currentVersion","npmPackage","version","apiRoot","getAllMenus","lang","texts","dashboard","computePool","addressPool","storagePool","instance","diskImage","mediaImage","systemTempaltes","securityPolicies","user","log","visibility","getAllComputePools","onSuccess","onFail","getRequest","queryComputeCellsInPool","poolName","modifyComputeCell","cellName","enable","putRequest","onModifySuccess","getAllStoragePools","getAllNetworkPools","getNetworkPool","searchInstances","url","getInstanceConfig","onCreating","getRequestWithStatus","onGetSuccess","status","data","progress","created","getInstanceStatus","ejectMedia","instanceID","deleteRequest","onOperateSuccess","stopInstance","deleteRequestWithPayload","reboot","force","onStopSuccess","restartInstance","onRestartSuccess","resetInstance","getInstanceAdminPassword","_ref3","password","searchMediaImages","deleteMediaImage","onDeleteSuccess","searchDiskImages","getDiskImage","createDiskImage","guest","description","tags","session","request","owner","group","postRequest","deleteDiskImage","checkBatchCreatingStatus","batchID","onProcessing","checkBatchDeletingStatus","checkBatchStoppingStatus","querySystemTemplates","searchSecurityPolicyGroups","enabledOnly","globalOnly","params","URLSearchParams","append","queryAllRoles","writeLog","address","getSystemStatus","callAxiosWithoutSession","nakeGetRequest","callAxios","callAxiosWithStatus","postRequestWithStatus","nakePostRequest","patchRequest","uploadBinary","fileTag","fileData","onProgress","headers","FormData","axios","post","onUploadProgress","e","loaded","total","then","_ref6","error_code","catch","method","config","_ref7","_ref8","_ref9","service","host","port","concat","i18n","current","new","confirmNew","cancel","confirm","ModifyPasswordDialog","defaultValues","old","new2","onCancel","_React$useState","useState","_React$useState2","_slicedToArray","setOperatable","_React$useState3","_React$useState4","mounted","setMounted","_React$useState5","_React$useState6","setPrompt","_React$useState7","_React$useState8","setRequest","resetDialog","onModifyFail","msg","handleRequestPropsChanged","target","previous","useEffect","oldPassword","newPassword","changeUserPassword","dropdownStyle","buttonLink","breakpoints","down","links","linkText","popperClose","pooperResponsive","float","WebkitBoxShadow","popperNav","whiteColor","dropdown","listStyle","WebkitBackgroundClip","backgroundClip","dropdownItem","WebkitTransition","MozTransition","OTransition","MsTransition","clear","headerLinksStyle","_notifications","_manager","_searchWrapper","paddingBottom","justifyContent","searchButton","searchIcon","notifications","up","right","manager","searchWrapper","modify","logout","LoggedUser","username","setUsername","openProfile","setOpenProfile","dialogVisible","setDialogVisible","_React$useState9","_React$useState10","isLogged","setLogged","handleCloseProfile","onFinished","showModifyPassword","closeModifyPassword","keepAlive","useCallback","put","_ref","updateSession","updateInterval","timeout","timerID","setInterval","clearInterval","innerWidth","aria-owns","aria-haspopup","event","contains","currentTarget","Person","icons","Poppers","Boolean","anchorEl","disablePortal","TransitionProps","placement","Grow","style","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","role","Divider","light","AdminNavbarLinks","Selector","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","openMenu","bind","_assertThisInitialized","closeMenu","languages","locale","initialText","setLang","restProps","changeLanguage","state","language","displayText","_createClass","_this2","this","setState","configData","stringify","_this3","currentLang","_this$restProps","buttonClass","others","_excluded2","Typography","ChatBubbleOutlineIcon","Menu","keepMounted","onClose","selected","updateLanguage","variant","Component","headerStyle","appBar","borderBottom","flex","appResponsive","manual","manualURL","Header","appBarClasses","currentYear","Date","getFullYear","mr","manualButton","Tooltip","Link","href","HelpOutlineIcon","AppBar","Toolbar","routes","every","prop","indexOf","layout","path","makeBrand","Hidden","smDown","LanguageSelector","implementation","mdUp","handleDrawerToggle","sidebarStyle","_objectSpread2","_drawerPaperRTL","drawerPaper","bottom","overflowY","drawerPaperRTL","logo","logoLink","logoLinkRTL","logoImage","maxHeight","img","backgroundSize","backgroundPosition","list","itemLink","itemIcon","itemIconRTL","itemText","itemTextRTL","whiteFont","purple","blue","green","orange","red","sidebarWrapper","overflow","overflowScrolling","activePro","Sidebar","activeRoute","routeName","image","logoText","List","listItemClasses","whiteFontClasses","NavLink","activeClassName","ListItem","Icon","ListItemText","disableTypography","brand","src","alt","Drawer","anchor","paper","ModalProps","backgroundImage","GridContainer","cardStyle","card","flexDirection","wordWrap","cardPlain","cardProfile","cardChart","Card","plain","profile","chart","cardClasses","cardHeaderStyle","cardHeader","cardHeaderPlain","cardHeaderStats","cardHeaderIcon","CardHeader","stats","cardHeaderClasses","cardBodyStyle","cardBody","WebkitBoxFlex","cardBodyPlain","cardBodyProfile","CardBody","cardBodyClasses","Info","Snackbar","place","closeNotification","anchorOrigin","vertical","horizontal","ContentProps","tableStyle","warningTableHeader","primaryTableHeader","dangerTableHeader","successTableHeader","infoTableHeader","roseTableHeader","grayTableHeader","table","borderSpacing","borderCollapse","tableHeadCell","tableCell","tableResponsive","spacing","overflowX","tableHeadRow","outline","tableBodyRow","ObjectTable","Table","TableHead","TableRow","TableCell","TableBody","rowKey","cell","cellKey","tooltipPlacement","iconColor","innerButton","InnerButton","defaultProps","RemoveDialog","pool","onRemoveFail","onRemoveSuccess","removeComputeCell","AddDialog","initialed","setInitialed","setOptions","onAddFail","onAddSuccess","queryUnallocatedComputeCells","dataList","cellList","addComputeCell","Skeleton","alive","enabled","online","offline","attached","storage","DetailDialog","statusLabel","statusIcon","aliveLabel","aliveIcon","tableStyles","fontClasses","fontStyles","error","setError","setStatus","onFetchFail","currentStatus","CheckIcon","BlockIcon","WifiRoundedIcon","WifiOffRoundedIcon","PowerIcon","PowerOffIcon","aria-labelledby","autoFocus","sourcePool","sourceCell","targetCell","MigrateInstancesDialog","_React$useState11","cells","_React$useState12","onMigrateFail","onMigrateSuccess","source_pool","source_cell","target_cell","migrateInstancesInCell","ChangeStoragePathDialog","onChangeFail","onChangeSuccess","queryComputeCellStorages","payload","system","currentPath","newLocation","pathName","default","changeComputeCellStorage","cardTitleWhite","addButton","tableTitle","noResource","computePools","disable","instances","detail","remove","migrate","changeStorage","ComputeCells","setDataList","useLocation","addDialogVisible","setAddDialogVisible","detailDialogVisible","setDetailDialogVisible","removeDialogVisible","setRemoveDialogVisible","migrateDialogVisible","setMigrateDialogVisible","_React$useState13","_React$useState14","storageDialogVisible","setStorageDialogVisible","_React$useState15","_React$useState16","setSelected","_React$useState17","_React$useState18","notifyColor","setNotifyColor","_React$useState19","_React$useState20","notifyMessage","setNotifyMessage","closeNotify","showErrorMessage","setTimeout","reloadAllData","err","showNotifyMessage","closeRemoveDialog","closeAddDialog","closeMigrateDialog","closeStorageDialog","CloudQueueIcon","SettingsIcon","StorageIcon","DeleteIcon","LocalShippingRoundedIcon","Breadcrumbs","separator","mt","mb","AddIcon","MigrateDialog","StorageDialog","PieChart","series","labels","valueList","colorList","slice","chartData","datasets","borderWidth","hoverBorderWidth","Pie","cutoutPercentage","legend","dashboardStyle","upArrowCardCategory","cardCategory","cardCategoryWhite","cardTitle","PieCard","displayValue","chartStyles","dashboardStyles","index","seriesName","topDivider","totalLabel","p","valueLabel","LineChart","maxValueOfAll","minTickStep","maxTicks","maxValue","maxTicksValue","brushColor","dataCount","Array","fill","maxValueFixed","dataSeries","pointBackgroundColor","pointBorderColor","pointRadius","borderColor","lineTension","tickStep","ceil","chartOptions","scales","xAxes","gridLines","drawBorder","lineWidth","zeroLineColor","zeroLineWidth","yAxes","borderDash","ticks","stepSize","fontColor","suggestedMax","suggestedMin","callback","Line","LineCard","lastValueLabels","valueString","lastValue","join","StackedBarChart","barPercentage","stack","i","j","stacked","Bar","StackedBarCard","MultiBarChart","MultiBarCard","allButton","pools","disks","coreUsage","memoryUsage","ioUsage","stopped","running","lost","used","available","coresUsed","network","diskIO","receive","send","write","read","seriesColor1","seriesColor2","seriesColor3","seriesColor4","disabledColor","ZoneStatus","coreRecords","memoryRecords","networkRecords","diskRecords","queryZoneStatus","shift","cpu_usage","max_cpu","available_memory","max_memory","receive_speed","send_speed","write_speed","read_speed","startTime","start_time","now","elapsedSeconds","floor","getTime","elapsedDays","elapsedHours","uptimeText","elapsedMinutes","updateTime","align","_status$pools","disabledPools","enabledPools","poolData","poolChart","md","_status$cells","offlineCell","onlineCell","cellData","cellChart","_status$instances","stoppedInstance","runningInstance","lostInstance","migrateInstance","instanceData","instanceChart","availableDisk","available_disk","usedDisk","max_disk","storageData","storageChart","Number","isInteger","usedCores","maxCores","coresChart","usedMemory","availableMemory","memoryChart","mib","networkReceive","networkSend","networkSeries","networkChart","diskWrite","diskRead","diskSeries","AllOutIcon","SeriesLabels","valueName","colorName","labelName","baseClass","sliceValue","sliceLabel","sliceClassName","viewButton","zone","memory","throughput","shadowChartPanel","cardWithDivider","diskChart","SinglePoolStatus","cellsLabel","instancesLabel","storageLabel","displaySpeedByMB","speed","dataLabels","PoolStatus","allStatus","setAllStatus","statusMap","Map","queryPoolsStatus","CoreArraySize","MemoryArraySize","NetworkIOArraySize","DiskIOArraySize","updated","set","newStatus","nameList","sort","breadcrumbs","disableChart","SingleCellStatus","operators","WifiIcon","WifiOffIcon","CellStatus","match","queryCellsStatus","queryComputeCellStatus","DeleteDialog","onDeleteFail","deleteComputePool","noAddressPool","failover","CreateDialog","onCreateFail","onCreateSuccess","storageList","addressList","onQueryNetworkSuccess","allocated","addresses","gateway","createComputePool","ModifyDialog","onGetCurrentConfigueSuccess","getComputePool","modifyComputePool","createButton","noPools","delete","deleteNetworkPool","provider","interface","internal","external","both","dns1","dns2","mode","modeOptions","ipv4Pattern","RegExp","dnsList","dns","createNetworkPool","secondary","modifyNetworkPool","PoolList","createDialogVisible","setCreateDialogVisible","modifyDialogVisible","setModifyDialogVisible","deleteDialogVisible","setDeleteDialogVisible","closeModifyDialog","closeDeleteDialog","closeCreateDialog","BuildIcon","ListIcon","providerName","dataToNodes","rangeType","startAddress","removeAddressRange","start","end","netmask","endAddress","mask","addAddressRange","back","noInternalRange","noAllocated","allocatedAddress","setCurrent","reloadPoolStatus","internalContent","ranges","allocatedContent","internalRanges","VisibilityIcon","dataToAllocated","allocatedList","history","goBack","NavigateBeforeIcon","AddRangeDialog","RemoveRangeDialog","RangeStatus","reloadRangeStatus","getAddressRangeStatus","deleteStoragePool","hostPattern","pathPattern","createStoragePool","getStoragePool","modifyStoragePool","imageID","file","choose","UploadDialog","uploading","setUploading","setProgress","onUploadFail","onUploadSuccess","handleConfirm","imageName","createMediaImage","uploadMediaImage","onFailAfterCreated","handleTagsChanged","tagOptions","tag","closeDialog","LinearProgress","files","preventDefault","split","pop","toLowerCase","imageTags","getMediaImage","currentTags","modifyMediaImage","SyncDialog","onSyncFail","onSyncSuccess","syncMediaImages","createTime","modifyTime","uploadButton","syncButton","showPrompt","uploadDiskImage","handleFileChanged","modifyDiskImage","BuildDialog","creating","setCreating","guests","onBuildFail","onBuildProgress","onBuildSuccess","poolOptions","onBuildAccept","syncDiskImages","download","buildButton","templateID","deleteSystemTemplate","admin","operatingSystem","disk","usb","tablet","osOptions","diskOptions","networkOptions","displayOptions","controlOptions","usbOptions","tabletOptions","operating_system","onPropertyChanged","listToOptions","_ref4","createSystemTemplate","getSystemTemplate","modifySystemTemplate","os","createdTime","modifiedTime","OperableTable","startWithMedia","snapshot","createImage","resetSystem","monitor","security","remoteControl","stop","forceStop","reset","insertMedia","autoStartup","mediaAttached","InstanceRow","tableClasses","onNotify","onError","onDelete","onStatusChange","onMediaStart","onInsertMedia","onResetSystem","onBuildImage","onMigrateInstance","checkable","onCheckStatusChanged","startOperator","tips","PlayArrowIcon","handler","onStartSuccess","startInstance","startWithMediaOperator","PlayCircleOutlineIcon","snapshotOperator","CameraAltIcon","createImageOperator","BackupIcon","resetSystemOperator","ReplayIcon","deleteOperator","migrateOperator","monitorOperator","ShowChartIcon","detailOperator","securityOperator","SecurityIcon","controllOperator","DesktopWindowsIcon","stopOperator","PowerSettingsNewIcon","forceStopOperator","forceStopInstance","rebootOperator","RotateRightIcon","resetOperator","RefreshIcon","insertMediaOperator","ArrowDropDownIcon","ejectMediaOperator","ArrowDropUpIcon","auto_start","AllInclusiveIcon","media_attached","AlbumIcon","StopIcon","addressLabel","network_address","memoryLabel","rowHeader","diskLabel","isChecked","handleCheckChanged","cores","operator","deleteInstance","SingleRow","resourcePool","core","systemDisk","dataDisk","systemVersion","sourceImage","blankSystem","qos","cpuPriority","iops","outbound","inbound","noDataDisk","noLimit","cpuPriorityHigh","cpuPriorityMedium","cpuPriorityLow","modules","adminName","adminPassword","blankHelper","dataPath","ciOptions","securityPolicy","system_disk","data_disk","system_template","from_image","security_policy","module_cloud_init_admin_name","module_cloud_init_admin_password","module_cloud_init_data_path","priority","images","versions","policies","setMaxCores","maxMemory","setMaxMemory","maxDisk","setMaxDisk","coreValue","setCoreValue","memoryTick","setMemoryTick","result","onCreateAccept","checkCreatingProgress","isNaN","fromImage","ciEnabled","cloudInit","admin_name","admin_secret","data_path","cpu_priority","write_iops","read_iops","onAccept","template","cloud_init","security_policy_group","onCreateResponse","createInstance","handleSliderValueChanged","imageOptions","templateOptions","onQueryPoliciesSuccess","datalist","onQueryTemplateSuccess","_ref2","onQueryImageSuccess","onQueryPoolSuccess","max_cores","coreLabel","onCoreChanged","maxCoreRange","sqrt","minCoreRange","coreMarks","coreComponent","memoryBase","MiB","GiB","displayMemory","onMemoryChanged","maxMemoryRange","minMemoryRange","memoryMarks","systemDiskSlider","dataDiskSlider","moduleOption","memoryComponent","minRange","maxRange","systemMarks","dataDiskLabel","dataMarks","ciComponents","groupName","propertyName","handleCheckedGroupChanged","inputComponents","priorityOptions","maxIOPS","iopsMarks","maxBandwidth","iopsLabel","inboundLabel","outboundLabel","bandwidthMarks","qosComponents","pb","Accordion","AccordionSummary","expandIcon","ExpandMoreIcon","AccordionDetails","StartWithMediaDialog","onStartFail","imageList","from_media","source","startInstanceWithMedia","InsertWithMediaDialog","onInsertFail","onInsertSuccess","ResetSystemDialog","onResetFail","onResetSuccess","onResetAccept","MigrateInstanceDialog","migrateSingleInstance","content1","content2","finish","fail","complete","processing","BatchStopDialog","StageEnum","targets","stage","setStage","resultList","setResultList","onStopFail","cancelButton","confirmButton","onComplete","idList","batchStoppingGuests","finishButton","resultToTable","text","TableContainer","scope","BatchDeleteDialog","batchDeletingGuests","rule","ruleOrder","ruleMAC","ruleAddress","prefix","count","RuleEmum","name_rule","name_prefix","batchCreatingGuests","systemDiskLabel","htmlFor","inputProps","batchCreate","batchDelete","batchStop","enterBatch","exitBatch","InstancesInScope","instanceList","setInstanceList","checkedMap","setCheckedMap","batchMode","setBatchMode","queryParams","mediaStartDialogVisible","setMediaStartDialogVisible","insertMediaDialogVisible","setInsertMediaDialogVisible","resetSystemDialogVisible","setResetSystemDialogVisible","buildImageDialogVisible","setBuildImageDialogVisible","_React$useState21","_React$useState22","batchStopDialogVisible","setBatchStopDialogVisible","_React$useState23","_React$useState24","batchDeleteDialogVisible","setBatchDeleteDialogVisible","_React$useState25","_React$useState26","batchCreateDialogVisible","setBatchCreateDialogVisible","_React$useState27","_React$useState28","currentInstance","setCurrentInstance","_React$useState29","_React$useState30","setSourcePool","_React$useState31","_React$useState32","setSourceCell","_React$useState33","_React$useState34","_React$useState35","_React$useState36","reloadAllInstances","modified","removeTargets","some","showDeleteDialog","showMediaStartDialog","closeMediaStartDialog","showInsertMediaDialog","closeInsertMediaDialog","showResetSystemDialog","closeResetSystemDialog","showBuildImageDialog","closeBuildImageDialog","showMigrateDialog","closeBatchStopDialog","closeBatchDeleteDialog","closeBatchCreateDialog","handleInstanceChecked","checkedStatus","console","nameHeader","_step2","_iterator2","_createForOfIteratorHelper","keys","n","done","f","buttonProperties","PlaylistAddIcon","ExitToAppIcon","_step","_iterator","batchTargets","InsertMediaDialog","BuildImageDialog","BatchCreateDialog","internalAddress","externalAddress","flags","SingleInstanceStatus","tick","networkSpeed","diskSpeed","sizeLabels","internalLabel","externalLabel","InstanceStatus","setInstance","speedReady","onGetStatusSuccess","memory_available","bytes_received","bytes_sent","bytes_written","bytes_read","receiveSpeed","sendSpeed","writeSpeed","readSpeed","IntervalInSecond","CreateSnapshotDialog","snapshotName","createInstanceSnapshot","DeleteSnapshotDialog","deleteInstanceSnapshot","RevertSnapshotDialog","onRevertFail","onRevertSuccess","restoreInstanceSnapshot","panel","grey","create","revert","realtime","Snapshots","snapshots","setSnapshots","selectedSnapshot","setSelectedSnapshot","revertDialogVisible","setRevertDialogVisible","buildChildrenNode","parent","dependent","nodes","node","isCurrent","reloadSnapshots","instanceName","queryInstanceSnapshots","rootName","rootNode","snapshotMap","dependentMap","is_root","is_current","backing","parentName","closeRevertDialog","onSelectSnapshot","getInstanceSnapshot","selectPanel","expanded","rootFolder","nodeToTree","nodeId","FolderIcon","DoubleArrowIcon","childrenNodes","child","TreeItem","snapshotTree","TreeView","defaultCollapseIcon","SubdirectoryArrowRightIcon","defaultExpandIcon","ChevronRightIcon","defaultEndIcon","defaultExpanded","tableData","create_time","panelButtons","RestoreIcon","pl","pr","ModifyNameDialog","currentName","newName","modifyInstanceName","ModifyCoresDialog","currentCores","newCores","modifyInstanceCores","ModifyMemoryDialog","currentMemory","currentLabel","newMemory","memoryInMB","sizeInBytes","modifyInstanceMemory","modifyInstanceAdminPassword","ModifyDiskDialog","currentDisk","diskIndex","newDisk","sizeInGB","resizeInstanceDisk","ShrinkDiskSizeDialog","onShrinkFail","onShrinkSuccess","immediate","shrinkInstanceDisk","ModifyCPUPriorityDialog","modifyInstancePriority","ModifyDiskIOPSDialog","modifyInstanceDiskIOPS","ModifyNetworkBandwidthDialog","modifyInstanceBandwidth","ResetMonitorSecretDialog","guestID","guestName","resetMonitorSecret","monitorAddress","monitorSecret","ethernetAddress","bandwidth","disabledWhenRunning","disabledWhenStopped","hide","extendDisk","shrinkDisk","resetSecret","Details","setGuest","setAdminPassword","secretVisiable","setSecretVisiable","modifyNameVisiable","setModifyNameVisible","modifyCoresVisiable","setModifyCoresVisible","modifyMemoryVisiable","setModifyMemoryVisible","modifyPasswordVisiable","setModifyPasswordVisible","modifyDiskSizeVisiable","setModifyDiskSizeVisible","shrinkDiskSizeVisiable","setShrinkDiskSizeVisible","modifyCPUPriorityVisiable","setModifyCPUPriorityVisible","modifyDiskIOPSVisiable","setModifyDiskIOPSVisible","modifyNetworkBandwidthVisiable","setModifyNetworkBandwidthVisible","resetSecretVisiable","setResetSecretVisible","setDiskIndex","reloadGuestConfig","closeModifyNameDialog","closeModifyCoresDialog","closeModifyMemoryDialog","closeModifyPasswordDialog","showModifyDiskSizeDialog","closeModifyDiskSizeDialog","showShrinkDiskSizeDialog","closeShrinkDiskSizeDialog","closeModifyCPUPriorityDialog","closeModifyDiskIOPSDialog","closeModifyNetworkBandwidthDialog","showResetSecretDialog","closeResetSecretDialog","setAutoStartSuccess","setAutoStartFail","disabledWhenRunningIcon","LockIcon","disabledWhenStoppedIcon","display_protocol","display_address","bandwidthLabel","adminPasswordOperators","VisibilityOffIcon","priorityLabel","ethernet_address","monitor_secret","AutorenewIcon","ZoomOutMapIcon","SystemUpdateAltIcon","_loop","currentIndex","allocated_address","setAutoStart","Container","ModifyDiskSizeDialog","ResetSecretDialog","allCells","allPools","keyword","notMatch","AllInstances","defaultPoolName","defaultCellName","setScope","setPools","setCells","offset","setOffset","setKeyword","keywordInput","setKeywordInput","totalCount","setTotalCount","_React$useState37","_React$useState38","_React$useState39","_React$useState40","_React$useState41","_React$useState42","_React$useState43","_React$useState44","_React$useState45","_React$useState46","_React$useState47","_React$useState48","_React$useState49","_React$useState50","_React$useState51","_React$useState52","clearState","limit","searchGuests","r","poolList","pagination","totalPages","currentPage","Pagination","page","boundaryCount","showFirstButton","showLastButton","cellOptions","poolSelector","cellSelector","ml","removeGuestSecurityRule","accept","reject","protocol","sourceAddress","targetPort","AddRuleDialog","actionOptions","to_port","addGuestSecurityRule","sourceModifyress","ModifyRuleDialog","modifyGuestSecurityRule","moveUp","moveDown","SystemTemplates","setData","remoeDialogVisible","getGuestSecurityPolicy","direction","moveUpGuestSecurityRule","moveDownGuestSecurityRule","defaultAction","default_action","changeGuestSecurityPolicyAction","rules","showModifyDialog","showRemoveDialog","ArrowDownwardIcon","ArrowUpwardIcon","from_address","buttonProps","customTabsStyle","cardTitleRTL","displayNone","tabsRoot","tabRootButton","tabSelected","tabWrapper","CustomTabs","setValue","headerColor","plainTabs","tabs","Tabs","indicator","scrollButtons","tabIcon","Tab","wrapper","tabName","tabContent","password2","nick","mail","CreateUserDialog","namePattern","createUser","ModifyUserDialog","getUser","modifyUser","DeleteUserDialog","deleteUser","UserTab","userList","setUserList","currentUser","setCurrentUser","reloadAllUsers","EditIcon","CreateIcon","AddGroupDialog","Set","add","rolename","roles","roleList","addGroup","ModifyGroupDialog","onGetGroupSuccess","getGroup","modifyGroup","RemoveGroupDialog","removeGroup","member","GroupTab","showMembers","setGroup","groupList","setGroupList","currentGroup","setCurrentGroup","reloadAllGroups","GroupIcon","AddMemberDialog","searchUsers","addGroupMember","RemoveMemberDialog","removeGroupMember","backButton","GroupMemberTab","onBack","memberList","setMemberList","currentMember","setCurrentMember","reloadAllMembers","queryGroupMembers","menu","AddRoleDialog","menus","menuList","addRole","ModifyRoleDialog","getRole","itemValue","modifyRole","RemoveRoleDialog","removeRole","RoleTab","setRoleList","currentRole","setCurrentRole","reloadAllRoles","MutableGroupTab","instanceDescription","diskDescription","media","mediaDescription","VisibilityRow","DeletePolicyDialog","policyID","deleteSecurityPolicyGroup","global","yes","no","format","CreatePolicyDialog","handleRequestSwitchChanged","isGlobal","_ref5","createSecurityPolicyGroup","ModifyPolicyDialog","getSecurityPolicyGroup","policy","modifySecurityPolicyGroup","PlaylistAddCheckIcon","removeSecurityPolicyRule","addSecurityPolicyRule","modifySecurityPolicyRule","setDatalist","getSecurityPolicyRules","moveUpSecurityPolicyRule","moveDownSecurityPolicyRule","entries","deleteLog","duration","time","day","month","year","LogRow","ps","dashboardRoutes","MultilineChartIcon","Route","exact","render","childrenProps","BlurOnIcon","failoverLabel","ViewQuiltIcon","ShareIcon","CloudIcon","SecurityPolicies","SaveIcon","uploadDialogVisible","setUploadDialogVisible","buildDialogVisible","setBuildDialogVisible","syncDialogVisible","setSyncDialogVisible","closeUploadDialog","closeBuildDialog","closeSyncDialog","GetAppIcon","downloadURL","createLabel","modifyLabel","modify_time","sizeLabel","Chip","noWrap","dataToNode","PublishIcon","CachedIcon","TuneIcon","created_time","modified_time","PolicyGroupList","SecurityRules","PeopleIcon","PersonIcon","ListAltIcon","BorderColorIcon","logList","setLogList","setQueryParams","pages","setPages","dateToString","date","paddingToTwoBytes","getMonth","getDate","getHours","getMinutes","getSeconds","reloadAllLogs","before","after","setDate","setMonth","setFullYear","queryLogs","logs","logID","handleLogChecked","durationOptions","durationRadioGroup","targetPage","underline","changeCurrentPage","instanceVisible","diskImageVisible","mediaImageVisible","reloadVisibility","instance_visible","disk_image_visible","media_image_visible","setVisiblities","appStyle","mainPanel","SwitchRoutes","firstPath","from","Admin","createRef","mobileOpen","setMobileOpen","resizeFunction","navigator","platform","PerfectScrollbar","suppressScrollX","suppressScrollY","document","body","addEventListener","destroy","removeEventListener","authorizedMenus","allRoutes","bgImage","ref","Navbar","getClasses","login","Login","nonce","errorMessage","systemReady","setSystemReady","notifyError","onLoginFail","onSystemError","onLoginSuccess","saveLoggedSession","handleLoginClick","generateNonce","possible","charAt","random","ready","PreviousKey","decodeURIComponent","errorBar","flexGrow","welcome","initial","InitialSystem","onInitialFail","onInitialSuccess","redirect","initialSystem","justify","VncDisplay","onFocusChanged","canvas","connection","setConnection","activateFocus","focus","credentials","clipViewport","focusOnClick","qualityLevel","conn","RFB","onEmergency","sendCtrlAltDel","onMouseOver","onMouseOut","blur","onMouseDown","sendKeys","activated","deactivated","ControlInstance","channel","setChannel","setFocus","initializing","setInitializing","onMonitorFail","openMonitorChannel","channelData","delegate","channelID","startsWith","hostURL","hostname","getMonitorURL","isActivated","KeyboardHideIcon","ErrorBoundary","constructor","super","hasError","errorStack","createBrowserHistory","mainTheme","createTheme","palette","main","LanguageProvider","langData","getLanguage","ThemeProvider","Router","Initial","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.851f2e9f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/login_background.327add31.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sidebar.18c01f03.jpg\";","module.exports = __webpack_public_path__ + \"static/media/nano_white.ad11d364.svg\";","/*!\n\n =========================================================\n * Material Dashboard React - v1.8.0 based on Material Dashboard - v1.2.0\n =========================================================\n\n * Product Page: http://www.creative-tim.com/product/material-dashboard-react\n * Copyright 2019 Creative Tim (http://www.creative-tim.com)\n * Licensed under MIT (https://github.com/creativetimofficial/material-dashboard-react/blob/master/LICENSE.md)\n\n =========================================================\n\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n */\n\n// ##############################\n// // // Function that converts from hex color to rgb color\n// // // Example: input = #9c27b0 => output = 156, 39, 176\n// // // Example: input = 9c27b0 => output = 156, 39, 176\n// // // Example: input = #999 => output = 153, 153, 153\n// // // Example: input = 999 => output = 153, 153, 153\n// #############################\nconst hexToRgb = input => {\n  input = input + \"\";\n  input = input.replace(\"#\", \"\");\n  let hexRegex = /[0-9A-Fa-f]/g;\n  if (!hexRegex.test(input) || (input.length !== 3 && input.length !== 6)) {\n    throw new Error(\"input is not a valid hex color.\");\n  }\n  if (input.length === 3) {\n    let first = input[0];\n    let second = input[1];\n    let last = input[2];\n    input = first + first + second + second + last + last;\n  }\n  input = input.toUpperCase(input);\n  let first = input[0] + input[1];\n  let second = input[2] + input[3];\n  let last = input[4] + input[5];\n  return (\n    parseInt(first, 16) +\n    \", \" +\n    parseInt(second, 16) +\n    \", \" +\n    parseInt(last, 16)\n  );\n};\n\n// ##############################\n// // // Variables - Styles that are used on more than one component\n// #############################\n\nconst drawerWidth = 260;\n\nconst transition = {\n  transition: \"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)\"\n};\n\nconst container = {\n  paddingRight: \"15px\",\n  paddingLeft: \"15px\",\n  marginRight: \"auto\",\n  marginLeft: \"auto\"\n};\n\nconst defaultFont = {\n  fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n  fontWeight: \"300\",\n  lineHeight: \"1.5em\"\n};\n\nconst primaryColor = [\"#9c27b0\", \"#ab47bc\", \"#8e24aa\", \"#af2cc5\"];\nconst warningColor = [\"#ff9800\", \"#ffa726\", \"#fb8c00\", \"#ffa21a\"];\nconst dangerColor = [\"#f44336\", \"#ef5350\", \"#e53935\", \"#f55a4e\"];\nconst successColor = [\"#4caf50\", \"#66bb6a\", \"#43a047\", \"#5cb860\"];\nconst infoColor = [\"#00acc1\", \"#26c6da\", \"#00acc1\", \"#00d3ee\"];\nconst roseColor = [\"#e91e63\", \"#ec407a\", \"#d81b60\", \"#eb3573\"];\nconst grayColor = [\n  \"#999\",\n  \"#777\",\n  \"#3C4858\",\n  \"#AAAAAA\",\n  \"#D2D2D2\",\n  \"#DDD\",\n  \"#b4b4b4\",\n  \"#555555\",\n  \"#333\",\n  \"#a9afbb\",\n  \"#eee\",\n  \"#e7e7e7\"\n];\nconst blackColor = \"#000\";\nconst whiteColor = \"#FFF\";\n\nconst boxShadow = {\n  boxShadow:\n    \"0 10px 30px -12px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.42), 0 4px 25px 0px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.12), 0 8px 10px -5px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.2)\"\n};\n\nconst primaryBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(primaryColor[0]) +\n    \",.4)\"\n};\nconst infoBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(infoColor[0]) +\n    \",.4)\"\n};\nconst successBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(successColor[0]) +\n    \",.4)\"\n};\nconst warningBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(warningColor[0]) +\n    \",.4)\"\n};\nconst dangerBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(dangerColor[0]) +\n    \",.4)\"\n};\nconst roseBoxShadow = {\n  boxShadow:\n    \"0 4px 20px 0 rgba(\" +\n    hexToRgb(blackColor) +\n    \",.14), 0 7px 10px -5px rgba(\" +\n    hexToRgb(roseColor[0]) +\n    \",.4)\"\n};\n\nconst warningCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + warningColor[1] + \", \" + warningColor[2] + \")\",\n  ...warningBoxShadow\n};\nconst successCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + successColor[1] + \", \" + successColor[2] + \")\",\n  ...successBoxShadow\n};\nconst dangerCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + dangerColor[1] + \", \" + dangerColor[2] + \")\",\n  ...dangerBoxShadow\n};\nconst infoCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + infoColor[1] + \", \" + infoColor[2] + \")\",\n  ...infoBoxShadow\n};\nconst primaryCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + primaryColor[1] + \", \" + primaryColor[2] + \")\",\n  ...primaryBoxShadow\n};\nconst roseCardHeader = {\n  background:\n    \"linear-gradient(60deg, \" + roseColor[1] + \", \" + roseColor[2] + \")\",\n  ...roseBoxShadow\n};\n\nconst cardActions = {\n  margin: \"0 20px 10px\",\n  paddingTop: \"10px\",\n  borderTop: \"1px solid \" + grayColor[10],\n  height: \"auto\",\n  ...defaultFont\n};\n\nconst cardHeader = {\n  margin: \"-20px 15px 0\",\n  borderRadius: \"3px\",\n  padding: \"15px\"\n};\n\nconst card = {\n  display: \"inline-block\",\n  position: \"relative\",\n  width: \"100%\",\n  margin: \"25px 0\",\n  boxShadow: \"0 1px 4px 0 rgba(\" + hexToRgb(blackColor) + \", 0.14)\",\n  borderRadius: \"3px\",\n  color: \"rgba(\" + hexToRgb(blackColor) + \", 0.87)\",\n  background: whiteColor\n};\n\nconst defaultBoxShadow = {\n  border: \"0\",\n  borderRadius: \"3px\",\n  boxShadow:\n    \"0 10px 20px -12px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.42), 0 3px 20px 0px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.12), 0 8px 10px -5px rgba(\" +\n    hexToRgb(blackColor) +\n    \", 0.2)\",\n  padding: \"10px 0\",\n  transition: \"all 150ms ease 0s\"\n};\n\nconst title = {\n  color: grayColor[2],\n  textDecoration: \"none\",\n  fontWeight: \"300\",\n  marginTop: \"30px\",\n  marginBottom: \"25px\",\n  minHeight: \"32px\",\n  fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n  \"& small\": {\n    color: grayColor[1],\n    fontWeight: \"400\",\n    lineHeight: \"1\"\n  }\n};\n\nconst cardTitle = {\n  ...title,\n  marginTop: \"0\",\n  marginBottom: \"3px\",\n  minHeight: \"auto\",\n  \"& a\": {\n    ...title,\n    marginTop: \".625rem\",\n    marginBottom: \"0.75rem\",\n    minHeight: \"auto\"\n  }\n};\n\nconst cardSubtitle = {\n  marginTop: \"-.375rem\"\n};\n\nconst cardLink = {\n  \"& + $cardLink\": {\n    marginLeft: \"1.25rem\"\n  }\n};\n\nexport {\n  hexToRgb,\n  //variables\n  drawerWidth,\n  transition,\n  container,\n  boxShadow,\n  card,\n  defaultFont,\n  primaryColor,\n  warningColor,\n  dangerColor,\n  successColor,\n  infoColor,\n  roseColor,\n  grayColor,\n  blackColor,\n  whiteColor,\n  primaryBoxShadow,\n  infoBoxShadow,\n  successBoxShadow,\n  warningBoxShadow,\n  dangerBoxShadow,\n  roseBoxShadow,\n  warningCardHeader,\n  successCardHeader,\n  dangerCardHeader,\n  infoCardHeader,\n  primaryCardHeader,\n  roseCardHeader,\n  cardActions,\n  cardHeader,\n  defaultBoxShadow,\n  title,\n  cardTitle,\n  cardSubtitle,\n  cardLink\n};\n","import {\n  defaultFont,\n  primaryColor,\n  infoColor,\n  successColor,\n  warningColor,\n  dangerColor,\n  grayColor\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst typographyStyle = {\n  defaultFontStyle: {\n    ...defaultFont,\n    fontSize: \"14px\"\n  },\n  defaultHeaderMargins: {\n    marginTop: \"20px\",\n    marginBottom: \"10px\"\n  },\n  quote: {\n    padding: \"10px 20px\",\n    margin: \"0 0 20px\",\n    fontSize: \"17.5px\",\n    borderLeft: \"5px solid \" + grayColor[10]\n  },\n  quoteText: {\n    margin: \"0 0 10px\",\n    fontStyle: \"italic\"\n  },\n  quoteAuthor: {\n    display: \"block\",\n    fontSize: \"80%\",\n    lineHeight: \"1.42857143\",\n    color: grayColor[1]\n  },\n  mutedText: {\n    color: grayColor[1]\n  },\n  primaryText: {\n    color: primaryColor[0]\n  },\n  infoText: {\n    color: infoColor[0]\n  },\n  successText: {\n    color: successColor[0]\n  },\n  warningText: {\n    color: warningColor[0]\n  },\n  dangerText: {\n    color: dangerColor[0]\n  }\n};\n\nexport default typographyStyle;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// core components\nimport styles from \"assets/jss/material-dashboard-react/components/typographyStyle.js\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function Danger(props) {\n  const classes = useStyles();\n  const { children } = props;\n  return (\n    <div className={classes.defaultFontStyle + \" \" + classes.dangerText}>\n      {children}\n    </div>\n  );\n}\n\nDanger.propTypes = {\n  children: PropTypes.node\n};\n","import {\n  grayColor,\n  primaryColor,\n  infoColor,\n  successColor,\n  warningColor,\n  dangerColor,\n  roseColor,\n  whiteColor,\n  blackColor,\n  hexToRgb\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst buttonStyle = {\n  button: {\n    minHeight: \"auto\",\n    minWidth: \"auto\",\n    backgroundColor: grayColor[0],\n    color: whiteColor,\n    boxShadow:\n      \"0 2px 2px 0 rgba(\" +\n      hexToRgb(grayColor[0]) +\n      \", 0.14), 0 3px 1px -2px rgba(\" +\n      hexToRgb(grayColor[0]) +\n      \", 0.2), 0 1px 5px 0 rgba(\" +\n      hexToRgb(grayColor[0]) +\n      \", 0.12)\",\n    border: \"none\",\n    borderRadius: \"3px\",\n    position: \"relative\",\n    padding: \"12px 30px\",\n    margin: \".3125rem 1px\",\n    fontSize: \"12px\",\n    fontWeight: \"400\",\n    textTransform: \"uppercase\",\n    letterSpacing: \"0\",\n    willChange: \"box-shadow, transform\",\n    transition:\n      \"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)\",\n    lineHeight: \"1.42857143\",\n    textAlign: \"center\",\n    whiteSpace: \"nowrap\",\n    verticalAlign: \"middle\",\n    touchAction: \"manipulation\",\n    cursor: \"pointer\",\n    \"&:hover,&:focus\": {\n      color: whiteColor,\n      backgroundColor: grayColor[0],\n      boxShadow:\n        \"0 14px 26px -12px rgba(\" +\n        hexToRgb(grayColor[0]) +\n        \", 0.42), 0 4px 23px 0px rgba(\" +\n        hexToRgb(blackColor) +\n        \", 0.12), 0 8px 10px -5px rgba(\" +\n        hexToRgb(grayColor[0]) +\n        \", 0.2)\"\n    },\n    \"& .fab,& .fas,& .far,& .fal, &.material-icons\": {\n      position: \"relative\",\n      display: \"inline-block\",\n      top: \"0\",\n      marginTop: \"-1em\",\n      marginBottom: \"-1em\",\n      fontSize: \"1.1rem\",\n      marginRight: \"4px\",\n      verticalAlign: \"middle\"\n    },\n    \"& svg\": {\n      position: \"relative\",\n      display: \"inline-block\",\n      top: \"0\",\n      width: \"18px\",\n      height: \"18px\",\n      marginRight: \"4px\",\n      verticalAlign: \"middle\"\n    },\n    \"&$justIcon\": {\n      \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\n        marginTop: \"0px\",\n        position: \"absolute\",\n        width: \"100%\",\n        transform: \"none\",\n        left: \"0px\",\n        top: \"0px\",\n        height: \"100%\",\n        lineHeight: \"41px\",\n        fontSize: \"20px\"\n      }\n    }\n  },\n  white: {\n    \"&,&:focus,&:hover\": {\n      backgroundColor: whiteColor,\n      color: grayColor[0]\n    }\n  },\n  rose: {\n    backgroundColor: roseColor[0],\n    boxShadow:\n      \"0 2px 2px 0 rgba(\" +\n      hexToRgb(roseColor[0]) +\n      \", 0.14), 0 3px 1px -2px rgba(\" +\n      hexToRgb(roseColor[0]) +\n      \", 0.2), 0 1px 5px 0 rgba(\" +\n      hexToRgb(roseColor[0]) +\n      \", 0.12)\",\n    \"&:hover,&:focus\": {\n      backgroundColor: roseColor[0],\n      boxShadow:\n        \"0 14px 26px -12px rgba(\" +\n        hexToRgb(roseColor[0]) +\n        \", 0.42), 0 4px 23px 0px rgba(\" +\n        hexToRgb(blackColor) +\n        \", 0.12), 0 8px 10px -5px rgba(\" +\n        hexToRgb(roseColor[0]) +\n        \", 0.2)\"\n    }\n  },\n  primary: {\n    backgroundColor: primaryColor[0],\n    boxShadow:\n      \"0 2px 2px 0 rgba(\" +\n      hexToRgb(primaryColor[0]) +\n      \", 0.14), 0 3px 1px -2px rgba(\" +\n      hexToRgb(primaryColor[0]) +\n      \", 0.2), 0 1px 5px 0 rgba(\" +\n      hexToRgb(primaryColor[0]) +\n      \", 0.12)\",\n    \"&:hover,&:focus\": {\n      backgroundColor: primaryColor[0],\n      boxShadow:\n        \"0 14px 26px -12px rgba(\" +\n        hexToRgb(primaryColor[0]) +\n        \", 0.42), 0 4px 23px 0px rgba(\" +\n        hexToRgb(blackColor) +\n        \", 0.12), 0 8px 10px -5px rgba(\" +\n        hexToRgb(primaryColor[0]) +\n        \", 0.2)\"\n    }\n  },\n  info: {\n    backgroundColor: infoColor[0],\n    boxShadow:\n      \"0 2px 2px 0 rgba(\" +\n      hexToRgb(infoColor[0]) +\n      \", 0.14), 0 3px 1px -2px rgba(\" +\n      hexToRgb(infoColor[0]) +\n      \", 0.2), 0 1px 5px 0 rgba(\" +\n      hexToRgb(infoColor[0]) +\n      \", 0.12)\",\n    \"&:hover,&:focus\": {\n      backgroundColor: infoColor[0],\n      boxShadow:\n        \"0 14px 26px -12px rgba(\" +\n        hexToRgb(infoColor[0]) +\n        \", 0.42), 0 4px 23px 0px rgba(\" +\n        hexToRgb(blackColor) +\n        \", 0.12), 0 8px 10px -5px rgba(\" +\n        hexToRgb(infoColor[0]) +\n        \", 0.2)\"\n    }\n  },\n  success: {\n    backgroundColor: successColor[0],\n    boxShadow:\n      \"0 2px 2px 0 rgba(\" +\n      hexToRgb(successColor[0]) +\n      \", 0.14), 0 3px 1px -2px rgba(\" +\n      hexToRgb(successColor[0]) +\n      \", 0.2), 0 1px 5px 0 rgba(\" +\n      hexToRgb(successColor[0]) +\n      \", 0.12)\",\n    \"&:hover,&:focus\": {\n      backgroundColor: successColor[0],\n      boxShadow:\n        \"0 14px 26px -12px rgba(\" +\n        hexToRgb(successColor[0]) +\n        \", 0.42), 0 4px 23px 0px rgba(\" +\n        hexToRgb(blackColor) +\n        \", 0.12), 0 8px 10px -5px rgba(\" +\n        hexToRgb(successColor[0]) +\n        \", 0.2)\"\n    }\n  },\n  warning: {\n    backgroundColor: warningColor[0],\n    boxShadow:\n      \"0 2px 2px 0 rgba(\" +\n      hexToRgb(warningColor[0]) +\n      \", 0.14), 0 3px 1px -2px rgba(\" +\n      hexToRgb(warningColor[0]) +\n      \", 0.2), 0 1px 5px 0 rgba(\" +\n      hexToRgb(warningColor[0]) +\n      \", 0.12)\",\n    \"&:hover,&:focus\": {\n      backgroundColor: warningColor[0],\n      boxShadow:\n        \"0 14px 26px -12px rgba(\" +\n        hexToRgb(warningColor[0]) +\n        \", 0.42), 0 4px 23px 0px rgba(\" +\n        hexToRgb(blackColor) +\n        \", 0.12), 0 8px 10px -5px rgba(\" +\n        hexToRgb(warningColor[0]) +\n        \", 0.2)\"\n    }\n  },\n  danger: {\n    backgroundColor: dangerColor[0],\n    boxShadow:\n      \"0 2px 2px 0 rgba(\" +\n      hexToRgb(dangerColor[0]) +\n      \", 0.14), 0 3px 1px -2px rgba(\" +\n      hexToRgb(dangerColor[0]) +\n      \", 0.2), 0 1px 5px 0 rgba(\" +\n      hexToRgb(dangerColor[0]) +\n      \", 0.12)\",\n    \"&:hover,&:focus\": {\n      backgroundColor: dangerColor[0],\n      boxShadow:\n        \"0 14px 26px -12px rgba(\" +\n        hexToRgb(dangerColor[0]) +\n        \", 0.42), 0 4px 23px 0px rgba(\" +\n        hexToRgb(blackColor) +\n        \", 0.12), 0 8px 10px -5px rgba(\" +\n        hexToRgb(dangerColor[0]) +\n        \", 0.2)\"\n    }\n  },\n  simple: {\n    \"&,&:focus,&:hover\": {\n      color: whiteColor,\n      background: \"transparent\",\n      boxShadow: \"none\"\n    },\n    \"&$rose\": {\n      \"&,&:focus,&:hover,&:visited\": {\n        color: roseColor[0]\n      }\n    },\n    \"&$primary\": {\n      \"&,&:focus,&:hover,&:visited\": {\n        color: primaryColor[0]\n      }\n    },\n    \"&$info\": {\n      \"&,&:focus,&:hover,&:visited\": {\n        color: infoColor[0]\n      }\n    },\n    \"&$success\": {\n      \"&,&:focus,&:hover,&:visited\": {\n        color: successColor[0]\n      }\n    },\n    \"&$warning\": {\n      \"&,&:focus,&:hover,&:visited\": {\n        color: warningColor[0]\n      }\n    },\n    \"&$danger\": {\n      \"&,&:focus,&:hover,&:visited\": {\n        color: dangerColor[0]\n      }\n    }\n  },\n  transparent: {\n    \"&,&:focus,&:hover\": {\n      color: \"inherit\",\n      background: \"transparent\",\n      boxShadow: \"none\"\n    }\n  },\n  disabled: {\n    opacity: \"0.65\",\n    pointerEvents: \"none\"\n  },\n  lg: {\n    padding: \"1.125rem 2.25rem\",\n    fontSize: \"0.875rem\",\n    lineHeight: \"1.333333\",\n    borderRadius: \"0.2rem\"\n  },\n  sm: {\n    padding: \"0.40625rem 1.25rem\",\n    fontSize: \"0.6875rem\",\n    lineHeight: \"1.5\",\n    borderRadius: \"0.2rem\"\n  },\n  round: {\n    borderRadius: \"30px\"\n  },\n  block: {\n    width: \"100% !important\"\n  },\n  link: {\n    \"&,&:hover,&:focus\": {\n      backgroundColor: \"transparent\",\n      color: grayColor[0],\n      boxShadow: \"none\"\n    }\n  },\n  justIcon: {\n    paddingLeft: \"12px\",\n    paddingRight: \"12px\",\n    fontSize: \"20px\",\n    height: \"41px\",\n    minWidth: \"41px\",\n    width: \"41px\",\n    \"& .fab,& .fas,& .far,& .fal,& svg,& .material-icons\": {\n      marginRight: \"0px\"\n    },\n    \"&$lg\": {\n      height: \"57px\",\n      minWidth: \"57px\",\n      width: \"57px\",\n      lineHeight: \"56px\",\n      \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\n        fontSize: \"32px\",\n        lineHeight: \"56px\"\n      },\n      \"& svg\": {\n        width: \"32px\",\n        height: \"32px\"\n      }\n    },\n    \"&$sm\": {\n      height: \"30px\",\n      minWidth: \"30px\",\n      width: \"30px\",\n      \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\n        fontSize: \"17px\",\n        lineHeight: \"29px\"\n      },\n      \"& svg\": {\n        width: \"17px\",\n        height: \"17px\"\n      }\n    }\n  }\n};\n\nexport default buttonStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n\n// material-ui components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\n\nimport styles from \"assets/jss/material-dashboard-react/components/buttonStyle.js\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function RegularButton(props) {\n  const classes = useStyles();\n  const {\n    color,\n    round,\n    children,\n    disabled,\n    simple,\n    size,\n    block,\n    link,\n    justIcon,\n    className,\n    muiClasses,\n    ...rest\n  } = props;\n  const btnClasses = classNames({\n    [classes.button]: true,\n    [classes[size]]: size,\n    [classes[color]]: color,\n    [classes.round]: round,\n    [classes.disabled]: disabled,\n    [classes.simple]: simple,\n    [classes.block]: block,\n    [classes.link]: link,\n    [classes.justIcon]: justIcon,\n    [className]: className\n  });\n  return (\n    <Button {...rest} classes={muiClasses} className={btnClasses}>\n      {children}\n    </Button>\n  );\n}\n\nRegularButton.propTypes = {\n  color: PropTypes.oneOf([\n    \"primary\",\n    \"info\",\n    \"success\",\n    \"warning\",\n    \"danger\",\n    \"rose\",\n    \"white\",\n    \"transparent\"\n  ]),\n  size: PropTypes.oneOf([\"sm\", \"lg\"]),\n  simple: PropTypes.bool,\n  round: PropTypes.bool,\n  disabled: PropTypes.bool,\n  block: PropTypes.bool,\n  link: PropTypes.bool,\n  justIcon: PropTypes.bool,\n  className: PropTypes.string,\n  // use this to pass the classes props from Material-UI\n  muiClasses: PropTypes.object,\n  children: PropTypes.node\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Switch from '@material-ui/core/Switch';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport TextField from '@material-ui/core/TextField';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from '@material-ui/core/Box';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Slider from '@material-ui/core/Slider';\n\nexport function InputComponent(props){\n  var { type, label, value, onChange, required, oneRow, disabled, options,\n    on, off, rows, step, maxStep, minStep, marks, helper, valueLabelFormat, valueLabelDisplay,\n    ...rest } = props;\n  let component;\n  switch (type) {\n    case \"text\":\n      component = (\n        <Box m={0} pt={2}>\n          <TextField\n            label={label}\n            onChange={onChange}\n            value={value}\n            margin=\"normal\"\n            required={required}\n            disabled={disabled}\n            helperText={helper}\n            fullWidth\n          />\n        </Box>\n      )\n      break;\n    case \"password\":\n      component = (\n        <Box m={0} pt={2}>\n          <TextField\n            label={label}\n            onChange={onChange}\n            value={value}\n            type=\"password\"\n            margin=\"normal\"\n            required={required}\n            disabled={disabled}\n            fullWidth\n          />\n        </Box>\n      )\n      break;\n    case \"file\":\n      component = (\n        <Box m={0} pt={2}>\n          <TextField\n            label={label}\n            onChange={onChange}\n            type=\"file\"\n            margin=\"normal\"\n            required={required}\n            disabled={disabled}\n            fullWidth\n          />\n        </Box>\n      )\n      break;\n    case \"textarea\":\n      // var { rows } = props;\n      if (rows < 2) {\n        rows = 3\n      }\n      component = (\n        <Box m={0} pt={2}>\n          <TextField\n            label={label}\n            onChange={onChange}\n            value={value}\n            margin=\"normal\"\n            required={required}\n            disabled={disabled}\n            rowsMax={rows}\n            multiline\n            fullWidth\n          />\n        </Box>\n      )\n      break;\n    case \"select\":\n      component = (\n        <Box m={0} pt={2}>\n          <InputLabel>{label}</InputLabel>\n          <Select\n            value={value}\n            onChange={onChange}\n            required={required}\n            disabled={disabled}\n            fullWidth\n          >\n            {\n              options.map((option, key) =>(\n                <MenuItem value={option.value} key={key} disabled={option.disabled}>{option.label}</MenuItem>\n              ))\n            }\n          </Select>\n        </Box>\n      )\n      break;\n    case \"radio\":\n      component = (\n        <Box m={0} pt={2}>\n          <FormControl component=\"fieldset\" fullWidth disabled={disabled} >\n            <FormLabel component=\"legend\">{label}</FormLabel>\n            <RadioGroup name=\"type\" value={value} onChange={onChange} row>\n              <Box display='flex' alignItems='center'>\n                {\n                  options.map((option, key) =>(\n                    <Box key={key}>\n                      <FormControlLabel value={option.value} control={<Radio />} label={option.label}/>\n                    </Box>\n                  ))\n                }\n              </Box>\n            </RadioGroup>\n          </FormControl>\n        </Box>\n      )\n      break;\n    case \"switch\":\n      // const { on, off } = props;\n      component = (\n        <Box m={0} pt={2}>\n          <InputLabel>{label}</InputLabel>\n          <Grid item>\n            {off}\n            <Switch\n              checked={value}\n              onChange={onChange}\n              color=\"primary\"\n            />\n            {on}\n          </Grid>\n        </Box>\n      )\n      break;\n    case \"checkbox\":\n      component = (\n        <Box m={0} pt={2}>\n          <FormControl component=\"fieldset\" fullWidth>\n            <FormLabel component=\"legend\">{label}</FormLabel>\n            <FormGroup>\n              <Grid container>\n                {\n                    options.map((option, key) => {\n                      const tagValue = option.value;\n                      const tagLabel = option.label;\n                      let checked;\n                      if (value.has(tagValue)){\n                        checked = value.get(tagValue);\n                      }else{\n                        checked = false;\n                      }\n                      return (\n                        <Grid item xs={6} sm={3} key={key}>\n                          <FormControlLabel\n                            control={<Checkbox checked={checked} onChange={onChange(tagValue)} value={tagValue}/>}\n                            label={tagLabel}\n                          />\n                        </Grid>\n                      )\n                    })\n                }\n              </Grid>\n            </FormGroup>\n          </FormControl>\n        </Box>\n      )\n      break;\n    case \"slider\":\n    // const { step, maxStep, minStep, marks } = props;\n      if (!valueLabelDisplay){\n        //default value\n        valueLabelDisplay = 'auto';\n      }\n      component = (\n        <Box m={0} pt={2}>\n          <FormLabel component=\"legend\">{label}</FormLabel>\n          <Slider\n            color=\"secondary\"\n            value={value}\n            max={maxStep}\n            min={minStep}\n            step={step}\n            valueLabelDisplay={valueLabelDisplay}\n            marks={marks}\n            onChange={onChange}\n            valueLabelFormat={valueLabelFormat}\n          />\n        </Box>\n      );\n      break;\n    default:\n      return <div/>;\n  }\n  var container = (\n    <Grid item {...rest}>\n      {component}\n    </Grid>\n  );\n\n  if (oneRow){\n    return (\n      <Grid item xs={12}>\n        {container}\n      </Grid>\n    );\n  }else{\n    return container;\n  }\n}\n\nInputComponent.propTypes = {\n  type: PropTypes.oneOf([\"text\", \"password\",\"textarea\", \"file\", \"select\", \"radio\", \"switch\", \"checkbox\", \"slider\"]).isRequired,\n  label: PropTypes.string.isRequired,\n  value: PropTypes.any,\n  onChange: PropTypes.func,\n  valueLabelFormat: PropTypes.func,\n  valueLabelDisplay: PropTypes.string,\n  required: PropTypes.bool,\n  oneRow: PropTypes.bool,\n  xs: PropTypes.number,\n  sm: PropTypes.number,\n  md: PropTypes.number,\n  lg: PropTypes.number,\n  xl: PropTypes.number,\n  on: PropTypes.string,\n  off: PropTypes.string,\n  rows: PropTypes.number,\n  step: PropTypes.number,\n  maxStep: PropTypes.number,\n  minStep: PropTypes.number,\n  marks: PropTypes.arrayOf(\n    PropTypes.shape({\n      label: PropTypes.string.isRequired,\n      value: PropTypes.any.isRequired,\n    })\n  ),\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      label: PropTypes.string.isRequired,\n      value: PropTypes.any.isRequired,\n      disabled: PropTypes.bool,\n    })\n  ),\n  helper: PropTypes.string,\n};\n\nexport default function InputList(props){\n  const { inputs } = props;\n  return (\n    <Grid container>\n      {\n        inputs.map((input, key) => (\n          <InputComponent key={key} {...input}/>\n        ))\n      }\n    </Grid>\n  )\n}\n","import React from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport InnerBackdrop from '@material-ui/core/Backdrop';\n\nconst useStyles = makeStyles(theme => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n}));\n\nexport default function Backdrop(props){\n  const classes = useStyles();\n  const {children, ...rest} = props;\n  return (\n    <InnerBackdrop className={classes.backdrop} {...rest}>\n      {children}\n    </InnerBackdrop>\n  )\n}\n","import React from \"react\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\n\nconst styles = {\n  grid: {\n    padding: \"0 15px !important\"\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nexport default function GridItem(props) {\n  const classes = useStyles();\n  const { children, ...rest } = props;\n  return (\n    <Grid item {...rest} className={classes.grid}>\n      {children}\n    </Grid>\n  );\n}\n\nGridItem.propTypes = {\n  children: PropTypes.node\n};\n","import {\n  defaultFont,\n  primaryBoxShadow,\n  infoBoxShadow,\n  successBoxShadow,\n  warningBoxShadow,\n  dangerBoxShadow,\n  roseBoxShadow,\n  whiteColor,\n  blackColor,\n  grayColor,\n  infoColor,\n  successColor,\n  dangerColor,\n  roseColor,\n  primaryColor,\n  warningColor,\n  hexToRgb\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst snackbarContentStyle = {\n  root: {\n    ...defaultFont,\n    flexWrap: \"unset\",\n    position: \"relative\",\n    padding: \"20px 15px\",\n    lineHeight: \"20px\",\n    marginBottom: \"20px\",\n    fontSize: \"14px\",\n    backgroundColor: whiteColor,\n    color: grayColor[7],\n    borderRadius: \"3px\",\n    minWidth: \"unset\",\n    maxWidth: \"unset\",\n    boxShadow:\n      \"0 12px 20px -10px rgba(\" +\n      hexToRgb(whiteColor) +\n      \", 0.28), 0 4px 20px 0px rgba(\" +\n      hexToRgb(blackColor) +\n      \", 0.12), 0 7px 8px -5px rgba(\" +\n      hexToRgb(whiteColor) +\n      \", 0.2)\"\n  },\n  top20: {\n    top: \"20px\"\n  },\n  top40: {\n    top: \"40px\"\n  },\n  info: {\n    backgroundColor: infoColor[3],\n    color: whiteColor,\n    ...infoBoxShadow\n  },\n  success: {\n    backgroundColor: successColor[3],\n    color: whiteColor,\n    ...successBoxShadow\n  },\n  warning: {\n    backgroundColor: warningColor[3],\n    color: whiteColor,\n    ...warningBoxShadow\n  },\n  danger: {\n    backgroundColor: dangerColor[3],\n    color: whiteColor,\n    ...dangerBoxShadow\n  },\n  primary: {\n    backgroundColor: primaryColor[3],\n    color: whiteColor,\n    ...primaryBoxShadow\n  },\n  rose: {\n    backgroundColor: roseColor[3],\n    color: whiteColor,\n    ...roseBoxShadow\n  },\n  message: {\n    padding: \"0\",\n    display: \"block\",\n    maxWidth: \"89%\"\n  },\n  close: {\n    width: \"11px\",\n    height: \"11px\"\n  },\n  iconButton: {\n    width: \"24px\",\n    height: \"24px\",\n    padding: \"0px\"\n  },\n  icon: {\n    display: \"block\",\n    left: \"15px\",\n    position: \"absolute\",\n    top: \"50%\",\n    marginTop: \"-15px\",\n    width: \"30px\",\n    height: \"30px\"\n  },\n  infoIcon: {\n    color: infoColor[3]\n  },\n  successIcon: {\n    color: successColor[3]\n  },\n  warningIcon: {\n    color: warningColor[3]\n  },\n  dangerIcon: {\n    color: dangerColor[3]\n  },\n  primaryIcon: {\n    color: primaryColor[3]\n  },\n  roseIcon: {\n    color: roseColor[3]\n  },\n  iconMessage: {\n    paddingLeft: \"50px\",\n    display: \"block\"\n  },\n  actionRTL: {\n    marginLeft: \"-8px\",\n    marginRight: \"auto\"\n  }\n};\n\nexport default snackbarContentStyle;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Snack from \"@material-ui/core/SnackbarContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\n// @material-ui/icons\nimport Close from \"@material-ui/icons/Close\";\n// core components\nimport styles from \"assets/jss/material-dashboard-react/components/snackbarContentStyle.js\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function SnackbarContent(props) {\n  const classes = useStyles();\n  const { message, color, close, icon, rtlActive } = props;\n  var action = [];\n  const messageClasses = classNames({\n    [classes.iconMessage]: icon !== undefined\n  });\n  if (close !== undefined) {\n    action = [\n      <IconButton\n        className={classes.iconButton}\n        key=\"close\"\n        aria-label=\"Close\"\n        color=\"inherit\"\n      >\n        <Close className={classes.close} />\n      </IconButton>\n    ];\n  }\n  return (\n    <Snack\n      message={\n        <div>\n          {icon !== undefined ? <props.icon className={classes.icon} /> : null}\n          <span className={messageClasses}>{message}</span>\n        </div>\n      }\n      classes={{\n        root: classes.root + \" \" + classes[color],\n        message: classes.message,\n        action: classNames({ [classes.actionRTL]: rtlActive })\n      }}\n      action={action}\n    />\n  );\n}\n\nSnackbarContent.propTypes = {\n  message: PropTypes.node.isRequired,\n  color: PropTypes.oneOf([\"info\", \"success\", \"warning\", \"danger\", \"primary\"]),\n  close: PropTypes.bool,\n  icon: PropTypes.object,\n  rtlActive: PropTypes.bool\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Backdrop from 'components/Backdrop/Backdrop';\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\n\nexport default function CustomDialog(props){\n  const { open, size, operatable, promptPosition, prompt, title, content, buttons, hideBackdrop} = props;\n  let promptElement;\n  if (prompt){\n    promptElement = (\n      <GridItem xs={12}>\n        <SnackbarContent message={prompt} color=\"warning\"/>\n      </GridItem>\n    );\n  }else{\n    promptElement = <GridItem xs={12}/>;\n  }\n  let contentElement;\n  if ('top' === promptPosition){\n    contentElement = (\n        <Grid container>\n          {promptElement}\n          <GridItem xs={12}>\n            {content}\n          </GridItem>\n        </Grid>\n    );\n  }else{\n    contentElement = (\n        <Grid container>\n          <GridItem xs={12}>\n            {content}\n          </GridItem>\n          {promptElement}\n        </Grid>\n    );\n  }\n  var operates = [];\n  if (operatable){\n    buttons.forEach((button, key) => {\n      operates.push(\n        <Button onClick={button.onClick} color={button.color} key={key}>\n          {button.label}\n        </Button>\n      )\n    });\n  }\n  return (\n    <Dialog\n      open={open}\n      maxWidth={size}\n      fullWidth\n    >\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <Backdrop open={!hideBackdrop && !operatable}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n        {contentElement}\n      </DialogContent>\n      <DialogActions>\n        <Box display=\"block\" displayPrint=\"none\">\n          {operates}\n        </Box>\n      </DialogActions>\n    </Dialog>\n  )\n};\n","import React from \"react\";\nimport { Redirect } from 'react-router-dom';\n// import { Redirect } from \"@reach/router\";\n\nconst SessionTagName = 'nano-session-data';\nconst LanguageTagName = 'nano-language-data';\n\nexport function saveLoggedSession(session){\n  localStorage.setItem(SessionTagName, JSON.stringify(session));\n}\n\nexport function getLoggedSession(){\n  var sessionData = localStorage.getItem(SessionTagName);\n  if (!sessionData || 0 === sessionData.length){\n    //no session available\n    return null;\n  }\n  var s = JSON.parse(sessionData);\n  if (!s.id){\n    return null;\n  }\n  return s;\n}\n\nexport function logoutSession(){\n  localStorage.setItem(SessionTagName, \"\");\n}\n\n//KiB based\nexport function bandwidthToString(bandwidthInKiB){\n  const MiB = 1 << 10;\n  const GiB = 1 << 20;\n  if (bandwidthInKiB >= GiB){\n    return (bandwidthInKiB / GiB).toString() + ' GiB/s';\n  }else if (bandwidthInKiB >= MiB){\n    return (bandwidthInKiB / MiB).toString() + ' MiB/s';\n  }else{\n    return bandwidthInKiB.toString() + ' KiB/s';\n  }\n}\n\n//MiB based\nexport function quotaToString(quotaInMiB){\n  const GiB = 1 << 10;\n  if (quotaInMiB >= GiB){\n    return (quotaInMiB / GiB).toString() + ' GiB';\n  }else{\n    return quotaInMiB.toString() + ' MiB';\n  }\n}\n\n//MiB based\nexport function usageToString(used, quota){\n  const GiB = 1 << 10;\n  if (quota >= GiB){\n    return (used / GiB).toFixed(2) + ' / ' + (quota / GiB).toString() + ' GiB';\n  }else{\n    return used.toFixed(2) + ' / ' + quota.toString() + ' MiB';\n  }\n}\n\nexport function redirectToLogin(){\n  // return  <Redirect to={'/login/?previous=' + encodeURIComponent(window.location.pathname)} noThrow/>;\n  return  <Redirect to={'/login/?previous=' + encodeURIComponent(window.location.pathname + window.location.search)}/>;\n}\n\nexport function getLanguage(){\n  const defaultLang = 'cn';\n  var langData = localStorage.getItem(LanguageTagName);\n  if (!langData || 0 === langData.length){\n    return defaultLang;\n  }\n  var lang = JSON.parse(langData);\n  if (!lang.lang){\n    return defaultLang;\n  }\n  return lang.lang;\n}\n\nexport function changeLanguage(lang){\n  var configData = localStorage.getItem(LanguageTagName);\n  if (!configData || 0 === configData.length){\n    return false;\n  }\n  var config = JSON.parse(configData);\n  if (!config.lang){\n    return false;\n  }\n  if (config.lang === lang){\n    return true;\n  }\n  config.lang = lang;\n  localStorage.setItem(LanguageTagName, JSON.stringify(config));\n  return true;\n}\n\nexport function bytesToString(bytes){\n  const KiB = 1 << 10;\n  const MiB = 1 << 20;\n  const GiB = 1 << 30;\n  const toString = (size, radix, unit) =>{\n    if (0 === size % radix){\n      return (size / radix).toString() + ' ' + unit;\n    }else{\n      return (size / radix).toFixed(2) + ' ' + unit;\n    }\n  }\n  if (bytes >= GiB){\n    return toString(bytes, GiB, 'GB');\n  }else if (bytes >= MiB){\n    return toString(bytes, MiB, 'MB');\n  }else if (bytes >= KiB){\n    return toString(bytes, KiB, 'KB');\n  }else{\n    return bytes.toString() + ' Bytes';\n  }\n}\n\nexport function bpsToString(bytes){\n  const KiB = 1 << 7;\n  const MiB = 1 << 17;\n  const GiB = 1 << 27;\n  const toString = (size, radix, unit) =>{\n    if (0 === size % radix){\n      return (size / radix).toString() + ' ' + unit;\n    }else{\n      return (size / radix).toFixed(2) + ' ' + unit;\n    }\n  }\n  if (bytes >= GiB){\n    return toString(bytes, GiB, 'Gb/s');\n  }else if (bytes >= MiB){\n    return toString(bytes, MiB, 'Mb/s');\n  }else if (bytes >= KiB){\n    return toString(bytes, KiB, 'Kb/s');\n  }else{\n    return bytes.toString() + ' Bits/s';\n  }\n}\n\nexport function truncateToRadix(number, radix){\n  const base = Math.pow(10, radix);\n  return Math.round(number * base) / base;\n}\n","import axios from \"axios\";\nimport { getLoggedSession } from 'utils.js';\nimport npmPackage from '../package.json';\n\n// const apiRoot = 'http://192.168.1.31:5870/api/v1';\n// const apiRoot = '/api/v1';\nconst HeaderNanoSession = \"Nano-Session\";\nconst currentVersion = npmPackage.version;\nlet apiRoot = '/api/v1';\nif (npmPackage.service && npmPackage.service.host) {\n  if (npmPackage.service.port) {\n    apiRoot = `http://${npmPackage.service.host}:${npmPackage.service.port}/api/v1`;\n  } else {\n    apiRoot = `http://${npmPackage.service.host}/api/v1`;\n  }\n}\n\nexport function getCurrentVersion() {\n  return currentVersion;\n}\n\nexport function getAllMenus(lang) {\n  const i18n = {\n    'en': {\n      dashboard: 'Dashboard',\n      computePool: 'Compute Pools',\n      addressPool: 'Address Pools',\n      storagePool: 'Storage Pools',\n      instance: 'Instances',\n      diskImage: 'Disk Image',\n      mediaImage: 'Media Image',\n      systemTempaltes: 'System Templates',\n      securityPolicies: 'Security Policies',\n      user: 'Users',\n      log: 'Logs',\n      visibility: 'Resource Visibility',\n    },\n    'cn': {\n      dashboard: '仪表盘',\n      computePool: '计算资源池',\n      addressPool: '地址资源池',\n      storagePool: '存储资源池',\n      instance: '云主机实例',\n      diskImage: '磁盘镜像',\n      mediaImage: '光盘镜像',\n      systemTempaltes: '系统模板',\n      securityPolicies: '安全策略组',\n      user: '用户',\n      log: '日志',\n      visibility: '资源可见性',\n    },\n  }\n  const texts = i18n[lang];\n  const menus = [\n    {\n      value: 'dashboard',\n      label: texts.dashboard,\n    },\n    {\n      value: 'compute_pool',\n      label: texts.computePool,\n    },\n    {\n      value: 'address_pool',\n      label: texts.addressPool,\n    },\n    {\n      value: 'storage_pool',\n      label: texts.storagePool,\n    },\n    {\n      value: 'instance',\n      label: texts.instance,\n    },\n    {\n      value: 'image',\n      label: texts.diskImage,\n    },\n    {\n      value: 'media',\n      label: texts.mediaImage,\n    },\n    {\n      value: 'templates',\n      label: texts.systemTempaltes,\n    },\n    {\n      value: 'policies',\n      label: texts.securityPolicies,\n    },\n    {\n      value: 'user',\n      label: texts.user,\n    },\n    {\n      value: 'log',\n      label: texts.log,\n    },\n    {\n      value: 'visibility',\n      label: texts.visibility,\n    },\n  ];\n  return menus;\n}\n\nexport function loginUser(name, password, onSuccess, onFail) {\n  const generateNonce = () => {\n    const length = 16;\n    var text = \"\";\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (var i = 0; i < length; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text;\n  };\n  var request = {\n    user: name,\n    password: password,\n    nonce: generateNonce(),\n  };\n  var url = '/sessions/';\n  nakePostRequest(url, request, onSuccess, onFail);\n}\n\nexport function updateSession(onFail) {\n  var session = getLoggedSession();\n  if (null == session) {\n    onFail('session expired');\n    return;\n  }\n  var url = apiRoot + '/sessions/' + session.id;\n  var headers = {\n    [HeaderNanoSession]: session.id,\n  };\n  axios.put(url, \"\", {\n    headers: headers,\n  })\n    .then(({ data }) => {\n      if (0 !== data.error_code) {\n        onFail(data.message);\n        return\n      }\n      return;\n    })\n    .catch((e) => {\n      onFail(e.message);\n    })\n}\n\nexport function openMonitorChannel(instanceID, onSuccess, onFail) {\n  const url = '/monitor_channels/';\n  const request = {\n    guest: instanceID,\n  };\n  const onOperateSuccess = data => {\n    onSuccess(data.id, data.password);\n  }\n  postRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function getMonitorURL(channelID) {\n  const WSPrefix = \"ws://\";\n  const HTTPPrefix = \"http://\";\n  const HTTPSPrefix = \"https://\";\n  var url = apiRoot + '/monitor_channels/' + channelID;\n  if (url.startsWith(WSPrefix)) {\n    return url\n  } else if (url.startsWith(HTTPPrefix)) {\n    return url.replace(HTTPPrefix, WSPrefix);\n  } else if (url.startsWith(HTTPSPrefix)) {\n    return url.replace(HTTPSPrefix, WSPrefix);\n  } else {\n    //plain url\n    var hostURL = WSPrefix + window.location.hostname;\n    if (window.location.port) {\n      hostURL += \":\" + window.location.port;\n    }\n    return hostURL + url;\n  }\n}\n\n//Zone status\nexport function getZoneStatus(onSuccess, onFail) {\n  getRequest('/compute_zone_status/', onSuccess, onFail);\n}\n\n//Compute Pool Status\nexport function getAllComputePoolStatus(onSuccess, onFail) {\n  getRequest('/compute_pool_status/', onSuccess, onFail);\n}\n\n//Compute Cell Status\nexport function queryComputeCellStatus(poolName, onSuccess, onFail) {\n  getRequest('/compute_cell_status/' + poolName, onSuccess, onFail);\n}\n\n//Compute pools\nexport function getAllComputePools(onSuccess, onFail) {\n  getRequest('/compute_pools/', onSuccess, onFail);\n}\n\nexport function getComputePool(poolName, onSuccess, onFail) {\n  var url = '/compute_pools/' + poolName;\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function createComputePool(poolName, storage, network, failover, onSuccess, onFail) {\n  var url = '/compute_pools/' + poolName;\n  var request = {\n    storage: storage,\n    network: network,\n    failover: failover,\n  }\n  const onCreateSuccess = () => {\n    onSuccess(poolName);\n  }\n  postRequest(url, request, onCreateSuccess, onFail);\n}\n\nexport function modifyComputePool(poolName, storage, network, failover, onSuccess, onFail) {\n  var url = '/compute_pools/' + poolName;\n  var request = {\n    storage: storage,\n    network: network,\n    failover: failover,\n  }\n  const onModifySuccess = () => {\n    onSuccess(poolName);\n  }\n  putRequest(url, request, onModifySuccess, onFail);\n}\n\nexport function deleteComputePool(poolName, onSuccess, onFail) {\n  const onDeleteSuccess = () => {\n    onSuccess(poolName);\n  }\n  const onDeleteFail = (msg) => {\n    onFail('delete compute pool \"' + poolName + '\" fail: ' + msg);\n  }\n  deleteRequest('/compute_pools/' + poolName, onDeleteSuccess, onDeleteFail);\n}\n\n//compute cells\nexport function queryUnallocatedComputeCells(onSuccess, onFail) {\n  getRequest('/compute_pool_cells/', onSuccess, onFail);\n}\n\nexport function queryComputeCellsInPool(poolName, onSuccess, onFail) {\n  var url = '/compute_pool_cells/' + poolName;\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function addComputeCell(poolName, cellName, onSuccess, onFail) {\n  var url = '/compute_pool_cells/' + poolName + '/' + cellName;\n  const onAddSuccess = () => {\n    onSuccess(poolName, cellName);\n  }\n  postRequest(url, \"\", onAddSuccess, onFail);\n}\n\nexport function modifyComputeCell(poolName, cellName, enable, onSuccess, onFail) {\n  var url = '/compute_pool_cells/' + poolName + '/' + cellName;\n  var request = {\n    enable: enable,\n  }\n  const onModifySuccess = () => {\n    onSuccess(poolName, cellName, enable);\n  }\n  putRequest(url, request, onModifySuccess, onFail);\n}\n\nexport function removeComputeCell(poolName, cellName, onSuccess, onFail) {\n  var url = '/compute_pool_cells/' + poolName + '/' + cellName;\n  const onRemoveSuccess = () => {\n    onSuccess(poolName, cellName);\n  }\n  const onRemoveFail = (msg) => {\n    onFail('remove cell \"' + cellName + '\" from pool \"' + poolName + '\" fail: ' + msg);\n  }\n  deleteRequest(url, onRemoveSuccess, onRemoveFail);\n}\n\nexport function getComputeCell(poolName, cellName, onSuccess, onFail) {\n  var url = '/compute_pool_cells/' + poolName + '/' + cellName;\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function queryComputeCellStorages(poolName, cellName, onSuccess, onFail) {\n  const url = '/compute_cell_status/' + poolName + '/' + cellName + \"/storages/\";\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function changeComputeCellStorage(poolName, cellName, pathName, onSuccess, onFail) {\n  const url = '/compute_cell_status/' + poolName + '/' + cellName + \"/storages/\";\n  var payload = {\n    default: pathName,\n  };\n  const onOperateSuccess = () => {\n    onSuccess(cellName, poolName);\n  }\n  putRequest(url, payload, onOperateSuccess, onFail)\n}\n\n//Storage Pools\nexport function getAllStoragePools(onSuccess, onFail) {\n  getRequest('/storage_pools/', onSuccess, onFail);\n}\n\nexport function getStoragePool(name, onSuccess, onFail) {\n  getRequest('/storage_pools/' + name, onSuccess, onFail);\n}\n\nexport function createStoragePool(name, type, host, target, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(name);\n  }\n  var request = {\n    type: type,\n    host: host,\n    target: target,\n  }\n  postRequest('/storage_pools/' + name, request, onOperateSuccess, onFail);\n}\n\nexport function modifyStoragePool(name, type, host, target, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(name);\n  }\n  var request = {\n    type: type,\n    host: host,\n    target: target,\n  }\n  putRequest('/storage_pools/' + name, request, onOperateSuccess, onFail);\n}\n\nexport function deleteStoragePool(name, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(name);\n  }\n  deleteRequest('/storage_pools/' + name, onOperateSuccess, onFail);\n}\n\n//Network Pools\nexport function getAllNetworkPools(onSuccess, onFail) {\n  getRequest('/address_pools/', onSuccess, onFail);\n}\n\nexport function getNetworkPool(name, onSuccess, onFail) {\n  getRequest('/address_pools/' + name, onSuccess, onFail);\n}\n\nexport function createNetworkPool(name, gateway, provider, dnsList, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(name);\n  }\n  var request = {\n    gateway: gateway,\n    provider: provider,\n    dns: dnsList,\n  }\n  postRequest('/address_pools/' + name, request, onOperateSuccess, onFail);\n}\n\nexport function modifyNetworkPool(name, gateway, provider, dnsList, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(name);\n  }\n  var request = {\n    gateway: gateway,\n    provider: provider,\n    dns: dnsList,\n  }\n  putRequest('/address_pools/' + name, request, onOperateSuccess, onFail);\n}\n\nexport function deleteNetworkPool(name, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(name);\n  }\n  deleteRequest('/address_pools/' + name, onOperateSuccess, onFail);\n}\n\nexport function queryAddressRanges(name, rangeType, onSuccess, onFail) {\n  getRequest('/address_pools/' + name + '/' + rangeType + '/ranges/', onSuccess, onFail);\n}\n\nexport function getAddressRangeStatus(poolName, rangeType, startAddress, onSuccess, onFail) {\n  getRequest('/address_pools/' + poolName + '/' + rangeType + '/ranges/' + startAddress, onSuccess, onFail);\n}\n\nexport function addAddressRange(poolName, rangeType, startAddress, endAddress, mask, onSuccess, onFail) {\n  const url = '/address_pools/' + poolName + '/' + rangeType + '/ranges/' + startAddress;\n  const request = {\n    end: endAddress,\n    netmask: mask,\n  }\n  const onOperateSuccess = () => {\n    onSuccess(startAddress, poolName);\n  }\n  postRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function removeAddressRange(poolName, rangeType, startAddress, onSuccess, onFail) {\n  const url = '/address_pools/' + poolName + '/' + rangeType + '/ranges/' + startAddress;\n  const onOperateSuccess = () => {\n    onSuccess(startAddress, poolName);\n  }\n  deleteRequest(url, onOperateSuccess, onFail);\n}\n\n//Instances\nexport function searchGuests(limit, offset, poolName, cellName, keyword, onSuccess, onFail) {\n  const url = `/search/guests/`;\n  const defaultLimit = 20;\n  var request = {};\n  if (limit) {\n    request.limit = limit;\n  } else {\n    request.limit = defaultLimit;\n  }\n  if (offset) {\n    request.offset = offset;\n  }\n  if (poolName) {\n    request.pool = poolName;\n  }\n  if (cellName) {\n    request.cell = cellName;\n  }\n  if (keyword) {\n    request.keyword = keyword;\n  }\n  postRequest(url, request, onSuccess, onFail);\n}\n\nexport function searchInstances(poolName, cellName, onSuccess, onFail) {\n  if (!poolName) {\n    onFail('must specify pool name');\n    return;\n  }\n  var url = '/guest_search/?pool=' + poolName;\n  if (cellName) {\n    url += '&cell=' + cellName;\n  }\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function getInstanceConfig(id, onSuccess, onFail, onCreating) {\n  const onGetSuccess = (status, data) => {\n    if (201 === status) {\n      const { progress, name, created } = data;\n      onCreating(progress, name, created);\n    } else if (200 === status) {\n      onSuccess(data);\n    } else {\n      onFail('unexpected status ' + status.toString());\n    }\n  }\n  getRequestWithStatus('/guests/' + id, onGetSuccess, onFail);\n}\n\nexport function getInstanceStatus(id, onSuccess, onFail, onCreating) {\n  const onGetSuccess = (status, data) => {\n    if (201 === status) {\n      const { progress, name, created } = data;\n      onCreating(progress, name, created);\n    } else if (200 === status) {\n      onSuccess(data);\n    } else {\n      onFail('unexpected status ' + status.toString());\n    }\n  }\n  getRequestWithStatus('/instances/' + id, onGetSuccess, onFail);\n}\n\nexport function createInstance(name, pool, cores, memory, disks, autoStartup,\n  fromImage, systemVersion, modules, cloudInit, qos, security_policy, onAccept, onSuccess, onFail) {\n  var session = getLoggedSession();\n  if (null === session) {\n    onFail('session expired');\n    return;\n  }\n  var request = {\n    name: name,\n    owner: session.user,\n    group: session.group,\n    pool: pool,\n    cores: cores,\n    memory: memory,\n    disks: disks,\n    auto_start: autoStartup,\n    from_image: fromImage,\n    template: systemVersion,\n  };\n  if (modules) {\n    request.modules = modules;\n  }\n  if (cloudInit) {\n    request.cloud_init = cloudInit;\n  }\n  if (qos) {\n    request.qos = qos;\n  }\n  if (security_policy) {\n    request.security_policy_group = security_policy;\n  }\n  const onCreateResponse = (status, data) => {\n    if (202 === status) {\n      onAccept(data.id);\n    } else if (200 === status) {\n      onSuccess(data.id);\n    } else {\n      onFail('unexpected status ' + status.toString());\n    }\n  }\n  postRequestWithStatus('/guests/', request, onCreateResponse, onFail);\n}\n\nexport function deleteInstance(id, onSuccess, onFail) {\n  var request = {\n    force: false,\n  }\n  deleteRequestWithPayload('/guests/' + id, request, onSuccess, onFail);\n}\n\nexport function startInstance(id, onSuccess, onFail) {\n  const onStartSuccess = () => {\n    onSuccess(id);\n  }\n  postRequest('/instances/' + id, {}, onStartSuccess, onFail);\n}\n\nexport function startInstanceWithMedia(instanceID, imageID, onSuccess, onFail) {\n  const onStartSuccess = () => {\n    onSuccess(instanceID);\n  }\n  const request = {\n    from_media: true,\n    source: imageID,\n  }\n  postRequest('/instances/' + instanceID, request, onStartSuccess, onFail);\n}\n\nexport function insertMedia(instanceID, imageID, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(instanceID);\n  }\n  const request = {\n    source: imageID,\n  }\n  postRequest('/instances/' + instanceID + '/media', request, onOperateSuccess, onFail);\n}\n\nexport function ejectMedia(instanceID, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(instanceID);\n  }\n  deleteRequest('/instances/' + instanceID + '/media', onOperateSuccess, onFail);\n}\n\nexport function stopInstance(id, onSuccess, onFail) {\n  const onStopSuccess = () => {\n    onSuccess(id);\n  }\n  var payload = {\n    reboot: false,\n    force: false,\n  }\n  deleteRequestWithPayload('/instances/' + id, payload, onStopSuccess, onFail);\n}\n\nexport function forceStopInstance(id, onSuccess, onFail) {\n  const onStopSuccess = () => {\n    onSuccess(id);\n  }\n  var payload = {\n    reboot: false,\n    force: true,\n  }\n  deleteRequestWithPayload('/instances/' + id, payload, onStopSuccess, onFail);\n}\n\nexport function restartInstance(id, onSuccess, onFail) {\n  const onRestartSuccess = () => {\n    onSuccess(id);\n  }\n  var payload = {\n    reboot: true,\n    force: false,\n  }\n  deleteRequestWithPayload('/instances/' + id, payload, onRestartSuccess, onFail);\n}\n\nexport function resetInstance(id, onSuccess, onFail) {\n  const onRestartSuccess = () => {\n    onSuccess(id);\n  }\n  var payload = {\n    reboot: true,\n    force: true,\n  }\n  deleteRequestWithPayload('/instances/' + id, payload, onRestartSuccess, onFail);\n}\n\nexport function resetSystem(instanceID, imageID, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(instanceID);\n  }\n  const request = {\n    from_image: imageID,\n  }\n  putRequest('/guests/' + instanceID + '/system/', request, onOperateSuccess, onFail);\n}\n\nexport function resetMonitorSecret(instanceID, onSuccess, onFail) {\n  const url = \"/guests/\" + instanceID + \"/monitor/secret\";\n  const onOperateSuccess = () => {\n    onSuccess(instanceID);\n  }\n  putRequest(url, \"\", onOperateSuccess, onFail);\n}\n\nexport function modifyInstanceName(instanceID, name, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(name, instanceID);\n  }\n  const request = {\n    name: name,\n  }\n  putRequest('/guests/' + instanceID + '/name/', request, onOperateSuccess, onFail);\n}\n\nexport function modifyInstanceCores(instanceID, cores, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(cores, instanceID);\n  }\n  const request = {\n    cores: cores,\n  }\n  putRequest('/guests/' + instanceID + '/cores', request, onOperateSuccess, onFail);\n}\n\nexport function modifyInstanceMemory(instanceID, sizeInBytes, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(sizeInBytes, instanceID);\n  }\n  const request = {\n    memory: sizeInBytes,\n  }\n  putRequest('/guests/' + instanceID + '/memory', request, onOperateSuccess, onFail);\n}\n\nexport function setAutoStart(instanceID, enable, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(instanceID);\n  }\n  const request = {\n    enable: enable,\n  }\n  putRequest('/guests/' + instanceID + '/auto_start', request, onOperateSuccess, onFail);\n}\n\nexport function resizeInstanceDisk(instanceID, index, sizeInBytes, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(index, sizeInBytes, instanceID);\n  }\n  const request = {\n    size: sizeInBytes,\n  }\n  putRequest('/guests/' + instanceID + '/disks/resize/' + index.toString(), request, onOperateSuccess, onFail);\n}\n\nexport function shrinkInstanceDisk(instanceID, index, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(index, instanceID);\n  }\n  const request = {\n    immediate: false,\n  }\n  putRequest('/guests/' + instanceID + '/disks/shrink/' + index.toString(), request, onOperateSuccess, onFail);\n}\n\nexport function modifyInstanceAdminPassword(instanceID, user, password, onSuccess, onFail) {\n  const onOperateSuccess = ({ user, password }) => {\n    onSuccess(user, password, instanceID);\n  }\n  var request = {\n  }\n  if (user) {\n    request.user = user;\n  }\n  if (password) {\n    request.password = password;\n  }\n  putRequest('/guests/' + instanceID + '/auth', request, onOperateSuccess, onFail);\n}\n\nexport function getInstanceAdminPassword(instanceID, onSuccess, onFail) {\n  const onOperateSuccess = ({ user, password }) => {\n    onSuccess(user, password, instanceID);\n  }\n  getRequest('/guests/' + instanceID + '/auth', onOperateSuccess, onFail);\n}\n\nexport function modifyInstancePriority(instanceID, priority, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(priority, instanceID);\n  }\n  var request = {\n    priority: priority,\n  }\n  putRequest('/guests/' + instanceID + '/qos/cpu', request, onOperateSuccess, onFail);\n}\n\nexport function modifyInstanceDiskIOPS(instanceID, iops, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(iops, instanceID);\n  }\n  var request = {\n    write_iops: iops,\n    read_iops: iops,\n  }\n  putRequest('/guests/' + instanceID + '/qos/disk', request, onOperateSuccess, onFail);\n}\n\nexport function modifyInstanceBandwidth(instanceID, inbound, outbound, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(inbound, outbound, instanceID);\n  }\n  var request = {\n    receive_speed: inbound,\n    send_speed: outbound,\n  }\n  putRequest('/guests/' + instanceID + '/qos/network', request, onOperateSuccess, onFail);\n}\n\n//instance snapshots\nexport function queryInstanceSnapshots(instanceID, onSuccess, onFail) {\n  const url = '/instances/' + instanceID + '/snapshots/';\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function createInstanceSnapshot(instanceID, name, description, onSuccess, onFail) {\n  const url = '/instances/' + instanceID + '/snapshots/';\n  const request = {\n    name: name,\n    description: description,\n  }\n  const onOperateSuccess = () => {\n    onSuccess(name, instanceID)\n  }\n  postRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function getInstanceSnapshot(instanceID, name, onSuccess, onFail) {\n  const url = '/instances/' + instanceID + '/snapshots/' + name;\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function deleteInstanceSnapshot(instanceID, name, onSuccess, onFail) {\n  const url = '/instances/' + instanceID + '/snapshots/' + name;\n  const onOperateSuccess = () => {\n    onSuccess(name, instanceID)\n  }\n  deleteRequest(url, onOperateSuccess, onFail);\n}\n\nexport function restoreInstanceSnapshot(instanceID, name, onSuccess, onFail) {\n  const url = '/instances/' + instanceID + '/snapshots/';\n  const request = {\n    target: name,\n  }\n  const onOperateSuccess = () => {\n    onSuccess(name, instanceID)\n  }\n  putRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function migrateSingleInstance(sourcePool, sourceCell, targetCell, instanceID, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(instanceID);\n  }\n  var request = {\n    source_pool: sourcePool,\n    source_cell: sourceCell,\n    target_cell: targetCell,\n    instances: [instanceID],\n  };\n  postRequest('/migrations/', request, onOperateSuccess, onFail);\n}\n\nexport function migrateInstancesInCell(sourcePool, sourceCell, targetCell, onSuccess, onFail) {\n  const onOperateSuccess = () => {\n    onSuccess(sourceCell, targetCell);\n  }\n  var request = {\n    source_pool: sourcePool,\n    source_cell: sourceCell,\n    target_cell: targetCell,\n  };\n  postRequest('/migrations/', request, onOperateSuccess, onFail);\n}\n\n//guest security policy\nexport function getGuestSecurityPolicy(guestID, onSuccess, onFail) {\n  const url = \"/guests/\" + guestID + \"/security_policy/\";\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function changeGuestSecurityPolicyAction(guestID, action, onSuccess, onFail) {\n  const url = \"/guests/\" + guestID + \"/security_policy/default_action\";\n  var request = {\n    action: action,\n  };\n  const onOperateSuccess = () => {\n    onSuccess(guestID);\n  }\n  putRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function addGuestSecurityRule(guestID, action, protocol, to_port, onSuccess, onFail) {\n  const url = \"/guests/\" + guestID + \"/security_policy/rules/\";\n  var request = {\n    action: action,\n    protocol: protocol,\n    to_port: to_port,\n  };\n  const onOperateSuccess = () => {\n    onSuccess(guestID);\n  }\n  postRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function modifyGuestSecurityRule(guestID, index, action, protocol, to_port, onSuccess, onFail) {\n  const url = \"/guests/\" + guestID + \"/security_policy/rules/\" + index;\n  var request = {\n    action: action,\n    protocol: protocol,\n    to_port: to_port,\n  };\n  const onOperateSuccess = () => {\n    onSuccess(guestID, index);\n  }\n  putRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function removeGuestSecurityRule(guestID, index, onSuccess, onFail) {\n  const url = \"/guests/\" + guestID + \"/security_policy/rules/\" + index;\n  const onOperateSuccess = () => {\n    onSuccess(guestID, index);\n  }\n  deleteRequest(url, onOperateSuccess, onFail);\n}\n\nexport function moveUpGuestSecurityRule(guestID, index, onSuccess, onFail) {\n  const url = '/guests/' + guestID + '/security_policy/rules/' + index + '/order';\n  const request = {\n    direction: \"up\",\n  }\n  const onOperateSuccess = () => {\n    onSuccess(guestID, index);\n  }\n  putRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function moveDownGuestSecurityRule(guestID, index, onSuccess, onFail) {\n  const url = '/guests/' + guestID + '/security_policy/rules/' + index + '/order';\n  const request = {\n    direction: \"down\",\n  }\n  const onOperateSuccess = () => {\n    onSuccess(guestID, index);\n  }\n  putRequest(url, request, onOperateSuccess, onFail);\n}\n\n//media Images\nexport function searchMediaImages(onSuccess, onFail) {\n  getRequest('/media_image_search/', onSuccess, onFail);\n}\n\nexport function syncMediaImages(onSuccess, onFail) {\n  var session = getLoggedSession();\n  if (null === session) {\n    onFail('session expired');\n    return;\n  }\n  var request = {\n    owner: session.user,\n    group: session.group,\n  };\n  patchRequest('/media_images/', request, onSuccess, onFail);\n}\n\nexport function getMediaImage(id, onSuccess, onFail) {\n  var url = '/media_images/' + id;\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function createMediaImage(name, description, tags, onSuccess, onFail) {\n  var session = getLoggedSession();\n  if (null === session) {\n    onFail('session expired');\n    return;\n  }\n  var url = '/media_images/';\n  var request = {\n    name: name,\n    description: description,\n    tags: tags,\n    owner: session.user,\n    group: session.group,\n  };\n  const onModifySuccess = (data) => {\n    onSuccess(data.id);\n  }\n  postRequest(url, request, onModifySuccess, onFail);\n}\n\nexport function modifyMediaImage(id, name, description, tags, onSuccess, onFail) {\n  var session = getLoggedSession();\n  if (null === session) {\n    onFail('session expired');\n    return;\n  }\n  var url = '/media_images/' + id;\n  var request = {\n    name: name,\n    description: description,\n    tags: tags,\n    owner: session.user,\n    group: session.group,\n  };\n  const onModifySuccess = () => {\n    onSuccess(id);\n  }\n  putRequest(url, request, onModifySuccess, onFail);\n}\n\nexport function deleteMediaImage(id, onSuccess, onFail) {\n  var url = '/media_images/' + id;\n  const onDeleteSuccess = () => {\n    onSuccess(id);\n  }\n  deleteRequest(url, onDeleteSuccess, onFail);\n}\n\nexport function uploadMediaImage(id, file, onProgress, onSuccess, onFail) {\n  var url = '/media_images/' + id + '/file/';\n  const onOperateSuccess = () => {\n    onSuccess(id);\n  }\n  uploadBinary(url, 'image', file, onProgress, onOperateSuccess, onFail);\n}\n\n//disk Images\nexport function searchDiskImages(onSuccess, onFail) {\n  getRequest('/disk_image_search/', onSuccess, onFail);\n}\n\nexport function syncDiskImages(onSuccess, onFail) {\n  var session = getLoggedSession();\n  if (null === session) {\n    onFail('session expired');\n    return;\n  }\n  var request = {\n    owner: session.user,\n    group: session.group,\n  };\n  patchRequest('/disk_images/', request, onSuccess, onFail);\n}\n\nexport function getDiskImage(id, onSuccess, onFail) {\n  var url = '/disk_images/' + id;\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function createDiskImage(name, guest, description, tags, onSuccess, onFail) {\n  var session = getLoggedSession();\n  if (null === session) {\n    onFail('session expired');\n    return;\n  }\n  var url = '/disk_images/';\n  var request = {\n    name: name,\n    description: description,\n    tags: tags,\n    owner: session.user,\n    group: session.group,\n  };\n  if (guest) {\n    request.guest = guest;\n  }\n  const onOperateSuccess = (data) => {\n    onSuccess(data.id);\n  }\n  postRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function modifyDiskImage(id, name, description, tags, onSuccess, onFail) {\n  var session = getLoggedSession();\n  if (null === session) {\n    onFail('session expired');\n    return;\n  }\n  var url = '/disk_images/' + id;\n  var request = {\n    name: name,\n    description: description,\n    tags: tags,\n    owner: session.user,\n    group: session.group,\n  };\n  const onModifySuccess = () => {\n    onSuccess(id);\n  }\n  putRequest(url, request, onModifySuccess, onFail);\n}\n\nexport function deleteDiskImage(id, onSuccess, onFail) {\n  var url = '/disk_images/' + id;\n  const onDeleteSuccess = () => {\n    onSuccess(id);\n  }\n  deleteRequest(url, onDeleteSuccess, onFail);\n}\n\nexport function uploadDiskImage(id, file, onProgress, onSuccess, onFail) {\n  var url = '/disk_images/' + id + '/file/';\n  const onOperateSuccess = () => {\n    onSuccess(id);\n  }\n  uploadBinary(url, 'image', file, onProgress, onOperateSuccess, onFail);\n}\n\nexport function getDiskImageURL(id) {\n  const url = apiRoot + '/disk_images/' + id + '/file/';\n  return url;\n}\n\n//batch operates\nexport function batchCreatingGuests(rule, prefix, count, pool, cores, memory, disks, autoStartup,\n  fromImage, systemVersion, modules, cloudInit, qos, onAccept, onFail) {\n  var session = getLoggedSession();\n  if (null === session) {\n    onFail('session expired');\n    return;\n  }\n  var request = {\n    name_rule: rule,\n    count: count,\n    owner: session.user,\n    group: session.group,\n    pool: pool,\n    cores: cores,\n    memory: memory,\n    disks: disks,\n    auto_start: autoStartup,\n    from_image: fromImage,\n    template: systemVersion,\n  };\n  if (prefix) {\n    request.name_prefix = prefix;\n  }\n  if (modules) {\n    request.modules = modules;\n  }\n  if (cloudInit) {\n    request.cloud_init = cloudInit;\n  }\n  if (qos) {\n    request.qos = qos;\n  }\n  const onCreateResponse = (status, data) => {\n    if (202 === status) {\n      onAccept(data.id);\n    } else {\n      onFail('unexpected status ' + status.toString());\n    }\n  }\n  postRequestWithStatus('/batch/create_guest/', request, onCreateResponse, onFail);\n}\n\nexport function checkBatchCreatingStatus(batchID, onProcessing, onSuccess, onFail) {\n  const url = '/batch/create_guest/' + batchID;\n  const onOperateSuccess = (status, data) => {\n    if (202 === status) {\n      onProcessing(data);\n    } else if (200 === status) {\n      onSuccess(data);\n    } else {\n      onFail('unexpected status ' + status.toString());\n    }\n  }\n  getRequestWithStatus(url, onOperateSuccess, onFail);\n}\n\nexport function batchDeletingGuests(idList, onAccept, onFail) {\n  if (!idList || 0 === idList.length) {\n    onFail('target is empty');\n    return;\n  }\n  var request = {\n    guest: idList,\n  };\n\n  const onOperateSuccess = (status, data) => {\n    if (202 === status) {\n      onAccept(data.id);\n    } else {\n      onFail('unexpected status ' + status.toString());\n    }\n  }\n  postRequestWithStatus('/batch/delete_guest/', request, onOperateSuccess, onFail);\n}\n\nexport function checkBatchDeletingStatus(batchID, onProcessing, onSuccess, onFail) {\n  const url = '/batch/delete_guest/' + batchID;\n  const onOperateSuccess = (status, data) => {\n    if (202 === status) {\n      onProcessing(data);\n    } else if (200 === status) {\n      onSuccess(data);\n    } else {\n      onFail('unexpected status ' + status.toString());\n    }\n  }\n  getRequestWithStatus(url, onOperateSuccess, onFail);\n}\n\nexport function batchStoppingGuests(idList, onAccept, onFail) {\n  if (!idList || 0 === idList.length) {\n    onFail('target is empty');\n    return;\n  }\n  var request = {\n    guest: idList,\n  };\n\n  const onOperateSuccess = (status, data) => {\n    if (202 === status) {\n      onAccept(data.id);\n    } else {\n      onFail('unexpected status ' + status.toString());\n    }\n  }\n  postRequestWithStatus('/batch/stop_guest/', request, onOperateSuccess, onFail);\n}\n\nexport function checkBatchStoppingStatus(batchID, onProcessing, onSuccess, onFail) {\n  const url = '/batch/stop_guest/' + batchID;\n  const onOperateSuccess = (status, data) => {\n    if (202 === status) {\n      onProcessing(data);\n    } else if (200 === status) {\n      onSuccess(data);\n    } else {\n      onFail('unexpected status ' + status.toString());\n    }\n  }\n  getRequestWithStatus(url, onOperateSuccess, onFail);\n}\n\n//management\n//system templates\nexport function querySystemTemplates(onSuccess, onFail) {\n  const url = \"/templates/\";\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function getSystemTemplate(templateID, onSuccess, onFail) {\n  const url = \"/templates/\" + templateID;\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function createSystemTemplate(name, admin, system, disk, network, display,\n  control, usb, tablet, onSuccess, onFail) {\n  const url = \"/templates/\";\n  var payload = {\n    name: name,\n    admin: admin,\n    operating_system: system,\n    disk: disk,\n    network: network,\n    display: display,\n    control: control,\n  }\n  if (usb) {\n    payload.usb = usb;\n  }\n  if (tablet) {\n    payload.tablet = tablet;\n  }\n  const onOperateSuccess = ({ id }) => {\n    onSuccess(id);\n  }\n  postRequest(url, payload, onOperateSuccess, onFail);\n}\n\nexport function modifySystemTemplate(id, name, admin, system, disk, network, display,\n  control, usb, tablet, onSuccess, onFail) {\n  const url = \"/templates/\" + id;\n  var payload = {\n    name: name,\n    admin: admin,\n    operating_system: system,\n    disk: disk,\n    network: network,\n    display: display,\n    control: control,\n  }\n  if (usb) {\n    payload.usb = usb;\n  }\n  if (tablet) {\n    payload.tablet = tablet;\n  }\n  const onOperateSuccess = () => {\n    onSuccess(id);\n  }\n  putRequest(url, payload, onOperateSuccess, onFail);\n}\n\nexport function deleteSystemTemplate(templateID, onSuccess, onFail) {\n  const url = \"/templates/\" + templateID;\n  const onOperateSuccess = () => {\n    onSuccess(templateID);\n  }\n  deleteRequest(url, onOperateSuccess, onFail);\n}\n\n//Security Policy Groups\nexport function searchSecurityPolicyGroups(owner, group, enabledOnly, globalOnly, onSuccess, onFail) {\n  let url = '/search/security_policy_groups/';\n  var params = new URLSearchParams();\n  if (owner) {\n    params.append(\"owner\", owner);\n  }\n  if (group) {\n    params.append(\"group\", group);\n  }\n  if (enabledOnly) {\n    params.append(\"enabled_only\", enabledOnly);\n  }\n  if (globalOnly) {\n    params.append(\"global_only\", globalOnly);\n  }\n  if ('' !== params.toString()) {\n    url += '?' + params.toString();\n  }\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function getSecurityPolicyGroup(policyID, onSuccess, onFail) {\n  const url = '/security_policy_groups/' + policyID;\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function createSecurityPolicyGroup(name, description, enabled, isGlobal,\n  action, onSuccess, onFail) {\n  const url = '/security_policy_groups/';\n  var session = getLoggedSession();\n  if (null === session) {\n    onFail('session expired');\n    return;\n  }\n  var request = {\n    name: name,\n    description: description,\n    user: session.user,\n    group: session.group,\n    enabled: enabled,\n    global: isGlobal,\n    default_action: action,\n  };\n  const onOperateSuccess = ({ id }) => {\n    onSuccess(id);\n  }\n  postRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function modifySecurityPolicyGroup(policyID, name, description, enabled, isGlobal,\n  action, onSuccess, onFail) {\n  const url = '/security_policy_groups/' + policyID;\n  var session = getLoggedSession();\n  if (null === session) {\n    onFail('session expired');\n    return;\n  }\n  var request = {\n    name: name,\n    description: description,\n    user: session.user,\n    group: session.group,\n    enabled: enabled,\n    global: isGlobal,\n    default_action: action,\n  };\n  const onOperateSuccess = () => {\n    onSuccess(policyID);\n  }\n  putRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function deleteSecurityPolicyGroup(policyID, onSuccess, onFail) {\n  const url = '/security_policy_groups/' + policyID;\n  const onOperateSuccess = () => {\n    onSuccess(policyID);\n  }\n  deleteRequest(url, onOperateSuccess, onFail);\n}\n\nexport function getSecurityPolicyRules(policyID, onSuccess, onFail) {\n  const url = '/security_policy_groups/' + policyID + '/rules/';\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function addSecurityPolicyRule(policyID, action, protocol, to_port, onSuccess, onFail) {\n  const url = '/security_policy_groups/' + policyID + '/rules/';\n  const request = {\n    action: action,\n    protocol: protocol,\n    to_port: to_port,\n  };\n  postRequest(url, request, onSuccess, onFail);\n}\n\nexport function modifySecurityPolicyRule(policyID, index, action, protocol, to_port, onSuccess, onFail) {\n  const url = '/security_policy_groups/' + policyID + '/rules/' + index;\n  const request = {\n    action: action,\n    protocol: protocol,\n    to_port: to_port,\n  };\n  const onOperateSuccess = () => {\n    onSuccess(policyID, index);\n  }\n  putRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function removeSecurityPolicyRule(policyID, index, onSuccess, onFail) {\n  const url = '/security_policy_groups/' + policyID + '/rules/' + index;\n  const onOperateSuccess = () => {\n    onSuccess(policyID, index);\n  }\n  deleteRequest(url, onOperateSuccess, onFail);\n}\n\nexport function moveUpSecurityPolicyRule(policyID, index, onSuccess, onFail) {\n  const url = '/security_policy_groups/' + policyID + '/rules/' + index + '/order';\n  const request = {\n    direction: 'up',\n  };\n  const onOperateSuccess = () => {\n    onSuccess(policyID, index);\n  }\n  putRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function moveDownSecurityPolicyRule(policyID, index, onSuccess, onFail) {\n  const url = '/security_policy_groups/' + policyID + '/rules/' + index + '/order';\n  const request = {\n    direction: 'down',\n  };\n  const onOperateSuccess = () => {\n    onSuccess(policyID, index);\n  }\n  putRequest(url, request, onOperateSuccess, onFail);\n}\n\n//roles\nexport function queryAllRoles(onSuccess, onFail) {\n  getRequest('/roles/', onSuccess, onFail);\n}\n\nexport function getRole(role, onSuccess, onFail) {\n  const url = '/roles/' + role;\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function addRole(role, menuList, onSuccess, onFail) {\n  const url = '/roles/' + role;\n  const request = {\n    menu: menuList,\n  }\n  const onOperateSuccess = () => {\n    onSuccess(role);\n  }\n  postRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function modifyRole(role, menuList, onSuccess, onFail) {\n  const url = '/roles/' + role;\n  const request = {\n    menu: menuList,\n  }\n  const onOperateSuccess = () => {\n    onSuccess(role);\n  }\n  putRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function removeRole(role, onSuccess, onFail) {\n  const url = '/roles/' + role;\n  const onOperateSuccess = () => {\n    onSuccess(role);\n  }\n  deleteRequest(url, onOperateSuccess, onFail);\n}\n\n//groups\nexport function queryAllGroups(onSuccess, onFail) {\n  getRequest('/user_groups/', onSuccess, onFail);\n}\n\nexport function getGroup(group, onSuccess, onFail) {\n  const url = '/user_groups/' + group;\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function addGroup(group, display, roleList, onSuccess, onFail) {\n  const url = '/user_groups/' + group;\n  var request = {\n    display: display,\n  }\n  if (roleList) {\n    request.role = roleList;\n  }\n  const onOperateSuccess = () => {\n    onSuccess(group);\n  }\n  postRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function modifyGroup(group, display, roleList, onSuccess, onFail) {\n  const url = '/user_groups/' + group;\n  var request = {\n  }\n  if (display) {\n    request.display = display;\n  }\n  if (roleList) {\n    request.role = roleList;\n  }\n  const onOperateSuccess = () => {\n    onSuccess(group);\n  }\n  putRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function removeGroup(group, onSuccess, onFail) {\n  const url = '/user_groups/' + group;\n  const onOperateSuccess = () => {\n    onSuccess(group);\n  }\n  deleteRequest(url, onOperateSuccess, onFail);\n}\n\nexport function queryGroupMembers(group, onSuccess, onFail) {\n  const url = '/user_groups/' + group + '/members/';\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function addGroupMember(group, member, onSuccess, onFail) {\n  const url = '/user_groups/' + group + '/members/' + member;\n  var request = {\n  }\n  const onOperateSuccess = () => {\n    onSuccess(member, group);\n  }\n  postRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function removeGroupMember(group, member, onSuccess, onFail) {\n  const url = '/user_groups/' + group + '/members/' + member;\n  const onOperateSuccess = () => {\n    onSuccess(member, group);\n  }\n  deleteRequest(url, onOperateSuccess, onFail);\n}\n\n//users\nexport function queryAllUsers(onSuccess, onFail) {\n  const url = '/users/';\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function getUser(user, onSuccess, onFail) {\n  const url = '/users/' + user;\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function createUser(user, password, nick, mail, onSuccess, onFail) {\n  const url = '/users/' + user;\n  var request = {\n    password: password,\n  }\n  if (nick) {\n    request.nick = nick;\n  }\n  if (mail) {\n    request.mail = mail;\n  }\n  const onOperateSuccess = () => {\n    onSuccess(user);\n  }\n  postRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function modifyUser(user, nick, mail, onSuccess, onFail) {\n  const url = '/users/' + user;\n  var request = {\n  }\n  if (nick) {\n    request.nick = nick;\n  }\n  if (mail) {\n    request.mail = mail;\n  }\n  const onOperateSuccess = () => {\n    onSuccess(user);\n  }\n  putRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function deleteUser(user, onSuccess, onFail) {\n  const url = '/users/' + user;\n  const onOperateSuccess = () => {\n    onSuccess(user);\n  }\n  deleteRequest(url, onOperateSuccess, onFail);\n}\n\nexport function changeUserPassword(name, oldPassword, newPassword, onSuccess, onFail) {\n  const url = '/users/' + name + '/password/';\n  const onOperateSuccess = () => {\n    onSuccess(name);\n  }\n  const request = {\n    old: oldPassword,\n    new: newPassword,\n  };\n  putRequest(url, request, onOperateSuccess, onFail);\n}\n\nexport function searchUsers(group, onSuccess, onFail) {\n  var url = '/user_search/';\n  if (group) {\n    url += '?group=' + group;\n  }\n  getRequest(url, onSuccess, onFail);\n}\n\n//Visibility\nexport function getVisibilities(onSuccess, onFail) {\n  const url = '/resource_visibilities/';\n  getRequest(url, onSuccess, onFail);\n}\n\nexport function setVisiblities(instance, disk, media, onSuccess, onFail) {\n  const url = '/resource_visibilities/';\n  var request = {\n  }\n  if (instance) {\n    request.instance_visible = instance;\n  }\n  if (disk) {\n    request.disk_image_visible = disk;\n  }\n  if (media) {\n    request.media_image_visible = media;\n  }\n  putRequest(url, request, onSuccess, onFail);\n}\n\n//logs\nexport function queryLogs(limit, start, after, before, onSuccess, onFail) {\n  var url = '/logs/?limit=' + limit;\n  if (start) {\n    url += '&start=' + start;\n  }\n  if (after) {\n    url += '&after=' + after;\n  }\n  if (before) {\n    url += '&before=' + before;\n  }\n  const onOperateSuccess = data => {\n    let offset = 0;\n    if (start) {\n      offset = start;\n    }\n    onSuccess({\n      ...data,\n      offset: offset,\n    })\n  }\n  getRequest(url, onOperateSuccess, onFail);\n}\n\nexport function writeLog(log, onSuccess, onFail) {\n  var session = getLoggedSession();\n  if (null === session) {\n    onFail('session expired');\n    return;\n  }\n  var content = session.group + '.' + session.user;\n  if (session.address) {\n    content += '(' + session.address + ') : ' + log;\n  } else {\n    content += ': ' + log;\n  }\n  const url = '/logs/';\n  const request = {\n    content: content,\n  }\n  postRequest(url, request, onSuccess, onFail);\n}\n\nexport function deleteLog(entries, onSuccess, onFail) {\n  const url = '/logs/';\n  const request = {\n    entries: entries,\n  }\n  deleteRequestWithPayload(url, request, onSuccess, onFail);\n}\n\n//system\nexport function getSystemStatus(onSuccess, onFail) {\n  const url = '/system/';\n  nakeGetRequest(url, onSuccess, onFail);\n}\n\nexport function initialSystem(user, group, display, role, password,\n  menuList, onSuccess, onFail) {\n  const url = '/system/';\n  var request = {\n    user: user,\n    password: password,\n    menu: menuList,\n  }\n  if (group) {\n    request.group = group;\n  }\n  if (display) {\n    request.display = display;\n  }\n  if (role) {\n    request.role = role;\n  }\n  nakePostRequest(url, request, onSuccess, onFail);\n}\n\n//basic request functions\nfunction getRequest(url, onSuccess, onFail) {\n  callAxios('get', url, null, onSuccess, onFail);\n}\n\nfunction getRequestWithStatus(url, onSuccess, onFail) {\n  callAxiosWithStatus('get', url, null, onSuccess, onFail);\n}\n\nfunction nakeGetRequest(url, onSuccess, onFail) {\n  callAxiosWithoutSession('get', url, null, onSuccess, onFail);\n}\n\nfunction postRequest(url, request, onSuccess, onFail) {\n  callAxios('post', url, request, onSuccess, onFail);\n}\n\nfunction postRequestWithStatus(url, request, onSuccess, onFail) {\n  callAxiosWithStatus('post', url, request, onSuccess, onFail);\n}\n\nfunction nakePostRequest(url, request, onSuccess, onFail) {\n  callAxiosWithoutSession('post', url, request, onSuccess, onFail);\n}\n\nfunction putRequest(url, request, onSuccess, onFail) {\n  callAxios('put', url, request, onSuccess, onFail);\n}\n\nfunction deleteRequest(url, onSuccess, onFail) {\n  callAxios('delete', url, null, onSuccess, onFail);\n}\n\nfunction patchRequest(url, request, onSuccess, onFail) {\n  callAxios('patch', url, request, onSuccess, onFail);\n}\n\nfunction deleteRequestWithPayload(url, request, onSuccess, onFail) {\n  callAxios('delete', url, request, onSuccess, onFail);\n}\n\nfunction uploadBinary(url, fileTag, fileData, onProgress, onSuccess, onFail) {\n  var session = getLoggedSession();\n  if (null === session) {\n    onFail('session expired');\n    return;\n  }\n  const onUploadProgress = e => {\n    var progress = e.loaded * 100 / e.total;\n    onProgress(progress);\n  }\n  const headers = {\n    [HeaderNanoSession]: session.id,\n  };\n  var request = new FormData();\n  request.append(fileTag, fileData);\n  axios.post(apiRoot + url, request,\n    {\n      onUploadProgress: onUploadProgress,\n      headers: headers,\n    })\n    .then(({ data }) => {\n      if (0 !== data.error_code) {\n        onFail(data.message);\n        return\n      }\n      onSuccess(data.data);\n      return;\n    })\n    .catch((e) => {\n      onFail(e.message);\n    });\n}\n\nfunction callAxios(method, url, data, onSuccess, onFail) {\n  var session = getLoggedSession();\n  if (null === session) {\n    if (onFail) {\n      onFail('session expired');\n    }\n    return;\n  }\n  var config = {\n    method: method,\n    url: apiRoot + url,\n    headers: {\n      [HeaderNanoSession]: session.id,\n    },\n  }\n  if (data) {\n    config.data = data;\n  }\n  axios(config)\n    .then(({ data }) => {\n      if (0 !== data.error_code) {\n        if (onFail) {\n          onFail(data.message);\n        }\n        return\n      }\n      if (onSuccess) {\n        onSuccess(data.data);\n      }\n      return;\n    })\n    .catch((e) => {\n      if (onFail) {\n        onFail(e.message);\n      }\n    });\n}\n\nfunction callAxiosWithStatus(method, url, data, onSuccess, onFail) {\n  var session = getLoggedSession();\n  if (null === session) {\n    if (onFail) {\n      onFail('session expired');\n    }\n    return;\n  }\n  var config = {\n    method: method,\n    url: apiRoot + url,\n    headers: {\n      [HeaderNanoSession]: session.id,\n    },\n  }\n  if (data) {\n    config.data = data;\n  }\n  axios(config)\n    .then(({ data, status }) => {\n      if (0 !== data.error_code) {\n        if (onFail) {\n          onFail(data.message);\n        }\n        return\n      }\n      if (onSuccess) {\n        onSuccess(status, data.data);\n      }\n      return;\n    })\n    .catch((e) => {\n      if (onFail) {\n        onFail(e.message);\n      }\n    });\n}\n\n\nfunction callAxiosWithoutSession(method, url, data, onSuccess, onFail) {\n  var config = {\n    method: method,\n    url: apiRoot + url,\n  }\n  if (data) {\n    config.data = data;\n  }\n  axios(config)\n    .then(({ data }) => {\n      if (0 !== data.error_code) {\n        if (onFail) {\n          onFail(data.message);\n        }\n        return\n      }\n      if (onSuccess) {\n        onSuccess(data.data);\n      }\n      return;\n    })\n    .catch((e) => {\n      if (onFail) {\n        onFail(e.message);\n      }\n    });\n}\n","import React from \"react\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { changeUserPassword, writeLog } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Password',\n    current: 'Current Password',\n    new: 'New Password',\n    confirmNew: 'Confirm New Password',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改密码',\n    current: '当前密码',\n    new: '新密码',\n    confirmNew: '确认新密码',\n    cancel: '取消',\n    confirm: '确认',\n  }\n};\n\nexport default function ModifyPasswordDialog(props){\n  const defaultValues = {\n    old: '',\n    new: '',\n    new2: '',\n  }\n  const { lang, user, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifyFail = msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const onModifySuccess = () =>{\n    writeLog('change password of ' + user);\n    if(!mounted){\n      return;\n    }\n    resetDialog();\n    setOperatable(true);\n    onSuccess();\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    if ('' === request.old){\n      onModifyFail('previous password required');\n      return;\n    }\n    if ('' === request.new){\n      onModifyFail('new password required');\n      return;\n    }\n    if (request.new2 !== request.new){\n      onModifyFail('confirm password mismatched');\n      return;\n    }\n    changeUserPassword(user, request.old, request.new, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    setMounted(true);\n    return () => {\n      setMounted(false);\n    }\n  }, []);\n\n  const inputs = [\n    {\n      type: \"password\",\n      label: texts.current,\n      onChange: handleRequestPropsChanged('old'),\n      value: request.old,\n      required: true,\n      xs: 12,\n    },\n    {\n      type: \"password\",\n      label: texts.new,\n      onChange: handleRequestPropsChanged('new'),\n      value: request.new,\n      required: true,\n      xs: 12,\n    },\n    {\n      type: \"password\",\n      label: texts.confirmNew,\n      onChange: handleRequestPropsChanged('new2'),\n      value: request.new2,\n      required: true,\n      xs: 12,\n    },\n  ];\n  const content = <InputList inputs={inputs}/>\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n}\n","import {\n  primaryColor,\n  whiteColor,\n  primaryBoxShadow,\n  defaultFont,\n  blackColor,\n  grayColor,\n  hexToRgb\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst dropdownStyle = theme => ({\n  buttonLink: {\n    [theme.breakpoints.down(\"md\")]: {\n      display: \"flex\",\n      marginLeft: \"30px\",\n      width: \"auto\"\n    }\n  },\n  links: {\n    width: \"20px\",\n    height: \"20px\",\n    zIndex: \"4\",\n    [theme.breakpoints.down(\"md\")]: {\n      display: \"block\",\n      width: \"30px\",\n      height: \"30px\",\n      color: grayColor[9],\n      marginRight: \"15px\"\n    }\n  },\n  linkText: {\n    zIndex: \"4\",\n    ...defaultFont,\n    fontSize: \"14px\"\n  },\n  popperClose: {\n    pointerEvents: \"none\"\n  },\n  pooperResponsive: {\n    [theme.breakpoints.down(\"md\")]: {\n      zIndex: \"1640\",\n      position: \"static\",\n      float: \"none\",\n      width: \"auto\",\n      marginTop: \"0\",\n      backgroundColor: \"transparent\",\n      border: \"0\",\n      WebkitBoxShadow: \"none\",\n      boxShadow: \"none\",\n      color: \"black\"\n    }\n  },\n  popperNav: {\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"static !important\",\n      left: \"unset !important\",\n      top: \"unset !important\",\n      transform: \"none !important\",\n      willChange: \"unset !important\",\n      \"& > div\": {\n        boxShadow: \"none !important\",\n        marginLeft: \"0rem\",\n        marginRight: \"0rem\",\n        transition: \"none !important\",\n        marginTop: \"0px !important\",\n        marginBottom: \"0px !important\",\n        padding: \"0px !important\",\n        backgroundColor: \"transparent !important\",\n        \"& ul li\": {\n          color: whiteColor + \" !important\",\n          margin: \"10px 15px 0!important\",\n          padding: \"10px 15px !important\",\n          \"&:hover\": {\n            backgroundColor: \"hsla(0,0%,78%,.2)\",\n            boxShadow: \"none\"\n          }\n        }\n      }\n    }\n  },\n  dropdown: {\n    borderRadius: \"3px\",\n    border: \"0\",\n    boxShadow: \"0 2px 5px 0 rgba(\" + hexToRgb(blackColor) + \", 0.26)\",\n    top: \"100%\",\n    zIndex: \"1000\",\n    minWidth: \"160px\",\n    padding: \"5px 0\",\n    margin: \"2px 0 0\",\n    fontSize: \"14px\",\n    textAlign: \"left\",\n    listStyle: \"none\",\n    backgroundColor: whiteColor,\n    WebkitBackgroundClip: \"padding-box\",\n    backgroundClip: \"padding-box\"\n  },\n  dropdownItem: {\n    ...defaultFont,\n    fontSize: \"13px\",\n    padding: \"10px 20px\",\n    margin: \"0 5px\",\n    borderRadius: \"2px\",\n    WebkitTransition: \"all 150ms linear\",\n    MozTransition: \"all 150ms linear\",\n    OTransition: \"all 150ms linear\",\n    MsTransition: \"all 150ms linear\",\n    transition: \"all 150ms linear\",\n    display: \"block\",\n    clear: \"both\",\n    fontWeight: \"400\",\n    lineHeight: \"1.42857143\",\n    color: grayColor[8],\n    whiteSpace: \"nowrap\",\n    height: \"unset\",\n    minHeight: \"unset\",\n    \"&:hover\": {\n      backgroundColor: primaryColor[0],\n      color: whiteColor,\n      ...primaryBoxShadow\n    }\n  }\n});\n\nexport default dropdownStyle;\n","import {\n  defaultFont,\n  dangerColor,\n  whiteColor\n} from \"assets/jss/material-dashboard-react.js\";\n\nimport dropdownStyle from \"assets/jss/material-dashboard-react/dropdownStyle.js\";\n\nconst headerLinksStyle = theme => ({\n  ...dropdownStyle(theme),\n  search: {\n    \"& > div\": {\n      marginTop: \"0\"\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      margin: \"10px 15px !important\",\n      float: \"none !important\",\n      paddingTop: \"1px\",\n      paddingBottom: \"1px\",\n      padding: \"0!important\",\n      width: \"60%\",\n      marginTop: \"40px\",\n      \"& input\": {\n        color: whiteColor\n      }\n    }\n  },\n  linkText: {\n    zIndex: \"4\",\n    ...defaultFont,\n    fontSize: \"14px\",\n    margin: \"0px\"\n  },\n  buttonLink: {\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"flex\",\n      margin: \"10px 15px 0\",\n      width: \"-webkit-fill-available\",\n      \"& svg\": {\n        width: \"24px\",\n        height: \"30px\",\n        marginRight: \"15px\",\n        marginLeft: \"-15px\"\n      },\n      \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\n        fontSize: \"24px\",\n        lineHeight: \"30px\",\n        width: \"24px\",\n        height: \"30px\",\n        marginRight: \"15px\",\n        marginLeft: \"-15px\"\n      },\n      \"& > span\": {\n        justifyContent: \"flex-start\",\n        width: \"100%\"\n      }\n    }\n  },\n  searchButton: {\n    [theme.breakpoints.down(\"sm\")]: {\n      top: \"-50px !important\",\n      marginRight: \"22px\",\n      float: \"right\"\n    }\n  },\n  margin: {\n    zIndex: \"4\",\n    margin: \"0\"\n  },\n  searchIcon: {\n    width: \"17px\",\n    zIndex: \"4\"\n  },\n  notifications: {\n    zIndex: \"4\",\n    [theme.breakpoints.up(\"md\")]: {\n      position: \"absolute\",\n      top: \"2px\",\n      border: \"1px solid \" + whiteColor,\n      right: \"4px\",\n      fontSize: \"9px\",\n      background: dangerColor[0],\n      color: whiteColor,\n      minWidth: \"16px\",\n      height: \"16px\",\n      borderRadius: \"10px\",\n      textAlign: \"center\",\n      lineHeight: \"16px\",\n      verticalAlign: \"middle\",\n      display: \"block\"\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      ...defaultFont,\n      fontSize: \"14px\",\n      marginRight: \"8px\"\n    }\n  },\n  manager: {\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\"\n    },\n    display: \"inline-block\"\n  },\n  searchWrapper: {\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"-webkit-fill-available\",\n      margin: \"10px 15px 0\"\n    },\n    display: \"inline-block\"\n  }\n});\n\nexport default headerLinksStyle;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n// import Hidden from \"@material-ui/core/Hidden\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Person from \"@material-ui/icons/Person\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Poppers from \"@material-ui/core/Popper\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ModifyPasswordDialog from \"components/LoggedUser/ModifyPasswordDialog.js\";\nimport styles from \"assets/jss/material-dashboard-react/components/headerLinksStyle.js\";\nimport { getLoggedSession, logoutSession, redirectToLogin } from 'utils.js';\nimport { updateSession,  writeLog } from 'nano_api.js';\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    modify: 'Modify Password',\n    logout: 'Logout',\n  },\n  'cn':{\n    modify: '修改密码',\n    logout: '注销',\n  }\n};\n\nexport default function LoggedUser(props){\n  const classes = useStyles();\n  const { lang } = props;\n  const texts = i18n[lang];\n  const [ mounted, setMounted ] = React.useState(false)\n  const [ username, setUsername] = React.useState(\"\")\n  const [ openProfile, setOpenProfile ] = React.useState(null);\n  const [ dialogVisible, setDialogVisible ] = React.useState(false);\n  const [ isLogged, setLogged ] = React.useState(()=>{\n    return (null !== getLoggedSession());\n  });\n\n  const handleClickProfile = event => {\n    if (openProfile && openProfile.contains(event.target)) {\n      setOpenProfile(null);\n    } else {\n      setOpenProfile(event.currentTarget);\n    }\n  };\n\n  const handleCloseProfile = () => {\n    setOpenProfile(null);\n  };\n\n  const logout = () => {\n    const onFinished = () => {\n      logoutSession();\n      setLogged(false);\n    }\n    writeLog('logout', onFinished, onFinished);\n  }\n\n  const showModifyPassword = () =>{\n    setDialogVisible(true);\n  }\n\n  const closeModifyPassword = () =>{\n    setDialogVisible(false);\n  }\n\n  const keepAlive = React.useCallback(() => {\n    const onUpdateFail = () =>{\n      logoutSession();\n      if (mounted){\n        setLogged(false);\n      }\n    }\n    updateSession(onUpdateFail);\n  }, [mounted]);\n\n  //mount/unmount only\n  React.useEffect(() =>{\n    setMounted(true);\n    keepAlive();\n    var session = getLoggedSession();\n    if (null === session){\n      return;\n    }\n\n    if (mounted){\n      setUsername(session.user);\n    }\n\n    var updateInterval = session.timeout * 1000 * 2 / 3;\n    // var updateInterval = 3000;\n    var timerID = setInterval(()=>{\n      keepAlive();\n    }, updateInterval);\n    return () => {\n      setMounted(false);\n      clearInterval(timerID);\n    }\n\n  }, [mounted, keepAlive]);\n\n  //render begin\n  if (!isLogged){\n    return redirectToLogin();\n  }\n\n  return(\n    <div className={classes.manager}>\n      <Button\n        color={window.innerWidth > 959 ? \"transparent\" : \"white\"}\n        simple={!(window.innerWidth > 959)}\n        aria-owns={openProfile ? \"profile-menu-list-grow\" : null}\n        aria-haspopup=\"true\"\n        onClick={handleClickProfile}\n        className={classes.buttonLink}\n      >\n        {username}\n        <Person className={classes.icons} />\n      </Button>\n      <Poppers\n        open={Boolean(openProfile)}\n        anchorEl={openProfile}\n        transition\n        disablePortal\n        className={\n          classNames({ [classes.popperClose]: !openProfile }) +\n          \" \" +\n          classes.popperNav\n        }\n      >\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            id=\"profile-menu-list-grow\"\n            style={{\n              transformOrigin:\n                placement === \"bottom\" ? \"center top\" : \"center bottom\"\n            }}\n          >\n            <Paper>\n              <ClickAwayListener onClickAway={handleCloseProfile}>\n                <MenuList role=\"menu\">\n                  <MenuItem\n                    onClick={showModifyPassword}\n                    className={classes.dropdownItem}\n                  >\n                    {texts.modify}\n                  </MenuItem>\n                  <Divider light />\n                  <MenuItem\n                    onClick={logout}\n                    className={classes.dropdownItem}\n                  >\n                    {texts.logout}\n                  </MenuItem>\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Poppers>\n      <ModifyPasswordDialog\n        lang={lang}\n        open={dialogVisible}\n        user={username}\n        onSuccess={closeModifyPassword}\n        onCancel={closeModifyPassword}\n        />\n    </div>\n  );\n}\n","import React from \"react\";\nimport LoggedUser from \"components/LoggedUser/LoggedUser.js\";\n\n\nexport default function AdminNavbarLinks(props) {\n  return (\n    <div>\n      <LoggedUser {...props}/>\n    </div>\n  );\n}\n","\nimport React from \"react\";\nimport Typography from '@material-ui/core/Typography';\nimport Button from \"components/CustomButtons/Button.js\";\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\nimport { changeLanguage } from 'utils.js';\n\nclass Selector extends React.Component{\n  constructor(props) {\n    super(props);\n    this.openMenu = this.openMenu.bind(this);\n    this.closeMenu = this.closeMenu.bind(this);\n    this.languages = [\n      {\n        locale: 'cn',\n        name: '简体中文',\n      },\n      {\n        locale: 'en',\n        name: 'English',\n      },\n    ];\n    const { lang, setLang, ...rest } = props;\n    this.restProps = rest;\n    this.changeLanguage = setLang;\n    let initialText;\n    this.languages.forEach(current => {\n      if(lang === current.locale){\n        initialText = current.name;\n      }\n    })\n\n    this.state = {\n      language: lang,\n      anchorEl: null,\n      displayText: initialText,\n    };\n  }\n\n  updateLanguage(lang){\n    this.languages.forEach(current => {\n      if(lang === current.locale){\n        this.setState({\n          displayText: current.name,\n          anchorEl: null,\n        })\n      }\n    })\n    changeLanguage(lang);\n    this.changeLanguage(lang);\n  }\n\n  openMenu(event){\n    this.setState({\n      anchorEl: event.currentTarget,\n    });\n  }\n\n  closeMenu() {\n    this.setState({\n      anchorEl: null,\n    });\n  }\n\n  render(){\n    const currentLang = this.state.language;\n    const { buttonClass, ...others } = this.restProps;\n    return (\n      <Typography component='div'>\n        <Button {...others} onClick={this.openMenu} color='transparent' size='sm'>\n          <ChatBubbleOutlineIcon fontSize='small' className={buttonClass}/>\n           {this.state.displayText}\n        </Button>\n        <Menu\n          keepMounted\n          anchorEl={this.state.anchorEl}\n          onClose={this.closeMenu}\n          open={Boolean(this.state.anchorEl)}\n        >\n          {\n            this.languages.map((lang) => (\n              <MenuItem\n                key={lang.locale}\n                selected={lang.locale === currentLang}\n                onClick={() => {\n                    this.updateLanguage(lang.locale);\n                }}\n                >\n                <Typography component='div' variant='overline'>\n                  {lang.name}\n                </Typography>\n              </MenuItem>\n            ))\n          }\n        </Menu>\n      </Typography>\n    );\n  }\n}\n\nexport default Selector;\n","import {\n  container,\n  defaultFont,\n  primaryColor,\n  defaultBoxShadow,\n  infoColor,\n  successColor,\n  warningColor,\n  dangerColor,\n  whiteColor,\n  grayColor\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst headerStyle = () => ({\n  appBar: {\n    backgroundColor: \"transparent\",\n    boxShadow: \"none\",\n    borderBottom: \"0\",\n    marginBottom: \"0\",\n    position: \"absolute\",\n    width: \"100%\",\n    paddingTop: \"10px\",\n    zIndex: \"1029\",\n    color: grayColor[7],\n    border: \"0\",\n    borderRadius: \"3px\",\n    padding: \"10px 0\",\n    transition: \"all 150ms ease 0s\",\n    minHeight: \"50px\",\n    display: \"block\"\n  },\n  container: {\n    ...container,\n    minHeight: \"50px\"\n  },\n  flex: {\n    flex: 1\n  },\n  title: {\n    ...defaultFont,\n    letterSpacing: \"unset\",\n    lineHeight: \"30px\",\n    fontSize: \"18px\",\n    borderRadius: \"3px\",\n    textTransform: \"none\",\n    color: \"inherit\",\n    margin: \"0\",\n    \"&:hover,&:focus\": {\n      background: \"transparent\"\n    }\n  },\n  appResponsive: {\n    top: \"8px\"\n  },\n  primary: {\n    backgroundColor: primaryColor[0],\n    color: whiteColor,\n    ...defaultBoxShadow\n  },\n  info: {\n    backgroundColor: infoColor[0],\n    color: whiteColor,\n    ...defaultBoxShadow\n  },\n  success: {\n    backgroundColor: successColor[0],\n    color: whiteColor,\n    ...defaultBoxShadow\n  },\n  warning: {\n    backgroundColor: warningColor[0],\n    color: whiteColor,\n    ...defaultBoxShadow\n  },\n  danger: {\n    backgroundColor: dangerColor[0],\n    color: whiteColor,\n    ...defaultBoxShadow\n  }\n});\n\nexport default headerStyle;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport Box from '@material-ui/core/Box';\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Link from '@material-ui/core/Link';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from '@material-ui/core/Typography';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport Hidden from \"@material-ui/core/Hidden\";\n// @material-ui/icons\nimport Menu from \"@material-ui/icons/Menu\";\n// core components\nimport AdminNavbarLinks from \"./AdminNavbarLinks.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport LanguageSelector from \"components/Language/Selector.js\";\n\nimport styles from \"assets/jss/material-dashboard-react/components/headerStyle.js\";\nimport { getCurrentVersion } from 'nano_api.js';\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    manual: 'Online Manual',\n    manualURL: 'https://nanocloud.readthedocs.io/projects/guide/en/latest/',\n  },\n  'cn':{\n    manual: '在线文档',\n    manualURL: 'https://nanocloud.readthedocs.io/projects/guide/zh_CN/latest/',\n  }\n}\n\nexport default function Header(props) {\n  const classes = useStyles();\n  function makeBrand() {\n    var name = '';\n    props.routes.every(prop => {\n      if (window.location.href.indexOf(prop.layout + prop.path) !== -1) {\n        name = prop.display[props.lang]\n        return false;\n      }\n      return true;\n    });\n    return name;\n  }\n  const { color, lang, setLang } = props;\n  const texts = i18n[lang];\n  const appBarClasses = classNames({\n    [\" \" + classes[color]]: color\n  });\n\n  let currentYear = new Date().getFullYear();\n  const version = (\n    <Box mr={2}>\n      <Typography component='span'>\n        {`Project Nano ${getCurrentVersion()} © 2018~${currentYear}`}\n      </Typography>\n    </Box>\n  );\n\n  const manualButton = (\n    <Tooltip title={texts.manual} placement='top'>\n      <Link target='_blank' href={texts.manualURL}>\n        <IconButton color='default' size='small'>\n          <HelpOutlineIcon/>\n        </IconButton>\n      </Link>\n    </Tooltip>\n  )\n\n  return (\n    <AppBar className={classes.appBar + appBarClasses}>\n      <Toolbar className={classes.container}>\n        <div className={classes.flex}>\n          {/* Here we create navbar brand, based on route name */}\n          <Button color=\"transparent\" href=\"#\" className={classes.title}>\n            {makeBrand()}\n          </Button>\n        </div>\n        <Hidden smDown>\n          {version}\n          {manualButton}\n        </Hidden>\n        <LanguageSelector lang={lang} setLang={setLang}/>\n        <Hidden smDown implementation=\"css\">\n          <AdminNavbarLinks lang={lang}/>\n        </Hidden>\n        <Hidden mdUp implementation=\"css\">\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={props.handleDrawerToggle}\n          >\n            <Menu />\n          </IconButton>\n        </Hidden>\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nHeader.propTypes = {\n  color: PropTypes.oneOf([\"primary\", \"info\", \"success\", \"warning\", \"danger\"]),\n  rtlActive: PropTypes.bool,\n  handleDrawerToggle: PropTypes.func,\n  routes: PropTypes.arrayOf(PropTypes.object)\n};\n","import {\n  drawerWidth,\n  transition,\n  boxShadow,\n  defaultFont,\n  primaryColor,\n  primaryBoxShadow,\n  infoColor,\n  successColor,\n  warningColor,\n  dangerColor,\n  whiteColor,\n  grayColor,\n  blackColor,\n  hexToRgb\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst sidebarStyle = theme => ({\n  drawerPaper: {\n    border: \"none\",\n    position: \"fixed\",\n    top: \"0\",\n    bottom: \"0\",\n    left: \"0\",\n    zIndex: \"1\",\n    ...boxShadow,\n    width: drawerWidth,\n    [theme.breakpoints.up(\"md\")]: {\n      width: drawerWidth,\n      position: \"fixed\",\n      height: \"100%\"\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: drawerWidth,\n      ...boxShadow,\n      position: \"fixed\",\n      display: \"block\",\n      top: \"0\",\n      height: \"100vh\",\n      right: \"0\",\n      left: \"auto\",\n      zIndex: \"1032\",\n      visibility: \"visible\",\n      overflowY: \"visible\",\n      borderTop: \"none\",\n      textAlign: \"left\",\n      paddingRight: \"0px\",\n      paddingLeft: \"0\",\n      transform: `translate3d(${drawerWidth}px, 0, 0)`,\n      ...transition\n    }\n  },\n  drawerPaperRTL: {\n    [theme.breakpoints.up(\"md\")]: {\n      left: \"auto !important\",\n      right: \"0 !important\"\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      left: \"0  !important\",\n      right: \"auto !important\"\n    }\n  },\n  logo: {\n    position: \"relative\",\n    padding: \"15px 15px\",\n    zIndex: \"4\",\n    \"&:after\": {\n      content: '\"\"',\n      position: \"absolute\",\n      bottom: \"0\",\n\n      height: \"1px\",\n      right: \"15px\",\n      width: \"calc(100% - 30px)\",\n      backgroundColor: \"rgba(\" + hexToRgb(grayColor[6]) + \", 0.3)\"\n    }\n  },\n  logoLink: {\n    ...defaultFont,\n    textTransform: \"uppercase\",\n    padding: \"5px 0\",\n    display: \"block\",\n    fontSize: \"18px\",\n    textAlign: \"left\",\n    fontWeight: \"400\",\n    lineHeight: \"30px\",\n    textDecoration: \"none\",\n    backgroundColor: \"transparent\",\n    \"&,&:hover\": {\n      color: whiteColor\n    }\n  },\n  logoLinkRTL: {\n    textAlign: \"right\"\n  },\n  logoImage: {\n    width: \"30px\",\n    display: \"inline-block\",\n    maxHeight: \"30px\",\n    marginLeft: \"10px\",\n    marginRight: \"15px\"\n  },\n  img: {\n    width: \"35px\",\n    top: \"22px\",\n    position: \"absolute\",\n    verticalAlign: \"middle\",\n    border: \"0\"\n  },\n  background: {\n    position: \"absolute\",\n    zIndex: \"1\",\n    height: \"100%\",\n    width: \"100%\",\n    display: \"block\",\n    top: \"0\",\n    left: \"0\",\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center center\",\n    \"&:after\": {\n      position: \"absolute\",\n      zIndex: \"3\",\n      width: \"100%\",\n      height: \"100%\",\n      content: '\"\"',\n      display: \"block\",\n      background: blackColor,\n      opacity: \".8\"\n    }\n  },\n  list: {\n    marginTop: \"20px\",\n    paddingLeft: \"0\",\n    paddingTop: \"0\",\n    paddingBottom: \"0\",\n    marginBottom: \"0\",\n    listStyle: \"none\",\n    position: \"unset\"\n  },\n  item: {\n    position: \"relative\",\n    display: \"block\",\n    textDecoration: \"none\",\n    \"&:hover,&:focus,&:visited,&\": {\n      color: whiteColor\n    }\n  },\n  itemLink: {\n    width: \"auto\",\n    transition: \"all 300ms linear\",\n    margin: \"10px 15px 0\",\n    borderRadius: \"3px\",\n    position: \"relative\",\n    display: \"block\",\n    padding: \"10px 15px\",\n    backgroundColor: \"transparent\",\n    ...defaultFont\n  },\n  itemIcon: {\n    width: \"24px\",\n    height: \"30px\",\n    fontSize: \"24px\",\n    lineHeight: \"30px\",\n    float: \"left\",\n    marginRight: \"15px\",\n    textAlign: \"center\",\n    verticalAlign: \"middle\",\n    color: \"rgba(\" + hexToRgb(whiteColor) + \", 0.8)\"\n  },\n  itemIconRTL: {\n    marginRight: \"3px\",\n    marginLeft: \"15px\",\n    float: \"right\"\n  },\n  itemText: {\n    ...defaultFont,\n    margin: \"0\",\n    lineHeight: \"30px\",\n    fontSize: \"14px\",\n    color: whiteColor\n  },\n  itemTextRTL: {\n    textAlign: \"right\"\n  },\n  whiteFont: {\n    color: whiteColor\n  },\n  purple: {\n    backgroundColor: primaryColor[0],\n    ...primaryBoxShadow,\n    \"&:hover,&:focus\": {\n      backgroundColor: primaryColor[0],\n      ...primaryBoxShadow\n    }\n  },\n  blue: {\n    backgroundColor: infoColor[0],\n    boxShadow:\n      \"0 12px 20px -10px rgba(\" +\n      hexToRgb(infoColor[0]) +\n      \",.28), 0 4px 20px 0 rgba(\" +\n      hexToRgb(blackColor) +\n      \",.12), 0 7px 8px -5px rgba(\" +\n      hexToRgb(infoColor[0]) +\n      \",.2)\",\n    \"&:hover,&:focus\": {\n      backgroundColor: infoColor[0],\n      boxShadow:\n        \"0 12px 20px -10px rgba(\" +\n        hexToRgb(infoColor[0]) +\n        \",.28), 0 4px 20px 0 rgba(\" +\n        hexToRgb(blackColor) +\n        \",.12), 0 7px 8px -5px rgba(\" +\n        hexToRgb(infoColor[0]) +\n        \",.2)\"\n    }\n  },\n  green: {\n    backgroundColor: successColor[0],\n    boxShadow:\n      \"0 12px 20px -10px rgba(\" +\n      hexToRgb(successColor[0]) +\n      \",.28), 0 4px 20px 0 rgba(\" +\n      hexToRgb(blackColor) +\n      \",.12), 0 7px 8px -5px rgba(\" +\n      hexToRgb(successColor[0]) +\n      \",.2)\",\n    \"&:hover,&:focus\": {\n      backgroundColor: successColor[0],\n      boxShadow:\n        \"0 12px 20px -10px rgba(\" +\n        hexToRgb(successColor[0]) +\n        \",.28), 0 4px 20px 0 rgba(\" +\n        hexToRgb(blackColor) +\n        \",.12), 0 7px 8px -5px rgba(\" +\n        hexToRgb(successColor[0]) +\n        \",.2)\"\n    }\n  },\n  orange: {\n    backgroundColor: warningColor[0],\n    boxShadow:\n      \"0 12px 20px -10px rgba(\" +\n      hexToRgb(warningColor[0]) +\n      \",.28), 0 4px 20px 0 rgba(\" +\n      hexToRgb(blackColor) +\n      \",.12), 0 7px 8px -5px rgba(\" +\n      hexToRgb(warningColor[0]) +\n      \",.2)\",\n    \"&:hover,&:focus\": {\n      backgroundColor: warningColor[0],\n      boxShadow:\n        \"0 12px 20px -10px rgba(\" +\n        hexToRgb(warningColor[0]) +\n        \",.28), 0 4px 20px 0 rgba(\" +\n        hexToRgb(blackColor) +\n        \",.12), 0 7px 8px -5px rgba(\" +\n        hexToRgb(warningColor[0]) +\n        \",.2)\"\n    }\n  },\n  red: {\n    backgroundColor: dangerColor[0],\n    boxShadow:\n      \"0 12px 20px -10px rgba(\" +\n      hexToRgb(dangerColor[0]) +\n      \",.28), 0 4px 20px 0 rgba(\" +\n      hexToRgb(blackColor) +\n      \",.12), 0 7px 8px -5px rgba(\" +\n      hexToRgb(dangerColor[0]) +\n      \",.2)\",\n    \"&:hover,&:focus\": {\n      backgroundColor: dangerColor[0],\n      boxShadow:\n        \"0 12px 20px -10px rgba(\" +\n        hexToRgb(dangerColor[0]) +\n        \",.28), 0 4px 20px 0 rgba(\" +\n        hexToRgb(blackColor) +\n        \",.12), 0 7px 8px -5px rgba(\" +\n        hexToRgb(dangerColor[0]) +\n        \",.2)\"\n    }\n  },\n  sidebarWrapper: {\n    position: \"relative\",\n    height: \"calc(100vh - 75px)\",\n    overflow: \"auto\",\n    width: \"260px\",\n    zIndex: \"4\",\n    overflowScrolling: \"touch\"\n  },\n  activePro: {\n    [theme.breakpoints.up(\"md\")]: {\n      position: \"absolute\",\n      width: \"100%\",\n      bottom: \"13px\"\n    }\n  }\n});\n\nexport default sidebarStyle;\n","/*eslint-disable*/\nimport React from \"react\";\nimport classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport { NavLink } from \"react-router-dom\";\n// import { Link } from \"@reach/router\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Icon from \"@material-ui/core/Icon\";\n// core components\nimport AdminNavbarLinks from \"components/Navbars/AdminNavbarLinks.js\";\n// import RTLNavbarLinks from \"components/Navbars/RTLNavbarLinks.js\";\n\nimport styles from \"assets/jss/material-dashboard-react/components/sidebarStyle.js\";\n\nconst useStyles = makeStyles(styles);\n\n// const NavLink = props => {\n//   const {activeClassName, ...rest } = props;\n//   return (\n//     <Link\n//       {...rest}\n//       getProps={({ isCurrent }) => {\n//         return isCurrent ? { className: activeClassName } : null;\n//       }}\n//     />\n//   )\n// };\n\nexport default function Sidebar(props) {\n  const classes = useStyles();\n  // verifies if routeName is the one active (in browser input)\n  function activeRoute(routeName) {\n    return window.location.href.indexOf(routeName) > -1 ? true : false;\n  }\n  const { color, logo, image, logoText, routes, lang } = props;\n  var links = (\n    <List className={classes.list}>\n      {routes.map((prop, key) => {\n        var activePro = \" \";\n        var listItemClasses;\n        listItemClasses = classNames({\n          [\" \" + classes[color]]: activeRoute(prop.layout + prop.path)\n        });\n        const whiteFontClasses = classNames({\n          [\" \" + classes.whiteFont]: activeRoute(prop.layout + prop.path)\n        });\n        return (\n          <NavLink\n            to={prop.layout + prop.path}\n            className={activePro + classes.item}\n            activeClassName=\"active\"\n            key={key}\n          >\n            <ListItem button className={classes.itemLink + listItemClasses}>\n              {typeof prop.icon === \"string\" ? (\n                <Icon\n                  className={classNames(classes.itemIcon, whiteFontClasses, {\n                    [classes.itemIconRTL]: props.rtlActive\n                  })}\n                >\n                  {prop.icon}\n                </Icon>\n              ) : (\n                <prop.icon\n                  className={classNames(classes.itemIcon, whiteFontClasses, {\n                    [classes.itemIconRTL]: props.rtlActive\n                  })}\n                />\n              )}\n              <ListItemText\n                primary={prop.display[lang]}\n                className={classNames(classes.itemText, whiteFontClasses, {\n                  [classes.itemTextRTL]: props.rtlActive\n                })}\n                disableTypography={true}\n              />\n            </ListItem>\n          </NavLink>\n        );\n      })}\n    </List>\n  );\n  var brand = (\n    <div className={classes.logo}>\n      <a\n        href=\"https://nanos.cloud/\"\n        className={classNames(classes.logoLink, {\n          [classes.logoLinkRTL]: props.rtlActive\n        })}\n        target=\"_blank\"\n      >\n        <div className={classes.logoImage}>\n          <img src={logo} alt=\"logo\" className={classes.img} />\n        </div>\n        {logoText}\n      </a>\n    </div>\n  );\n  return (\n    <div>\n      <Hidden mdUp implementation=\"css\">\n        <Drawer\n          variant=\"temporary\"\n          anchor={props.rtlActive ? \"left\" : \"right\"}\n          open={props.open}\n          classes={{\n            paper: classNames(classes.drawerPaper, {\n              [classes.drawerPaperRTL]: props.rtlActive\n            })\n          }}\n          onClose={props.handleDrawerToggle}\n          ModalProps={{\n            keepMounted: true // Better open performance on mobile.\n          }}\n        >\n          {brand}\n          <div className={classes.sidebarWrapper}>\n            <AdminNavbarLinks lang={lang}/>\n            {links}\n          </div>\n          {image !== undefined ? (\n            <div\n              className={classes.background}\n              style={{ backgroundImage: \"url(\" + image + \")\" }}\n            />\n          ) : null}\n        </Drawer>\n      </Hidden>\n      <Hidden smDown implementation=\"css\">\n        <Drawer\n          anchor={props.rtlActive ? \"right\" : \"left\"}\n          variant=\"permanent\"\n          open\n          classes={{\n            paper: classNames(classes.drawerPaper, {\n              [classes.drawerPaperRTL]: props.rtlActive\n            })\n          }}\n        >\n          {brand}\n          <div className={classes.sidebarWrapper}>{links}</div>\n          {image !== undefined ? (\n            <div\n              className={classes.background}\n              style={{ backgroundImage: \"url(\" + image + \")\" }}\n            />\n          ) : null}\n        </Drawer>\n      </Hidden>\n    </div>\n  );\n}\n\nSidebar.propTypes = {\n  rtlActive: PropTypes.bool,\n  handleDrawerToggle: PropTypes.func,\n  bgColor: PropTypes.oneOf([\"purple\", \"blue\", \"green\", \"orange\", \"red\"]),\n  logo: PropTypes.string,\n  image: PropTypes.string,\n  logoText: PropTypes.string,\n  routes: PropTypes.arrayOf(PropTypes.object),\n  open: PropTypes.bool\n};\n","import React from \"react\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\n\nconst styles = {\n  grid: {\n    margin: \"0 -15px !important\",\n    width: \"unset\"\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nexport default function GridContainer(props) {\n  const classes = useStyles();\n  const { children, ...rest } = props;\n  return (\n    <Grid container {...rest} className={classes.grid}>\n      {children}\n    </Grid>\n  );\n}\n\nGridContainer.propTypes = {\n  children: PropTypes.node\n};\n","import {\n  blackColor,\n  whiteColor,\n  hexToRgb\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst cardStyle = {\n  card: {\n    border: \"0\",\n    marginBottom: \"30px\",\n    marginTop: \"30px\",\n    borderRadius: \"6px\",\n    color: \"rgba(\" + hexToRgb(blackColor) + \", 0.87)\",\n    background: whiteColor,\n    width: \"100%\",\n    boxShadow: \"0 1px 4px 0 rgba(\" + hexToRgb(blackColor) + \", 0.14)\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    minWidth: \"0\",\n    wordWrap: \"break-word\",\n    fontSize: \".875rem\"\n  },\n  cardPlain: {\n    background: \"transparent\",\n    boxShadow: \"none\"\n  },\n  cardProfile: {\n    marginTop: \"30px\",\n    textAlign: \"center\"\n  },\n  cardChart: {\n    \"& p\": {\n      marginTop: \"0px\",\n      paddingTop: \"0px\"\n    }\n  }\n};\n\nexport default cardStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// @material-ui/icons\n\n// core components\nimport styles from \"assets/jss/material-dashboard-react/components/cardStyle.js\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function Card(props) {\n  const classes = useStyles();\n  const { className, children, plain, profile, chart, ...rest } = props;\n  const cardClasses = classNames({\n    [classes.card]: true,\n    [classes.cardPlain]: plain,\n    [classes.cardProfile]: profile,\n    [classes.cardChart]: chart,\n    [className]: className !== undefined\n  });\n  return (\n    <div className={cardClasses} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nCard.propTypes = {\n  className: PropTypes.string,\n  plain: PropTypes.bool,\n  profile: PropTypes.bool,\n  chart: PropTypes.bool,\n  children: PropTypes.node\n};\n","import {\n  warningCardHeader,\n  successCardHeader,\n  dangerCardHeader,\n  infoCardHeader,\n  primaryCardHeader,\n  roseCardHeader,\n  whiteColor\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst cardHeaderStyle = {\n  cardHeader: {\n    padding: \"0.75rem 1.25rem\",\n    marginBottom: \"0\",\n    borderBottom: \"none\",\n    background: \"transparent\",\n    zIndex: \"3 !important\",\n    \"&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\n      margin: \"0 15px\",\n      padding: \"0\",\n      position: \"relative\",\n      color: whiteColor\n    },\n    \"&:first-child\": {\n      borderRadius: \"calc(.25rem - 1px) calc(.25rem - 1px) 0 0\"\n    },\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\n      \"&:not($cardHeaderIcon)\": {\n        borderRadius: \"3px\",\n        marginTop: \"-20px\",\n        padding: \"15px\"\n      }\n    },\n    \"&$cardHeaderStats svg\": {\n      fontSize: \"36px\",\n      lineHeight: \"56px\",\n      textAlign: \"center\",\n      width: \"36px\",\n      height: \"36px\",\n      margin: \"10px 10px 4px\"\n    },\n    \"&$cardHeaderStats i,&$cardHeaderStats .material-icons\": {\n      fontSize: \"36px\",\n      lineHeight: \"56px\",\n      width: \"56px\",\n      height: \"56px\",\n      textAlign: \"center\",\n      overflow: \"unset\",\n      marginBottom: \"1px\"\n    },\n    \"&$cardHeaderStats$cardHeaderIcon\": {\n      textAlign: \"right\"\n    }\n  },\n  cardHeaderPlain: {\n    marginLeft: \"0px !important\",\n    marginRight: \"0px !important\"\n  },\n  cardHeaderStats: {\n    \"& $cardHeaderIcon\": {\n      textAlign: \"right\"\n    },\n    \"& h1,& h2,& h3,& h4,& h5,& h6\": {\n      margin: \"0 !important\"\n    }\n  },\n  cardHeaderIcon: {\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\n      background: \"transparent\",\n      boxShadow: \"none\"\n    },\n    \"& i,& .material-icons\": {\n      width: \"33px\",\n      height: \"33px\",\n      textAlign: \"center\",\n      lineHeight: \"33px\"\n    },\n    \"& svg\": {\n      width: \"24px\",\n      height: \"24px\",\n      textAlign: \"center\",\n      lineHeight: \"33px\",\n      margin: \"5px 4px 0px\"\n    }\n  },\n  warningCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...warningCardHeader\n    }\n  },\n  successCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...successCardHeader\n    }\n  },\n  dangerCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...dangerCardHeader\n    }\n  },\n  infoCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...infoCardHeader\n    }\n  },\n  primaryCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...primaryCardHeader\n    }\n  },\n  roseCardHeader: {\n    color: whiteColor,\n    \"&:not($cardHeaderIcon)\": {\n      ...roseCardHeader\n    }\n  }\n};\n\nexport default cardHeaderStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// @material-ui/icons\n\n// core components\nimport styles from \"assets/jss/material-dashboard-react/components/cardHeaderStyle.js\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function CardHeader(props) {\n  const classes = useStyles();\n  const { className, children, color, plain, stats, icon, ...rest } = props;\n  const cardHeaderClasses = classNames({\n    [classes.cardHeader]: true,\n    [classes[color + \"CardHeader\"]]: color,\n    [classes.cardHeaderPlain]: plain,\n    [classes.cardHeaderStats]: stats,\n    [classes.cardHeaderIcon]: icon,\n    [className]: className !== undefined\n  });\n  return (\n    <div className={cardHeaderClasses} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nCardHeader.propTypes = {\n  className: PropTypes.string,\n  color: PropTypes.oneOf([\n    \"warning\",\n    \"success\",\n    \"danger\",\n    \"info\",\n    \"primary\",\n    \"rose\"\n  ]),\n  plain: PropTypes.bool,\n  stats: PropTypes.bool,\n  icon: PropTypes.bool,\n  children: PropTypes.node\n};\n","const cardBodyStyle = {\n  cardBody: {\n    padding: \"0.9375rem 20px\",\n    flex: \"1 1 auto\",\n    WebkitBoxFlex: \"1\",\n    position: \"relative\"\n  },\n  cardBodyPlain: {\n    paddingLeft: \"5px\",\n    paddingRight: \"5px\"\n  },\n  cardBodyProfile: {\n    marginTop: \"15px\"\n  }\n};\n\nexport default cardBodyStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// @material-ui/icons\n\n// core components\nimport styles from \"assets/jss/material-dashboard-react/components/cardBodyStyle.js\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function CardBody(props) {\n  const classes = useStyles();\n  const { className, children, plain, profile, ...rest } = props;\n  const cardBodyClasses = classNames({\n    [classes.cardBody]: true,\n    [classes.cardBodyPlain]: plain,\n    [classes.cardBodyProfile]: profile,\n    [className]: className !== undefined\n  });\n  return (\n    <div className={cardBodyClasses} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nCardBody.propTypes = {\n  className: PropTypes.string,\n  plain: PropTypes.bool,\n  profile: PropTypes.bool,\n  children: PropTypes.node\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// core components\nimport styles from \"assets/jss/material-dashboard-react/components/typographyStyle.js\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function Info(props) {\n  const classes = useStyles();\n  const { children } = props;\n  return (\n    <div className={classes.defaultFontStyle + \" \" + classes.infoText}>\n      {children}\n    </div>\n  );\n}\n\nInfo.propTypes = {\n  children: PropTypes.node\n};\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Snack from \"@material-ui/core/Snackbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\n// @material-ui/icons\nimport Close from \"@material-ui/icons/Close\";\n// core components\nimport styles from \"assets/jss/material-dashboard-react/components/snackbarContentStyle.js\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function Snackbar(props) {\n  const classes = useStyles();\n  const { message, color, close, icon, place, open, rtlActive } = props;\n  var action = [];\n  const messageClasses = classNames({\n    [classes.iconMessage]: icon !== undefined\n  });\n  if (close !== undefined) {\n    action = [\n      <IconButton\n        className={classes.iconButton}\n        key=\"close\"\n        aria-label=\"Close\"\n        color=\"inherit\"\n        onClick={() => props.closeNotification()}\n      >\n        <Close className={classes.close} />\n      </IconButton>\n    ];\n  }\n  return (\n    <Snack\n      anchorOrigin={{\n        vertical: place.indexOf(\"t\") === -1 ? \"bottom\" : \"top\",\n        horizontal:\n          place.indexOf(\"l\") !== -1\n            ? \"left\"\n            : place.indexOf(\"c\") !== -1\n            ? \"center\"\n            : \"right\"\n      }}\n      open={open}\n      message={\n        <div>\n          {icon !== undefined ? <props.icon className={classes.icon} /> : null}\n          <span className={messageClasses}>{message}</span>\n        </div>\n      }\n      action={action}\n      ContentProps={{\n        classes: {\n          root: classes.root + \" \" + classes[color],\n          message: classes.message,\n          action: classNames({ [classes.actionRTL]: rtlActive })\n        }\n      }}\n    />\n  );\n}\n\nSnackbar.propTypes = {\n  message: PropTypes.node.isRequired,\n  color: PropTypes.oneOf([\"info\", \"success\", \"warning\", \"danger\", \"primary\"]),\n  close: PropTypes.bool,\n  icon: PropTypes.object,\n  place: PropTypes.oneOf([\"tl\", \"tr\", \"tc\", \"br\", \"bl\", \"bc\"]),\n  open: PropTypes.bool,\n  rtlActive: PropTypes.bool,\n  closeNotification: PropTypes.func\n};\n","import {\n  warningColor,\n  primaryColor,\n  dangerColor,\n  successColor,\n  infoColor,\n  roseColor,\n  grayColor,\n  defaultFont\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst tableStyle = theme => ({\n  warningTableHeader: {\n    color: warningColor[0]\n  },\n  primaryTableHeader: {\n    color: primaryColor[0]\n  },\n  dangerTableHeader: {\n    color: dangerColor[0]\n  },\n  successTableHeader: {\n    color: successColor[0]\n  },\n  infoTableHeader: {\n    color: infoColor[0]\n  },\n  roseTableHeader: {\n    color: roseColor[0]\n  },\n  grayTableHeader: {\n    color: grayColor[0]\n  },\n  table: {\n    marginBottom: \"0\",\n    width: \"100%\",\n    maxWidth: \"100%\",\n    backgroundColor: \"transparent\",\n    borderSpacing: \"0\",\n    borderCollapse: \"collapse\"\n  },\n  tableHeadCell: {\n    color: \"inherit\",\n    ...defaultFont,\n    \"&, &$tableCell\": {\n      fontSize: \"1em\"\n    }\n  },\n  tableCell: {\n    ...defaultFont,\n    lineHeight: \"1.42857143\",\n    padding: \"12px 8px\",\n    verticalAlign: \"middle\",\n    fontSize: \"0.8125rem\"\n  },\n  tableResponsive: {\n    width: \"100%\",\n    marginTop: theme.spacing(3),\n    overflowX: \"auto\"\n  },\n  tableHeadRow: {\n    height: \"56px\",\n    color: \"inherit\",\n    display: \"table-row\",\n    outline: \"none\",\n    verticalAlign: \"middle\"\n  },\n  tableBodyRow: {\n    height: \"48px\",\n    color: \"inherit\",\n    display: \"table-row\",\n    outline: \"none\",\n    verticalAlign: \"middle\"\n  }\n});\n\nexport default tableStyle;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\n// core components\nimport styles from \"assets/jss/material-dashboard-react/components/tableStyle.js\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function ObjectTable(props){\n  const classes = useStyles();\n  const { color, headers, rows } = props;\n  return (\n    <div className={classes.tableResponsive}>\n      <Table className={classes.table}>\n        <TableHead className={classes[color + \"TableHeader\"]}>\n          <TableRow className={classes.tableHeadRow}>\n            {headers.map((prop, key) => {\n              return (\n                <TableCell\n                  className={classes.tableCell + \" \" + classes.tableHeadCell}\n                  key={key}\n                >\n                  {prop}\n                </TableCell>\n              );\n            })}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {\n            rows.map((row, rowKey) => (\n              <TableRow key={rowKey} className={classes.tableBodyRow}>\n                {\n                  row.map((cell, cellKey) => (\n                    <TableCell className={classes.tableCell} key={cellKey}>\n                      {cell}\n                    </TableCell>\n                  ))\n                }\n              </TableRow>\n            ))\n          }\n        </TableBody>\n      </Table>\n    </div>\n  )\n}\n\nObjectTable.defaultProps = {\n  color: \"gray\"\n};\n\nObjectTable.propTypes = {\n  color: PropTypes.oneOf([\n    \"warning\",\n    \"primary\",\n    \"danger\",\n    \"success\",\n    \"info\",\n    \"rose\",\n    \"gray\"\n  ]),\n  headers: PropTypes.arrayOf(PropTypes.node),\n  rows: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.node)),\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport InnerButton from \"@material-ui/core/IconButton\";\n\nexport default function IconButton(props){\n  const { label, icon, href, placement, color, onClick } = props;\n  let tooltipPlacement, iconColor;\n  if(placement){\n    tooltipPlacement = placement;\n  }else{\n    tooltipPlacement = 'top';\n  }\n  if(color){\n    iconColor = color;\n  }else{\n    iconColor = 'inherit';\n  }\n  let innerButton;\n  if (onClick){\n    innerButton = <InnerButton onClick={onClick} color={iconColor}>{React.createElement(icon)}</InnerButton>;\n  }else if (href){\n    innerButton = <Link to={href}><InnerButton color={iconColor}>{React.createElement(icon)}</InnerButton></Link>;\n  }else{\n    innerButton = <InnerButton color={iconColor}>{React.createElement(icon)}</InnerButton>;\n  }\n\n  return (\n    <Tooltip\n      title={label}\n      placement={tooltipPlacement}\n      >\n      {innerButton}\n    </Tooltip>\n  )\n}\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { removeComputeCell } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Remove Cell',\n    content: 'Are you sure to remove compute cell ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '移除资源节点',\n    content: '是否移除资源节点 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nconst RemoveDialog = (props) =>{\n  const { lang, pool, cell, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const content = texts.content + cell;\n  const onRemoveFail = (msg) =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onRemoveSuccess = (poolName, cellName) =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(cellName);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    removeComputeCell(pool, cell, onRemoveSuccess, onRemoveFail);\n  }\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n  \n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n\nexport default RemoveDialog;\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { queryUnallocatedComputeCells, addComputeCell } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Add Compute Cell To Pool ',\n    name: 'Cell Name',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '添加节点到资源池 ',\n    name: '资源节点名称',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nconst AddDialog = (props) =>{\n  const defaultValues = {\n    cell: '',\n  };\n  const { lang, pool, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState([]);\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onAddFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  }\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onAddSuccess = (poolName, cellName) =>{\n    setOperatable(true);\n    resetDialog();\n    onSuccess(cellName);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    const cellName = request.cell;\n    if ('' === cellName){\n      onAddFail('must select a cell');\n      return;\n    }\n    addComputeCell(pool, cellName, onAddSuccess, onAddFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open || initialed){\n      return;\n    }\n\n    const onQueryCellSuccess = (dataList) => {\n      var cellList = [];\n      dataList.forEach((cell)=>{\n        var item = {\n          label: cell.address ? cell.name + ' (' + cell.address + ')' : cell.name,\n          value: cell.name,\n        }\n        cellList.push(item);\n      })\n      if (0 === cellList.length){\n        onAddFail('no unallocated cells available');\n        setInitialed(true);\n        return;\n      }\n      setOptions(cellList);\n      setInitialed(true);\n    };\n\n    queryUnallocatedComputeCells(onQueryCellSuccess, onAddFail);\n  }, [initialed, open]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"select\",\n        label: texts.name,\n        onChange: handleRequestPropsChanged('cell'),\n        value: request.cell,\n        options: options,\n        required: true,\n        oneRow: true,\n        xs: 8,\n      },\n    ];\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n\nexport default AddDialog;\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nimport PowerIcon from '@material-ui/icons/Power';\nimport PowerOffIcon from '@material-ui/icons/PowerOff';\nimport WifiRoundedIcon from '@material-ui/icons/WifiRounded';\nimport WifiOffRoundedIcon from '@material-ui/icons/WifiOffRounded';\nimport CheckIcon from '@material-ui/icons/Check';\nimport BlockIcon from '@material-ui/icons/Block';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\n// core components\nimport tableStyles from \"assets/jss/material-dashboard-react/components/tableStyle.js\";\nimport fontStyles from \"assets/jss/material-dashboard-react/components/typographyStyle.js\";\nimport { getComputeCell } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    name: \"Name\",\n    address: \"Address\",\n    alive: \"Alive\",\n    status: \"Status\",\n    enabled: 'Enabled',\n    disabled: 'Disabled',\n    online: \"Online\",\n    offline: \"Offline\",\n    title: 'Current Cell Status',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n    attached: 'Attached',\n    storage: 'Backend Storage',\n    localStorage: 'Use local storage',\n  },\n  'cn':{\n    name: \"名称\",\n    address: \"地址\",\n    alive: \"活动\",\n    status: \"状态\",\n    enabled: '已启用',\n    disabled: '已禁用',\n    online: \"在线\",\n    offline: \"离线\",\n    title: '当前节点状态',\n    cancel: '取消',\n    confirm: '确定',\n    attached: '已挂载',\n    storage: '后端存储',\n    localStorage: '使用本地存储',\n  },\n}\n\nconst DetailDialog = (props) => {\n  const classes = makeStyles(tableStyles)();\n  const fontClasses = makeStyles(fontStyles)();\n  const { lang, pool, cell, open, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ error, setError ] = React.useState('');\n  const [ status, setStatus ] = React.useState(null);\n\n  const texts = i18n[lang];\n\n  const onFetchFail = (msg) =>{\n    setError(msg);\n  }\n\n  const resetDialog = () =>{\n    setError('');\n    setStatus(null);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n\n  React.useEffect(()=>{\n    if (!pool || !cell || !open || initialed ){\n      return;\n    }\n\n    const onFetchSuccess = (currentStatus) =>{\n      setStatus(currentStatus);\n      setInitialed(true);\n    }\n\n    getComputeCell(pool, cell, onFetchSuccess, onFetchFail);\n\n  }, [initialed, open, pool, cell]);\n\n  //begin render\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    let statusLabel, statusIcon;\n    if (status.enabled){\n      statusLabel = texts.enabled;\n      statusIcon = <CheckIcon className={fontClasses.successText}/>;\n    }else{\n      statusLabel = texts.disabled;\n      statusIcon = <BlockIcon className={fontClasses.warningText}/>;\n    }\n\n    let aliveLabel, aliveIcon;\n    if (status.alive){\n      aliveLabel = texts.online;\n      aliveIcon = <WifiRoundedIcon className={fontClasses.successText}/>;\n    }else{\n      aliveLabel = texts.offline;\n      aliveIcon = <WifiOffRoundedIcon className={fontClasses.warningText}/>;\n    }\n\n    content = (\n      <div className={classes.tableResponsive}>\n        <Table className={classes.table}>\n          <TableBody>\n            <TableRow className={classes.tableBodyRow}>\n              <TableCell className={classes.tableCell}>\n                {texts.name}\n              </TableCell>\n              <TableCell className={classes.tableCell}>\n                {status.name}\n              </TableCell>\n            </TableRow>\n            <TableRow className={classes.tableBodyRow}>\n              <TableCell className={classes.tableCell}>\n                {texts.address}\n              </TableCell>\n              <TableCell className={classes.tableCell}>\n                {status.address ? status.address : ''}\n              </TableCell>\n            </TableRow>\n            <TableRow className={classes.tableBodyRow}>\n              <TableCell className={classes.tableCell}>\n                {texts.status}\n              </TableCell>\n              <TableCell className={classes.tableCell}>\n                <Tooltip\n                  title={statusLabel}\n                  placement=\"top\"\n                  >\n                  {statusIcon}\n                </Tooltip>\n              </TableCell>\n            </TableRow>\n            <TableRow className={classes.tableBodyRow}>\n              <TableCell className={classes.tableCell}>\n                {texts.alive}\n              </TableCell>\n              <TableCell className={classes.tableCell}>\n                <Tooltip\n                  title={aliveLabel}\n                  placement=\"top\"\n                  >\n                  {aliveIcon}\n                </Tooltip>\n              </TableCell>\n            </TableRow>\n            {\n              status.storage?\n              status.storage.map( storage => {\n                let icon;\n                if (storage.attached){\n                  icon = (\n                    <Tooltip\n                      title={texts.attached}\n                      placement=\"top\"\n                      >\n                      <PowerIcon className={fontClasses.successText}/>\n                    </Tooltip>\n                  );\n                }else{\n                  icon = (\n                    <Tooltip\n                      title={storage.error}\n                      placement=\"top\"\n                      >\n                      <PowerOffIcon className={fontClasses.warningText}/>\n                    </Tooltip>\n                  );\n                }\n                return (\n                  <TableRow className={classes.tableBodyRow}>\n                    <TableCell className={classes.tableCell}>\n                      {storage.name}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {icon}\n                    </TableCell>\n                  </TableRow>\n                )\n              }):\n              <TableRow className={classes.tableBodyRow}>\n                <TableCell className={classes.tableCell}>\n                  {texts.storage}\n                </TableCell>\n                <TableCell className={classes.tableCell}>\n                  {texts.localStorage}\n                </TableCell>\n              </TableRow>\n            }\n          </TableBody>\n        </Table>\n      </div>\n    );\n  }\n\n  let prompt;\n  if (!error || '' === error){\n    prompt = <GridItem xs={12}/>;\n  }else{\n    prompt = (\n      <GridItem xs={12}>\n        <SnackbarContent message={error} color=\"danger\"/>\n      </GridItem>\n    );\n  }\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby={texts.title}\n      maxWidth=\"sm\"\n      fullWidth\n    >\n      <DialogTitle>{texts.title}</DialogTitle>\n      <DialogContent>\n        <Grid container>\n          <GridItem xs={12}>\n            {content}\n          </GridItem>\n          {prompt}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"transparent\" autoFocus>\n          {texts.cancel}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n\nexport default DetailDialog;\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { queryComputeCellsInPool, migrateInstancesInCell } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Migrate All Instance',\n    sourcePool: 'Source Pool',\n    sourceCell: 'Source Cell',\n    targetCell: 'Target Cell',\n    offline: 'Offline',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '迁移所有云主机实例',\n    sourcePool: '源资源池',\n    sourceCell: '源节点',\n    targetCell: '目标节点',\n    offline: '离线',\n    cancel: '取消',\n    confirm: '确认',\n  },\n}\n\nexport default function MigrateInstancesDialog(props){\n  const defaultValues = {\n    targetCell: '',\n  };\n  const { lang, open, sourcePool, sourceCell, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState({\n    cells: [],\n  });\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onMigrateFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  }\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onMigrateSuccess = (sourceCell, targetCell) =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(sourceCell, targetCell);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    const targetCell = request.targetCell;\n    if ('' === targetCell){\n      onMigrateFail('select a target cell');\n      return;\n    }\n    migrateInstancesInCell(sourcePool, sourceCell, targetCell, onMigrateSuccess, onMigrateFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n    setMounted(true);\n    const onQueryCellSuccess = dataList => {\n      if(!mounted){\n        return;\n      }\n      var cellList = [];\n      dataList.forEach(cell =>{\n        if (cell.name !== sourceCell){\n          let label;\n          if(cell.alive){\n            label = cell.name + '('+ cell.address +')';\n          }else{\n            label = cell.name + '('+ texts.offline +')';\n          }\n\n          cellList.push({\n            label: label,\n            value: cell.name,\n            disabled: !cell.alive,\n          })\n        }\n      });\n      if (0 === cellList.length){\n        onMigrateFail('no target cell available');\n        return;\n      }\n      setOptions({\n        cells: cellList,\n      });\n      setInitialed(true);\n    };\n\n    queryComputeCellsInPool(sourcePool, onQueryCellSuccess, onMigrateFail);\n    return () => {\n      setMounted(false);\n    }\n  }, [mounted, open, sourcePool, sourceCell, onMigrateFail, texts.offline]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.sourcePool,\n        value: sourcePool,\n        disabled: true,\n        oneRow: true,\n        xs: 12,\n        sm: 8,\n      },\n      {\n        type: \"text\",\n        label: texts.sourceCell,\n        value: sourceCell,\n        disabled: true,\n        oneRow: true,\n        xs: 12,\n        sm: 8,\n      },\n      {\n        type: \"select\",\n        label: texts.targetCell,\n        onChange: handleRequestPropsChanged('targetCell'),\n        value: request.targetCell,\n        options: options.cells,\n        required: true,\n        oneRow: true,\n        xs: 12,\n        sm: 10,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { queryComputeCellStorages, changeComputeCellStorage } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Change Storage Path',\n    current: \"Current Storage Path\",\n    location: \"New Storage Location\",\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改存储路径',\n    current: \"当前存储路径\",\n    location: \"新存储路径\",\n    cancel: '取消',\n    confirm: '确认',\n  },\n}\n\nexport default function ChangeStoragePathDialog(props){\n  const defaultValues = {\n    current: \"\",\n    path: \"\",\n  };\n  const { lang, open, pool, cell, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onChangeFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  }\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onChangeSuccess = () =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(request.path, cell, pool);\n  }\n\n  const handleConfirm = () =>{\n    const newLocation = request.path;\n    if ('' === newLocation){\n      onChangeFail('input a new location');\n      return;\n    }\n    setPrompt('');\n    setOperatable(false);\n    changeComputeCellStorage(pool, cell, newLocation, onChangeSuccess, onChangeFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open || !pool || !cell){\n      return;\n    }\n    setMounted(true);\n    const onQueryPathsSuccess = payload => {\n      if(!mounted){\n        return;\n      }\n      if (!payload.system){\n        onChangeFail('no system paths available');\n        return;\n      }\n      if (0 === payload.system.length){\n        onChangeFail('no system paths available');\n        return;\n      }\n      var currentPath = payload.system[0];\n      if (!currentPath){\n        onChangeFail('no system paths available');\n        return;\n      }\n      setRequest({\n        current: currentPath,\n        path: \"\",\n      })\n      setInitialed(true);\n    };\n\n    queryComputeCellStorages(pool, cell, onQueryPathsSuccess, onChangeFail);\n    return () => {\n      setMounted(false);\n    }\n  }, [mounted, open, pool, cell, onChangeFail]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.current,\n        value: request.current,\n        disabled: true,\n        oneRow: true,\n        xs: 12,\n        sm: 8,\n      },\n      {\n        type: \"text\",\n        label: texts.location,\n        onChange: handleRequestPropsChanged('path'),\n        value: request.path,\n        required: true,\n        oneRow: true,\n        xs: 12,\n        sm: 8,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport CheckIcon from '@material-ui/icons/Check';\nimport BlockIcon from '@material-ui/icons/Block';\nimport CloudQueueIcon from '@material-ui/icons/CloudQueue';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport LocalShippingRoundedIcon from '@material-ui/icons/LocalShippingRounded';\nimport WifiRoundedIcon from '@material-ui/icons/WifiRounded';\nimport WifiOffRoundedIcon from '@material-ui/icons/WifiOffRounded';\nimport StorageIcon from '@material-ui/icons/Storage';\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Table from \"components/Table/ObjectTable.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport RemoveDialog from \"views/ComputeCells/RemoveDialog.js\";\nimport AddDialog from \"views/ComputeCells/AddDialog.js\";\nimport DetailDialog from \"views/ComputeCells/DetailDialog.js\";\nimport MigrateDialog from \"views/ComputeCells/MigrateDialog\";\nimport StorageDialog from \"views/ComputeCells/ChangeStorageDialog\";\nimport fontStyles from \"assets/jss/material-dashboard-react/components/typographyStyle.js\";\nimport { queryComputeCellsInPool, modifyComputeCell, writeLog } from \"nano_api.js\";\nimport { useLocation } from \"react-router-dom\";\n\nconst styles = {\n  ...fontStyles,\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    addButton: \"Add Compute Cell\",\n    tableTitle: \"Compute Cells\",\n    name: \"Name\",\n    address: \"Address\",\n    alive: \"Alive\",\n    status: \"Status\",\n    operates: \"Operates\",\n    noResource: \"No compute cell available\",\n    computePools: \"Compute Pools\",\n    enable: 'Enable',\n    disable: 'Disable',\n    enabled: 'Enabled',\n    disabled: 'Disabled',\n    instances: 'Instances',\n    detail: 'Detail',\n    remove: 'Remove',\n    migrate: 'Migrate',\n    online: \"Online\",\n    offline: \"Offline\",\n    changeStorage: \"Change Storage Path\",\n  },\n  'cn':{\n    addButton: \"添加资源节点\",\n    tableTitle: \"计算资源节点\",\n    name: \"名称\",\n    address: \"地址\",\n    alive: \"活动\",\n    status: \"状态\",\n    operates: \"操作\",\n    noResource: \"没有计算资源节点\",\n    computePools: \"计算资源池\",\n    enable: '启用',\n    disable: '禁用',\n    enabled: '已启用',\n    disabled: '已禁用',\n    instances: '云主机实例',\n    detail: '详情',\n    remove: '移除',\n    migrate: '迁移',\n    online: \"在线\",\n    offline: \"离线\",\n    changeStorage: \"修改存储路径\",\n  }\n}\n\nexport default function ComputeCells(props){\n    const classes = useStyles();\n    const { lang } = props;\n    const texts = i18n[lang];\n    const [ mounted, setMounted ] = React.useState(false);\n    const [ dataList, setDataList ] = React.useState(null);\n    const location = useLocation();\n    const queryParams = new URLSearchParams(location.search);\n    const poolName = queryParams.get(\"pool\");\n\n    //for dialog\n    const [ addDialogVisible, setAddDialogVisible ] = React.useState(false);\n    const [ detailDialogVisible, setDetailDialogVisible ] = React.useState(false);\n    const [ removeDialogVisible, setRemoveDialogVisible ] = React.useState(false);\n    const [ migrateDialogVisible, setMigrateDialogVisible ] = React.useState(false);\n    const [ storageDialogVisible, setStorageDialogVisible ] = React.useState(false);\n    const [ selected, setSelected ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage, mounted]);\n\n    const reloadAllData = React.useCallback(() => {\n      if (!mounted){\n        return;\n      }\n      const onLoadFail = (err) =>{\n        if (!mounted){\n          return;\n        }\n        showErrorMessage(err);\n      }\n      queryComputeCellsInPool(poolName, setDataList, onLoadFail);\n    }, [poolName, showErrorMessage, mounted]);\n\n    const showNotifyMessage = (msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    //detail\n    const showDetailDialog = (cellName) =>{\n      setDetailDialogVisible(true);\n      setSelected(cellName);\n    }\n\n    const closeDetailDialog = () =>{\n      setDetailDialogVisible(false);\n    }\n\n    //delete\n    const showRemoveDialog = (cellName) =>{\n      setRemoveDialogVisible(true);\n      setSelected(cellName);\n    }\n\n    const closeRemoveDialog = () =>{\n      setRemoveDialogVisible(false);\n    }\n\n    const onRemoveSuccess = (cellName) =>{\n      closeRemoveDialog();\n      showNotifyMessage('cell '+ cellName + ' removed from ' + poolName);\n      reloadAllData();\n    };\n\n    //create\n    const showAddDialog = () =>{\n      setAddDialogVisible(true);\n    };\n\n    const closeAddDialog = () =>{\n      setAddDialogVisible(false);\n    }\n\n    const onAddSuccess = (cellName) =>{\n      closeAddDialog();\n      showNotifyMessage('cell '+ cellName + ' added to ' + poolName);\n      reloadAllData();\n    };\n\n    //migrate instance\n    const showMigrateDialog = cellName =>{\n      setMigrateDialogVisible(true);\n      setSelected(cellName);\n    }\n\n    const closeMigrateDialog = () =>{\n      setMigrateDialogVisible(false);\n    }\n\n    const onMigrateSuccess = () =>{\n      closeMigrateDialog();\n      reloadAllData();\n    };\n\n    //change storage\n    //migrate instance\n    const showStorageDialog = cellName =>{\n      setStorageDialogVisible(true);\n      setSelected(cellName);\n    }\n\n    const closeStorageDialog = () =>{\n      setStorageDialogVisible(false);\n    }\n\n    const onStoragePathChange = (location, cellName) =>{\n      closeStorageDialog();\n      showNotifyMessage('storage path of  '+ cellName + ' changed to ' + location);\n    };\n\n    const enableCell = cellName =>{\n      const onSuccess = () =>{\n        if (!mounted){\n          return;\n        }\n        reloadAllData();\n      }\n      modifyComputeCell(poolName, cellName, true, onSuccess, showErrorMessage);\n    }\n\n    const disableCell = cellName =>{\n      const onSuccess = () =>{\n        if (!mounted){\n          return;\n        }\n        reloadAllData();\n      }\n      modifyComputeCell(poolName, cellName, false, onSuccess, showErrorMessage);\n    }\n\n    React.useEffect(() =>{\n      setMounted(true);\n      reloadAllData();\n      const updateInterval = 5 * 1000;\n      var timerID = setInterval(()=>{\n        if (mounted){\n          reloadAllData();\n        }\n      }, updateInterval);\n      return () =>{\n        setMounted(false);\n        clearInterval(timerID);\n      }\n    }, [reloadAllData, mounted]);\n\n    let content;\n    if (null === dataList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === dataList.length){\n      content = <Box display=\"flex\" justifyContent=\"center\"><Info>{texts.noResource}</Info></Box>;\n    }else{\n      var rows = [];\n      dataList.forEach( cell => {\n        var buttons = [\n          {\n            label: texts.instances,\n            icon: CloudQueueIcon,\n            href: '/admin/instances/range/?pool=' + poolName + '&cell=' + cell.name,\n          },\n          {\n            onClick: e => showDetailDialog(cell.name),\n            icon: SettingsIcon,\n            label: texts.detail,\n          },\n          {\n            onClick: e => showStorageDialog(cell.name),\n            icon: StorageIcon,\n            label: texts.changeStorage,\n          },\n          {\n            onClick: e => showRemoveDialog(cell.name),\n            icon: DeleteIcon,\n            label: texts.remove,\n          },\n          {\n            onClick: e => showMigrateDialog(cell.name),\n            icon: LocalShippingRoundedIcon,\n            label: texts.migrate,\n          },\n        ];\n\n        const { name, address, enabled, alive } = cell;\n        let statusIcon, aliveIcon;\n        if (enabled){\n          statusIcon = (\n            <Tooltip\n              title={texts.enabled}\n              placement=\"top\"\n              >\n              <CheckIcon className={classes.successText}/>\n            </Tooltip>\n          );\n          const disableButton = {\n            label: texts.disable,\n            icon: BlockIcon,\n            onClick: () => disableCell(name),\n          };\n          buttons = [disableButton].concat(buttons);\n        }else{\n          statusIcon = (\n            <Tooltip\n              title={texts.disabled}\n              placement=\"top\"\n              >\n              <BlockIcon className={classes.warningText}/>\n            </Tooltip>\n          );\n          const enableButton = {\n            label: texts.enable,\n            icon: CheckIcon,\n            onClick: () => enableCell(name),\n          };\n          buttons = [enableButton].concat(buttons);\n        }\n\n        if (alive){\n          aliveIcon = (\n            <Tooltip\n              title={texts.online}\n              placement=\"top\"\n              >\n              <WifiRoundedIcon className={classes.successText}/>\n            </Tooltip>\n          );\n        }else{\n          aliveIcon = (\n            <Tooltip\n              title={texts.offline}\n              placement=\"top\"\n              >\n              <WifiOffRoundedIcon className={classes.warningText}/>\n            </Tooltip>\n          );\n        }\n\n        const operates = buttons.map((button, key) => (\n          React.createElement(IconButton, {\n            ...button,\n            key: key,\n          })\n        ))\n        var row = [name, address, aliveIcon, statusIcon, operates];\n        rows.push(row);\n      });\n      content = (\n        <Table\n          color=\"primary\"\n          headers={[texts.name, texts.address, texts.alive, texts.status, texts.operates]}\n          rows={rows}/>\n      );\n    }\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\">\n            <Link to='/admin/compute_pools/'>\n              {texts.computePools}\n            </Link>\n            <Typography color=\"textPrimary\">{poolName}</Typography>\n          </Breadcrumbs>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n          <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <GridContainer>\n            <GridItem xs={3}>\n              <Button size=\"sm\" color=\"info\" round onClick={showAddDialog}><AddIcon />{texts.addButton}</Button>\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n        <GridItem xs={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              <h4 className={classes.cardTitleWhite}>{texts.tableTitle}</h4>\n            </CardHeader>\n            <CardBody>\n              {content}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <Snackbar\n          place=\"tr\"\n          color={notifyColor}\n          message={notifyMessage}\n          open={\"\" !== notifyMessage}\n          closeNotification={closeNotify}\n          close\n        />\n        <AddDialog\n          lang={lang}\n          open={addDialogVisible}\n          pool={poolName}\n          onSuccess={onAddSuccess}\n          onCancel={closeAddDialog}\n          />\n        <DetailDialog\n          lang={lang}\n          open={detailDialogVisible}\n          pool={poolName}\n          cell={selected}\n          onCancel={closeDetailDialog}\n          />\n        <RemoveDialog\n          lang={lang}\n          open={removeDialogVisible}\n          pool={poolName}\n          cell={selected}\n          onSuccess={onRemoveSuccess}\n          onCancel={closeRemoveDialog}\n          />\n        <MigrateDialog\n          lang={lang}\n          open={migrateDialogVisible}\n          sourcePool={poolName}\n          sourceCell={selected}\n          onSuccess={onMigrateSuccess}\n          onCancel={closeMigrateDialog}\n          />\n        <StorageDialog\n          lang={lang}\n          open={storageDialogVisible}\n          pool={poolName}\n          cell={selected}\n          onSuccess={onStoragePathChange}\n          onCancel={closeStorageDialog}\n          />\n      </GridContainer>\n    );\n}\n","import React from \"react\";\n// react plugin for creating charts\nimport { Pie } from 'react-chartjs-2';\n\nexport default function PieChart(props){\n  const { series } = props;\n  var labels = [];\n  var valueList = [];\n  var colorList = [];\n  series.forEach( slice => {\n    labels.push(slice.label);\n    valueList.push(slice.value);\n    colorList.push(slice.color);\n  });\n\n  const chartData = {\n    labels: labels,\n    datasets: [\n      {\n        data: valueList,\n        backgroundColor: colorList,\n        borderWidth: 1,\n        hoverBorderWidth: 0,\n      }\n    ],\n  };\n\n  const chartOptions = {\n    cutoutPercentage: 5,\n    legend: {\n      display: false,\n    },\n    layout: {\n            padding: {\n                left: 0,\n                right: 0,\n                top: 0,\n                bottom: 0\n            }\n        }\n  };\n\n  return <Pie data={chartData} options={chartOptions}/>;\n}\n","import {\n  successColor,\n  whiteColor,\n  grayColor,\n  hexToRgb\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst dashboardStyle = {\n  successText: {\n    color: successColor[0]\n  },\n  upArrowCardCategory: {\n    width: \"16px\",\n    height: \"16px\"\n  },\n  stats: {\n    color: grayColor[0],\n    display: \"inline-flex\",\n    fontSize: \"12px\",\n    lineHeight: \"22px\",\n    \"& svg\": {\n      top: \"4px\",\n      width: \"16px\",\n      height: \"16px\",\n      position: \"relative\",\n      marginRight: \"3px\",\n      marginLeft: \"3px\"\n    },\n    \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\n      top: \"4px\",\n      fontSize: \"16px\",\n      position: \"relative\",\n      marginRight: \"3px\",\n      marginLeft: \"3px\"\n    }\n  },\n  cardCategory: {\n    color: grayColor[0],\n    margin: \"0\",\n    fontSize: \"14px\",\n    marginTop: \"0\",\n    paddingTop: \"10px\",\n    marginBottom: \"0\"\n  },\n  cardCategoryWhite: {\n    color: \"rgba(\" + hexToRgb(whiteColor) + \",.62)\",\n    margin: \"0\",\n    fontSize: \"14px\",\n    marginTop: \"0\",\n    marginBottom: \"0\"\n  },\n  cardTitle: {\n    color: grayColor[2],\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: grayColor[1],\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  },\n  cardTitleWhite: {\n    color: whiteColor,\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: grayColor[1],\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nexport default dashboardStyle;\n","import React from \"react\";\n// react plugin for creating charts\n// @material-ui/core\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport PieChart from \"views/Dashboard/PieChart.js\";\nimport { grayColor } from \"assets/jss/material-dashboard-react.js\";\nimport dashboardStyles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\n\nexport default function PieCard(props){\n  const {title, series, displayValue } = props;\n  var total = 0;\n  var chartStyles = {\n    ...dashboardStyles,\n  };\n\n  series.forEach( (slice, index) => {\n    //slice => {value, color, label}\n    total += slice.value;\n    const seriesName = 'series-' + index.toString();\n    chartStyles[seriesName] = {\n      ...dashboardStyles.cardCategory,\n      color: slice.color,\n    };\n  });\n\n  chartStyles.topDivider = {\n    borderTop: \"1px solid \" + grayColor[10],\n  }\n\n  const useStyles = makeStyles(chartStyles);\n  const classes = useStyles();\n  let totalLabel;\n  if(displayValue){\n    totalLabel = displayValue(total);\n  }else{\n    totalLabel = total.toString();\n  }\n  return (\n    <Card chart>\n      <CardHeader>\n        <Typography className={classes.cardCategory}>\n          {title + ': ' + totalLabel}\n        </Typography>\n        <PieChart series={series}/>\n      </CardHeader>\n      <CardBody>\n        <Box m={0} p={2}  className={classes.topDivider}>\n          <Box display='flex'>\n            {\n              series.map((slice, index) =>{\n                let valueLabel;\n                if (displayValue){\n                  valueLabel = displayValue(slice.value);\n                }else{\n                  valueLabel = slice.value.toString();\n                }\n                return(\n                  <Box m={1} key={slice.label}>\n                    <Typography component='span' className={classes['series-' + index.toString()]}>\n                      {slice.label}\n                    </Typography>\n                    <Typography component='span'>\n                      {': ' + valueLabel}\n                    </Typography>\n                  </Box>\n                )\n              })\n            }\n            </Box>\n        </Box>\n      </CardBody>\n    </Card>\n  )\n}\n","import React from \"react\";\n// react plugin for creating charts\nimport { Line } from 'react-chartjs-2';\n// @material-ui/core\nimport { blackColor, whiteColor } from \"assets/jss/material-dashboard-react.js\";\n\nexport default function LineChart(props){\n  const DefaultMaxTicks = 10;\n  const { series, minTickStep, displayValue, light, maxTicks, maxValue } = props;\n  const maxTicksValue = maxTicks? maxTicks : DefaultMaxTicks;\n  const brushColor = light ? blackColor : whiteColor;\n  const dataCount = series[0].data.length;\n  const labels = new Array(dataCount).fill('');\n  const minValue = 0;\n  const maxValueFixed = maxValue? true: false;\n  let maxValueOfAll;\n  if(maxValueFixed){\n    maxValueOfAll = maxValue;\n  }else{\n    maxValueOfAll = minTickStep;\n  }\n\n  var datasets = [];\n  series.forEach( dataSeries => {\n    if (!maxValueFixed){\n      dataSeries.data.forEach( value =>{\n        maxValueOfAll = Math.max(maxValueOfAll, value);\n      })\n    }\n    datasets.push({\n      data: dataSeries.data,\n      label: dataSeries.label,\n      pointBackgroundColor: dataSeries.color,\n      pointBorderColor: dataSeries.color,\n      pointRadius: 5,\n      borderColor: brushColor,\n      borderWidth: 4,\n      lineTension: 0.0,\n    })\n  });\n\n  const chartData = {\n    labels: labels,\n    datasets: datasets,\n  };\n\n  let tickStep;\n  if (maxValueOfAll <= maxTicksValue * minTickStep){\n    tickStep = minTickStep;\n  }else{\n    tickStep = Math.ceil(maxValueOfAll / maxTicksValue / minTickStep) * minTickStep;\n  }\n\n  const chartOptions = {\n    scales: {\n      xAxes: [{\n        gridLines:{\n            drawBorder: false,\n            lineWidth: 0,\n            zeroLineColor: brushColor,\n            zeroLineWidth: 2,\n        },\n      }],\n      yAxes: [{\n        gridLines:{\n            borderDash: [2, 4],\n            color: brushColor,\n            zeroLineColor: brushColor,\n            zeroLineWidth: 2,\n            drawBorder: false,\n        },\n        ticks: {\n          stepSize: tickStep,\n          fontColor: brushColor,\n          suggestedMax: maxValueOfAll,\n          suggestedMin: minValue,\n          callback: value => {\n            if (displayValue){\n              return displayValue(value);\n            }else {\n              return value.toString();\n            }\n          }\n        },\n      }],\n    },\n    legend: {\n      display: false,\n    },\n  };\n  return <Line data={chartData} options={chartOptions}/>;\n}\n","import React from \"react\";\n// @material-ui/core\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport LineChart from \"views/Dashboard/LineChart.js\";\nimport { grayColor } from \"assets/jss/material-dashboard-react.js\";\nimport dashboardStyles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\n\nexport default function LineCard(props){\n  const {title, color, series, displayValue, minTickStep, maxValue } = props;\n  var styles = {\n    ...dashboardStyles,\n    topDivider: {\n      borderTop: \"1px solid \" + grayColor[10],\n    },\n  };\n  var lastValueLabels = [];\n  series.forEach( ({ data, label }) => {\n    const lastValue = data[data.length - 1];\n    let valueString;\n    if (displayValue){\n      valueString = displayValue(lastValue);\n    }else{\n      valueString = lastValue.toString();\n    }\n    lastValueLabels.push(label + ': ' + valueString);\n  });\n\n  const useStyles = makeStyles(styles);\n  const classes = useStyles();\n  return (\n    <Card chart>\n      <CardHeader color={color}>\n        <LineChart series={series} minTickStep={minTickStep} displayValue={displayValue} maxValue={maxValue}/>\n      </CardHeader>\n      <CardBody>\n        <Typography variant='h5' component='div' className={classes.cardTitle}>\n          {title}\n        </Typography>\n        <Box m={0} p={2} className={classes.topDivider}>\n          <Typography component='span' className={classes.cardCategory}>\n            {lastValueLabels.join(' / ') + ' / ' + maxValue.toString()}\n          </Typography>\n        </Box>\n      </CardBody>\n    </Card>\n  )\n}\n","import React from \"react\";\n// react plugin for creating charts\nimport { Bar } from 'react-chartjs-2';\n// @material-ui/core\nimport { blackColor, whiteColor } from \"assets/jss/material-dashboard-react.js\";\n\nexport default function StackedBarChart(props){\n  const DefaultMaxTicks = 10;\n  const { series, minTickStep, displayValue, light, maxTicks } = props;\n  const maxTicksValue = maxTicks? maxTicks : DefaultMaxTicks;\n  const brushColor = light ? blackColor : whiteColor;\n  const dataCount = series[0].data.length;\n  const labels = new Array(dataCount).fill('');\n  const minValue = 0;\n  var maxValue = minTickStep;\n  var datasets = [];\n  series.forEach( dataSeries => {\n    datasets.push({\n      data: dataSeries.data,\n      label: dataSeries.label,\n      backgroundColor: dataSeries.color,\n      barPercentage: 0.6,\n      borderColor: brushColor,\n      borderWidth: 1,\n      stack: 'default',\n    })\n  });\n\n  //max value for summary\n  for (var i = 0; i < dataCount; i++){\n    var total = 0;\n    for (var j = 0; j < series.length; j++){\n      total += series[j].data[i];\n    }\n    maxValue = Math.max(maxValue, total);\n  }\n\n  const chartData = {\n    labels: labels,\n    datasets: datasets,\n  };\n\n  let tickStep;\n  if (maxValue <= maxTicksValue * minTickStep){\n    tickStep = minTickStep;\n  }else{\n    tickStep = Math.ceil(maxValue / maxTicksValue / minTickStep) * minTickStep;\n  }\n\n  const chartOptions = {\n    scales: {\n      xAxes: [{\n        display: false,\n      }],\n      yAxes: [{\n        stacked: true,\n        gridLines:{\n            borderDash: [2, 4],\n            color: brushColor,\n            zeroLineColor: brushColor,\n            zeroLineWidth: 2,\n        },\n        ticks: {\n          stepSize: tickStep,\n          fontColor: brushColor,\n          suggestedMax: maxValue,\n          suggestedMin: minValue,\n          callback: value => {\n            if (displayValue){\n              return displayValue(value);\n            }else {\n              return value.toString();\n            }\n          }\n        },\n      }],\n    },\n    legend: {\n      display: false,\n    },\n  };\n  return <Bar data={chartData} options={chartOptions}/>;\n}\n","import React from \"react\";\n// @material-ui/core\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport StackedBarChart from \"views/Dashboard/StackedBarChart.js\";\nimport { grayColor } from \"assets/jss/material-dashboard-react.js\";\nimport dashboardStyles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\n\nexport default function StackedBarCard(props){\n  const {title, color, series, displayValue, minTickStep } = props;\n  var styles = {\n    ...dashboardStyles,\n    topDivider: {\n      borderTop: \"1px solid \" + grayColor[10],\n    },\n  };\n  var lastValueLabels = [];\n  series.forEach( ({ data, label }) => {\n    const lastValue = data[data.length - 1];\n    let valueString;\n    if (displayValue){\n      valueString = displayValue(lastValue);\n    }else{\n      valueString = lastValue.toString();\n    }\n    lastValueLabels.push(label + ': ' + valueString);\n  });\n\n  const useStyles = makeStyles(styles);\n  const classes = useStyles();\n  return (\n    <Card chart>\n      <CardHeader color={color}>\n        <StackedBarChart series={series} minTickStep={minTickStep} displayValue={displayValue}/>\n      </CardHeader>\n      <CardBody>\n        <Typography variant='h5' component='div' className={classes.cardTitle}>\n          {title}\n        </Typography>\n        <Box m={0} p={2} className={classes.topDivider}>\n          <Typography component='span' className={classes.cardCategory}>\n            {lastValueLabels.join(' / ')}\n          </Typography>\n        </Box>\n      </CardBody>\n    </Card>\n  )\n}\n","import React from \"react\";\n// react plugin for creating charts\nimport { Bar } from 'react-chartjs-2';\n// @material-ui/core\nimport { blackColor, whiteColor } from \"assets/jss/material-dashboard-react.js\";\n\nexport default function MultiBarChart(props){\n  const DefaultMaxTicks = 10;\n  const { series, minTickStep, displayValue, light, maxTicks } = props;\n  const maxTicksValue = maxTicks? maxTicks : DefaultMaxTicks;\n  const brushColor = light ? blackColor : whiteColor;\n  const dataCount = series[0].data.length;\n  const labels = new Array(dataCount).fill('');\n  const minValue = 0;\n  var maxValue = minTickStep;\n  var datasets = [];\n  series.forEach( dataSeries => {\n    dataSeries.data.forEach( value =>{\n      maxValue = Math.max(maxValue, value);\n    })\n    datasets.push({\n      data: dataSeries.data,\n      label: dataSeries.label,\n      backgroundColor: dataSeries.color,\n      barPercentage: 0.6,\n      borderColor: brushColor,\n      borderWidth: 1,\n    })\n  });\n\n  const chartData = {\n    labels: labels,\n    datasets: datasets,\n  };\n\n  let tickStep;\n  if (maxValue <= maxTicksValue * minTickStep){\n    tickStep = minTickStep;\n  }else{\n    tickStep = Math.ceil(maxValue / maxTicksValue / minTickStep) * minTickStep;\n  }\n\n  const chartOptions = {\n    scales: {\n      xAxes: [{\n        display: false,\n      }],\n      yAxes: [{\n        gridLines:{\n            borderDash: [2, 4],\n            color: brushColor,\n            zeroLineColor: brushColor,\n            zeroLineWidth: 2,\n        },\n        ticks: {\n          stepSize: tickStep,\n          fontColor: brushColor,\n          suggestedMax: maxValue,\n          suggestedMin: minValue,\n          callback: value => {\n            if (displayValue){\n              return displayValue(value);\n            }else {\n              return value.toString();\n            }\n          }\n        },\n      }],\n    },\n    legend: {\n      display: false,\n    },\n  };\n  return <Bar data={chartData} options={chartOptions}/>;\n}\n","import React from \"react\";\n// @material-ui/core\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport MultiBarChart from \"views/Dashboard/MultiBarChart.js\";\nimport { grayColor } from \"assets/jss/material-dashboard-react.js\";\nimport dashboardStyles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\n\nexport default function MultiBarCard(props){\n  const {title, color, series, displayValue, minTickStep } = props;\n  var styles = {\n    ...dashboardStyles,\n    topDivider: {\n      borderTop: \"1px solid \" + grayColor[10],\n    },\n  };\n  var lastValueLabels = [];\n  series.forEach( ({ data, label }) => {\n    const lastValue = data[data.length - 1];\n    let valueString;\n    if (displayValue){\n      valueString = displayValue(lastValue);\n    }else{\n      valueString = lastValue.toString();\n    }\n    lastValueLabels.push(label + ': ' + valueString);\n  });\n\n  const useStyles = makeStyles(styles);\n  const classes = useStyles();\n  return (\n    <Card chart>\n      <CardHeader color={color}>\n        <MultiBarChart series={series} minTickStep={minTickStep} displayValue={displayValue}/>\n      </CardHeader>\n      <CardBody>\n        <Typography variant='h5' component='div' className={classes.cardTitle}>\n          {title}\n        </Typography>\n        <Box m={0} p={2} className={classes.topDivider}>\n          <Typography component='span' className={classes.cardCategory}>\n            {lastValueLabels.join(' / ')}\n          </Typography>\n        </Box>\n      </CardBody>\n    </Card>\n  )\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AllOutIcon from '@material-ui/icons/AllOut';\n\n// core components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport PieCard from \"views/Dashboard/PieCard.js\";\nimport LineCard from \"views/Dashboard/LineCard.js\";\nimport StackedBarCard from \"views/Dashboard/StackedBarCard.js\";\nimport MultiBarCard from \"views/Dashboard/MultiBarCard.js\";\n\nimport { getLoggedSession, redirectToLogin, truncateToRadix, bpsToString } from 'utils.js';\nimport { getZoneStatus } from \"nano_api.js\";\n\nimport {\n  primaryColor,\n  infoColor,\n  successColor,\n  warningColor,\n  grayColor,\n  whiteColor,\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst i18n = {\n  'en':{\n    allButton: \"Show All Compute Pools\",\n    pools: 'Compute Pools Summary',\n    cells: 'Compute Cells Summary',\n    instances: 'Instances Summary',\n    disks: 'Storage Space Summary',\n    coreUsage: 'Core Usage',\n    memoryUsage: 'Memory Usage',\n    ioUsage: 'IO Usage',\n    enabled: 'Enabled',\n    disabled: 'Disabled',\n    online: 'Online',\n    offline: 'Offline',\n    stopped: 'Stopped',\n    running: 'Running',\n    lost: 'Lost',\n    migrate: 'Migrating',\n    used: 'Used',\n    available: 'Available',\n    coresUsed: 'Cores Used',\n    network: 'Network Usage',\n    diskIO: 'Disk IO',\n    receive: 'Receive',\n    send: 'Send',\n    write: 'Write',\n    read: 'Read',\n  },\n  'cn':{\n    allButton: \"查看所有资源池\",\n    pools: '计算资源池总数',\n    cells: '资源节点总数',\n    instances: '云主机总数',\n    disks: '总磁盘空间',\n    coreUsage: 'CPU用量',\n    memoryUsage: '内存用量',\n    ioUsage: 'IO吞吐量',\n    enabled: '启用',\n    disabled: '禁用',\n    online: '在线',\n    offline: '离线',\n    stopped: '停止',\n    running: '运行',\n    lost: '失联',\n    migrate: '迁移中',\n    used: '已用',\n    available: '可用',\n    coresUsed: '核心已占用',\n    network: '网络流量',\n    diskIO: '磁盘IO',\n    receive: '接收',\n    send: '发送',\n    write: '写磁盘',\n    read: '读磁盘',\n  }\n}\n\nconst seriesColor1 = infoColor[0];\nconst seriesColor2 = successColor[0];\nconst seriesColor3 = warningColor[0];\nconst seriesColor4 = primaryColor[0];\nconst disabledColor = grayColor[2];\n\nexport default function ZoneStatus(props) {\n  const CoreArraySize = 6;\n  const MemoryArraySize = 10;\n  const NetworkIOArraySize = 10;\n  const DiskIOArraySize = 10;\n  const [ status, setStatus ] = React.useState(null);\n  const { lang } = props;\n  const texts = i18n[lang];\n\n  React.useEffect(() =>{\n    var mounted = true\n    var coreRecords = new Array(CoreArraySize).fill({\n      current: 0,\n      max: 0,\n    });\n    var memoryRecords = new Array(MemoryArraySize).fill({\n      available: 0,\n      used: 0,\n    });\n    var networkRecords = new Array(NetworkIOArraySize).fill({\n      receive: 0,\n      send: 0,\n    });\n    var diskRecords = new Array(DiskIOArraySize).fill({\n      write: 0,\n      read: 0,\n    });\n\n    const queryZoneStatus = () =>{\n      const MiB = 1 << 20;\n      const onOperateSuccess = s => {\n        coreRecords.shift();\n        coreRecords.push({\n          current: truncateToRadix(s.cpu_usage, 2),\n          max: s.max_cpu,\n        });\n        memoryRecords.shift();\n        memoryRecords.push({\n          available: truncateToRadix(s.available_memory/MiB, 2),\n          used: truncateToRadix((s.max_memory - s.available_memory)/MiB, 2),\n        });\n        networkRecords.shift();\n        networkRecords.push({\n          receive: s.receive_speed,\n          send: s.send_speed,\n          // receive: 100 * MiB * Math.random(),\n          // send: 100 * MiB * Math.random(),\n        });\n        diskRecords.shift();\n        diskRecords.push({\n          write: s.write_speed,\n          read: s.read_speed,\n          // write: 10 * MiB * Math.random(),\n          // read: 10 * MiB * Math.random(),\n        });\n\n        setStatus({\n          ...s,\n          coreRecords: coreRecords,\n          memoryRecords: memoryRecords,\n          networkRecords: networkRecords,\n          diskRecords: diskRecords,\n        });\n      }\n      getZoneStatus(onOperateSuccess);\n    }\n\n    queryZoneStatus();\n    const updateInterval = 2 * 1000;\n    var timerID = setInterval(()=>{\n      if (mounted){\n        queryZoneStatus();\n      }\n    }, updateInterval);\n    return () =>{\n      mounted = false;\n      clearInterval(timerID);\n    }\n  }, []);\n\n  //reder begin\n  var session = getLoggedSession();\n  if (null === session){\n    return redirectToLogin();\n  }\n\n  let content;\n  if (!status){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    var startTime = new Date(status.start_time.replace(' ', 'T'));\n    var now = new Date();\n    var elapsedSeconds = Math.floor((now.getTime() - startTime.getTime())/1000);\n    var elapsedDays = Math.floor(elapsedSeconds/(24*3600));\n    elapsedSeconds -= elapsedDays*24*3600;\n    var elapsedHours = Math.floor(elapsedSeconds/3600);\n    elapsedSeconds -= elapsedHours*3600;\n    var elapsedMinutes = Math.floor(elapsedSeconds/60);\n    elapsedSeconds -= elapsedMinutes*60;\n    let uptimeText;\n    if('cn' === lang){\n      uptimeText = '系统启动时间 ' + status.start_time + ', 已运行 ' + elapsedDays + ' 天 ' + elapsedHours + ' 小时 ' + elapsedMinutes + ' 分 ' + elapsedSeconds + ' 秒';\n    }else{\n      uptimeText = 'System start at ' + status['start_time'] + ', Uptime: ' + elapsedDays + ' day, ' + elapsedHours + ' hour, ' + elapsedMinutes + ' min, ' + elapsedSeconds + ' secs';\n    }\n\n    const updateTime = (\n      <GridItem xs={12} key='uptime'>\n        <Box align='center'>\n          <Typography component='span' >\n            {uptimeText}\n          </Typography>\n        </Box>\n      </GridItem>\n    )\n\n    const [ disabledPools, enabledPools ] = status.pools;\n    const poolData = [{\n      value: disabledPools,\n      label: texts.disabled,\n      color: disabledColor,\n    },{\n      value: enabledPools,\n      label: texts.enabled,\n      color: seriesColor1,\n    }];\n    const poolChart = (\n      <GridItem xs={12} sm={4} md={3} key='pool'>\n        <PieCard\n          title={texts.pools}\n          series={poolData}\n          />\n      </GridItem>\n    )\n\n    const [ offlineCell, onlineCell ] = status.cells;\n    const cellData = [{\n      value: offlineCell,\n      label: texts.offline,\n      color: disabledColor,\n    },{\n      value: onlineCell,\n      label: texts.online,\n      color: seriesColor2,\n    }];\n    const cellChart = (\n      <GridItem xs={12} sm={4} md={3} key='cell'>\n        <PieCard\n          title={texts.cells}\n          series={cellData}\n          />\n      </GridItem>\n    )\n\n    const [ stoppedInstance, runningInstance, lostInstance, migrateInstance ] = status.instances;\n    const instanceData = [{\n      value: stoppedInstance,\n      label: texts.stopped,\n      color: disabledColor,\n    },{\n      value: runningInstance,\n      label: texts.running,\n      color: seriesColor1,\n    },{\n      value: lostInstance,\n      label: texts.lost,\n      color: seriesColor3,\n    },{\n      value: migrateInstance,\n      label: texts.migrate,\n      color: seriesColor4,\n    }];\n    const instanceChart = (\n      <GridItem xs={12} sm={4} md={3} key='instance'>\n        <PieCard\n          title={texts.instances}\n          series={instanceData}\n          />\n      </GridItem>\n    )\n\n    const GiB = 1 << 30;\n    const availableDisk = truncateToRadix(status.available_disk / GiB, 2);\n    const usedDisk = truncateToRadix((status.max_disk - status.available_disk) /GiB, 2);\n    const storageData = [{\n      value: availableDisk,\n      label: texts.available,\n      color: seriesColor1,\n    },{\n      value: usedDisk,\n      label: texts.used,\n      color: seriesColor4,\n    }];\n    const storageChart = (\n      <GridItem xs={12} sm={4} md={3} key='disks'>\n        <PieCard\n          title={texts.disks}\n          series={storageData}\n          displayValue={value =>{\n            if (Number.isInteger(value)){\n              return value.toString() + ' GB';\n            }else{\n              return value.toFixed(2) + ' GB';\n            }\n          }}\n          />\n      </GridItem>\n    )\n    //core usage\n    var usedCores = {\n      label: texts.coresUsed,\n      color: whiteColor,\n      data: [],\n    }\n\n    var maxCores = 0;\n    status.coreRecords.forEach( data =>{\n      usedCores.data.push(data.current);\n      maxCores = Math.max(maxCores, data.max);\n    })\n\n    const coresChart = (\n      <GridItem xs={12} sm={6} md={4} key='cores-usage'>\n        <LineCard\n          title={texts.coreUsage}\n          series={[usedCores]}\n          color='success'\n          minTickStep={1}\n          maxValue={maxCores}\n          />\n      </GridItem>\n    )\n    //memory\n    var usedMemory = {\n      label: texts.used,\n      color: grayColor[4],\n      data: [],\n    };\n    var availableMemory = {\n      label: texts.available,\n      color: successColor[1],\n      data: [],\n    };\n    status.memoryRecords.forEach( data =>{\n      usedMemory.data.push(data.used);\n      availableMemory.data.push(data.available)\n    })\n    const memoryChart = (\n      <GridItem xs={12} sm={6} md={4} key='memory-usage'>\n        <StackedBarCard\n          title={texts.memoryUsage}\n          series={[usedMemory, availableMemory]}\n          color='info'\n          minTickStep={1 << 10}\n          displayValue={ mib => {\n            const GiB = 1 << 10;\n            if (0 === mib){\n              return '0';\n            }else if (mib >= GiB){\n              if (0 === mib % GiB){\n                return (mib / GiB).toString() + ' GB';\n              }else{\n                return (mib / GiB).toFixed(2) + ' GB';\n              }\n            }else {\n              return mib.toString() + ' MB';\n            }\n          }}\n          />\n      </GridItem>\n    )\n    //network\n    var networkReceive = {\n      label: texts.receive,\n      color: infoColor[3],\n      data: [],\n    };\n    var networkSend = {\n      label: texts.send,\n      color: primaryColor[1],\n      data: [],\n    };\n    status.networkRecords.forEach( data =>{\n      networkReceive.data.push(data.receive);\n      networkSend.data.push(data.send)\n    })\n    const networkSeries = [ networkReceive, networkSend ];\n    const mbBased = 1 << 20;\n    const networkChart = (\n      <GridItem xs={12} sm={6} md={4} key='network-usage'>\n        <MultiBarCard\n          title={texts.network}\n          series={networkSeries}\n          displayValue={bpsToString}\n          minTickStep={mbBased}\n          color='warning'\n          />\n      </GridItem>\n    )\n    //disk IO\n    var diskWrite = {\n      label: texts.write,\n      color: successColor[1],\n      data: [],\n    };\n    var diskRead = {\n      label: texts.read,\n      color: infoColor[3],\n      data: [],\n    };\n    status.diskRecords.forEach( data =>{\n      diskWrite.data.push(data.write);\n      diskRead.data.push(data.read);\n    })\n    const diskSeries = [ diskWrite, diskRead ];\n    const diskIOChart = (\n      <GridItem xs={12} sm={6} md={4} key='io-usage'>\n        <MultiBarCard\n          title={texts.diskIO}\n          series={diskSeries}\n          displayValue={bpsToString}\n          minTickStep={mbBased}\n          color='rose'\n          />\n      </GridItem>\n    )\n    content = [\n      updateTime,\n      poolChart,\n      cellChart,\n      instanceChart,\n      storageChart,\n      coresChart,\n      memoryChart,\n      networkChart,\n      diskIOChart,\n    ];\n  }\n\n  return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <GridContainer>\n            <GridItem xs={6} sm={4} md={3}>\n              <Link to='/admin/dashboard/pools/'>\n                <Button size=\"sm\" color=\"info\" round><AllOutIcon />{texts.allButton}</Button>\n              </Link>\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n            <Divider/>\n          </Box>\n        </GridItem>\n        {content}\n      </GridContainer>\n  )\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nexport default function SeriesLabels(props){\n  const {title, series, valueName, colorName, labelName, displayValue, baseClass } = props;\n  let styles = {};\n  if (baseClass){\n    styles.title = {\n      ...baseClass,\n    }\n  }else {\n    styles.title = {};\n  }\n\n  series.forEach( (slice, index) => {\n    const seriesName = 'series-' + index.toString();\n    if (baseClass){\n      styles[seriesName] = {\n        ...baseClass,\n        color: slice[colorName],\n      };\n    }else{\n        styles[seriesName] = {\n          color: slice[colorName],\n        };\n    }\n\n  });\n\n  const useStyles = makeStyles(styles);\n  const classes = useStyles();\n  return (\n    <Box display='flex'>\n      <Box m={1}>\n        <Typography component='span' className={classes.title}>\n          {title}\n        </Typography>\n      </Box>\n      {\n        series.map((slice, index) =>{\n          const sliceValue = slice[valueName];\n          const sliceLabel = slice[labelName];\n          const sliceClassName = 'series-' + index.toString();\n          let valueLabel;\n          if (displayValue){\n            valueLabel = displayValue(sliceValue);\n          }else{\n            valueLabel = sliceValue.toString();\n          }\n          return(\n            <Box m={1} key={sliceLabel}>\n              <Typography component='span' className={classes[sliceClassName]}>\n                {sliceLabel}\n              </Typography>\n              <Typography component='span'>\n                {': ' + valueLabel}\n              </Typography>\n            </Box>\n          )\n        })\n      }\n      </Box>\n  )\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AllOutIcon from '@material-ui/icons/AllOut';\nimport Box from '@material-ui/core/Box';\n\n// core components\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport LineChart from \"views/Dashboard/LineChart.js\";\nimport StackedBarChart from \"views/Dashboard/StackedBarChart.js\";\nimport MultiBarChart from \"views/Dashboard/MultiBarChart.js\";\nimport SeriesLabels from \"views/Dashboard/SeriesLabels.js\";\nimport dashboardStyles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\nimport fontStyles from \"assets/jss/material-dashboard-react/components/typographyStyle.js\";\n\nimport { getLoggedSession, redirectToLogin, truncateToRadix } from 'utils.js';\nimport { getAllComputePoolStatus } from \"nano_api.js\";\n\nimport {\n  primaryColor,\n  infoColor,\n  successColor,\n  warningColor,\n  grayColor,\n  whiteColor,\n  roseColor,\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst i18n = {\n  'en':{\n    viewButton: \"View Cell Status\",\n    zone: \"Zone Status\",\n    title: 'Compute Pool',\n    pools: 'All Compute Pools',\n    cells: 'Compute Cells',\n    instances: 'Instances',\n    disks: 'Storage(GB)',\n    memory: 'Memory',\n    ioUsage: 'IO Usage',\n    enabled: 'Enabled',\n    disabled: 'Disabled',\n    online: 'Online ',\n    offline: 'Offline ',\n    stopped: 'Stopped ',\n    running: 'Running ',\n    lost: 'Lost ',\n    migrate: 'Migrating ',\n    used: 'Used ',\n    available: 'Available ',\n    coresUsed: 'Cores Used',\n    throughput: 'Throughput',\n    receive: 'Receive ',\n    send: 'Send ',\n    write: 'Write ',\n    read: 'Read ',\n  },\n  'cn':{\n    viewButton: \"查看节点状态\",\n    zone: \"全域状态\",\n    title: '计算资源池',\n    pools: '所有计算资源池',\n    cells: '资源节点',\n    instances: '云主机实例',\n    disks: '磁盘空间(GB)',\n    memory: '内存',\n    ioUsage: 'IO吞吐量',\n    enabled: '启用',\n    disabled: '禁用',\n    online: '在线',\n    offline: '离线',\n    stopped: '停止',\n    running: '运行',\n    lost: '失联',\n    migrate: '迁移中',\n    used: '已用',\n    available: '可用',\n    coresUsed: '核心已占用',\n    throughput: '吞吐量',\n    receive: '接收',\n    send: '发送',\n    write: '写入',\n    read: '读取',\n  }\n}\n\nconst seriesColor1 = infoColor[0];\nconst seriesColor2 = successColor[0];\nconst seriesColor3 = warningColor[0];\nconst seriesColor4 = primaryColor[0];\nconst disabledColor = grayColor[2];\n\nconst shadowChartPanel = {\n  borderRadius: \"3px\",\n  marginTop: \"-20px\",\n  // marginLeft: \"10px\",\n  // marginRight: \"10px\",\n  padding: \"15px\",\n};\n\nconst styles = {\n  ...fontStyles,\n  ...dashboardStyles,\n  cardWithDivider: {\n    borderTop: \"1px solid \" + grayColor[10],\n  },\n  coresChart: {\n    ...shadowChartPanel,\n    background: successColor[0],\n  },\n  memoryChart: {\n    ...shadowChartPanel,\n    background: infoColor[0],\n  },\n  networkChart: {\n    ...shadowChartPanel,\n    background: warningColor[0],\n  },\n  diskChart: {\n    ...shadowChartPanel,\n    background: roseColor[0],\n  },\n}\n\nconst useStyles = makeStyles(styles);\n\nconst SinglePoolStatus = props => {\n  const { lang, status, poolName } = props;\n  const classes = useStyles();\n  const texts = i18n[lang];\n  const title = texts.title + ': ' + poolName;\n  const GiB = 1 << 30;\n  const MiB = 1 << 20;\n  const [ offlineCell, onlineCell ] = status.cells;\n  const cellData = [{\n    value: offlineCell,\n    label: texts.offline,\n    color: disabledColor,\n  },{\n    value: onlineCell,\n    label: texts.online,\n    color: seriesColor2,\n  }];\n  const cellsLabel = <SeriesLabels key=\"cells-labels\" title={texts.cells} series={cellData} valueName='value' colorName='color' labelName='label' baseClass={dashboardStyles.cardCategory}/>;\n\n  const [ stoppedInstance, runningInstance, lostInstance, migrateInstance ] = status.instances;\n  const instanceData = [{\n    value: stoppedInstance,\n    label: texts.stopped,\n    color: disabledColor,\n  },{\n    value: runningInstance,\n    label: texts.running,\n    color: seriesColor1,\n  },{\n    value: lostInstance,\n    label: texts.lost,\n    color: seriesColor3,\n  },{\n    value: migrateInstance,\n    label: texts.migrate,\n    color: seriesColor4,\n  }];\n  const instancesLabel = <SeriesLabels key=\"instances-labels\" title={texts.instances} series={instanceData} valueName='value' colorName='color' labelName='label' baseClass={dashboardStyles.cardCategory}/>;\n\n  const availableDisk = truncateToRadix(status.available_disk / GiB, 2);\n  const usedDisk = truncateToRadix((status.max_disk - status.available_disk) /GiB, 2);\n  const storageData = [{\n    value: availableDisk,\n    label: texts.available,\n    color: seriesColor1,\n  },{\n    value: usedDisk,\n    label: texts.used,\n    color: seriesColor4,\n  }];\n  const storageLabel = <SeriesLabels key=\"storage-labels\" title={texts.disks} series={storageData} valueName='value' colorName='color' labelName='label' baseClass={dashboardStyles.cardCategory}/>;\n  //core usage\n  var usedCores = {\n    label: texts.coresUsed,\n    color: whiteColor,\n    data: [],\n  }\n\n  var maxCores = 0;\n  status.coreRecords.forEach( data =>{\n    usedCores.data.push(data.current);\n    maxCores = Math.max(maxCores, data.max);\n  })\n\n  const coresChart = (\n    <GridItem xs={12} sm={6} md={3} key='cores-usage'>\n      <Box m={0} p={0} className={classes.coresChart} boxShadow={2}>\n        <LineChart\n          series={[usedCores]}\n          minTickStep={1}\n          maxValue={maxCores}\n          />\n      </Box>\n    </GridItem>\n  )\n  //memory\n  var usedMemory = {\n    label: texts.used + texts.memory,\n    color: grayColor[4],\n    data: [],\n  };\n  var availableMemory = {\n    label: texts.available + texts.memory,\n    color: successColor[1],\n    data: [],\n  };\n  status.memoryRecords.forEach( data =>{\n    usedMemory.data.push(data.used);\n    availableMemory.data.push(data.available)\n  })\n  const memoryChart = (\n    <GridItem xs={12} sm={6} md={3} key='memory-usage'>\n      <Box m={0} p={0} className={classes.memoryChart} boxShadow={2}>\n        <StackedBarChart\n          series={[usedMemory, availableMemory]}\n          minTickStep={1 << 10}\n          displayValue={ mib => {\n            const GiB = 1 << 10;\n            if (0 === mib){\n              return '0';\n            }else if (mib >= GiB){\n              if (0 === mib % GiB){\n                return (mib / GiB).toString() + ' GB';\n              }else{\n                return (mib / GiB).toFixed(2) + ' GB';\n              }\n            }else {\n              return mib.toString() + ' MB';\n            }\n          }}\n          />\n      </Box>\n    </GridItem>\n  )\n  //network\n  var networkReceive = {\n    label: texts.receive + texts.throughput,\n    color: infoColor[3],\n    data: [],\n  };\n  var networkSend = {\n    label: texts.send + texts.throughput,\n    color: primaryColor[1],\n    data: [],\n  };\n  status.networkRecords.forEach( data =>{\n    networkReceive.data.push(truncateToRadix(data.receive/ MiB, 2) );\n    networkSend.data.push(truncateToRadix(data.send/ MiB, 2));\n  })\n  const displaySpeedByMB = speed => {\n    const gb = 1 << 10;\n    if (speed >= gb){\n      if (0 === speed % gb){\n        return (speed / gb).toString() + ' GB/s';\n      }else{\n        return (speed / gb).toFixed(2) + ' GB/s';\n      }\n    }else{\n      if (Number.isInteger(speed)){\n        return speed.toString() + ' MB/s';\n      }else{\n        return speed.toFixed(2) + ' MB/s';\n      }\n    }\n  }\n  const networkSeries = [ networkReceive, networkSend ];\n  const networkChart = (\n    <GridItem xs={12} sm={6} md={3} key='network-usage'>\n      <Box m={0} p={0} className={classes.networkChart} boxShadow={2}>\n        <MultiBarChart\n          series={networkSeries}\n          displayValue={displaySpeedByMB}\n          minTickStep={1}\n          />\n      </Box>\n    </GridItem>\n  )\n  //disk IO\n  var diskWrite = {\n    label: texts.write + texts.throughput,\n    color: successColor[1],\n    data: [],\n  };\n  var diskRead = {\n    label: texts.read + texts.throughput,\n    color: infoColor[3],\n    data: [],\n  };\n  status.diskRecords.forEach( data =>{\n    diskWrite.data.push(truncateToRadix(data.write / MiB, 2));\n    diskRead.data.push(truncateToRadix(data.read / MiB, 2));\n  })\n  const diskSeries = [ diskWrite, diskRead ];\n  const diskIOChart = (\n    <GridItem xs={12} sm={6} md={3} key='io-usage'>\n      <Box m={0} p={0} className={classes.diskChart} boxShadow={2}>\n        <MultiBarChart\n          series={diskSeries}\n          displayValue={displaySpeedByMB}\n          minTickStep={1}\n          />\n      </Box>\n    </GridItem>\n  )\n  const content = [\n    coresChart,\n    memoryChart,\n    networkChart,\n    diskIOChart,\n  ];\n  const dataLabels = [\n    cellsLabel,\n    instancesLabel,\n    storageLabel,\n  ];\n  return (\n    <Card chart>\n      <CardHeader>\n      <GridContainer>\n        {content}\n      </GridContainer>\n      </CardHeader>\n      <CardBody>\n        <Typography component='span' className={classes.cardTitle}>\n          {title}\n        </Typography>\n        {dataLabels}\n        <Box m={0} p={2} className={classes.cardWithDivider}>\n          <GridContainer>\n            <GridItem xs={6} sm={4} md={3}>\n              <Link to={'/admin/dashboard/pools/' + poolName}>\n                <Button size=\"sm\" color=\"info\" round><AllOutIcon />{texts.viewButton}</Button>\n              </Link>\n            </GridItem>\n          </GridContainer>\n        </Box>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default function PoolStatus(props) {\n  const CoreArraySize = 5;\n  const MemoryArraySize = 5;\n  const NetworkIOArraySize = 5;\n  const DiskIOArraySize = 5;\n  const [ allStatus, setAllStatus ] = React.useState(null);\n  const texts = i18n[props.lang];\n\n  React.useEffect(() =>{\n    var mounted = true\n    var statusMap = new Map();\n\n    const queryPoolsStatus = () =>{\n      const MiB = 1 << 20;\n      const onOperateSuccess = dataList => {\n        dataList.forEach(status =>{\n          const poolName = status.name;\n          let coreRecords, memoryRecords, networkRecords, diskRecords;\n          if(!statusMap.has(poolName)){\n            //append & update for exists\n            coreRecords = new Array(CoreArraySize - 1).fill({\n              current: 0,\n              max: 0,\n            });\n            memoryRecords = new Array(MemoryArraySize - 1).fill({\n              available: 0,\n              used: 0,\n            });\n            networkRecords = new Array(NetworkIOArraySize - 1).fill({\n              receive: 0,\n              send: 0,\n            });\n            diskRecords = new Array(DiskIOArraySize - 1).fill({\n              write: 0,\n              read: 0,\n            });\n          }else{\n            //new pool\n            const current = statusMap.get(poolName);\n            coreRecords = current.coreRecords;\n            coreRecords.shift();\n            memoryRecords = current.memoryRecords;\n            memoryRecords.shift();\n            networkRecords = current.networkRecords;\n            networkRecords.shift();\n            diskRecords = current.diskRecords;\n            diskRecords.shift();\n          }\n          coreRecords.push({\n            current: truncateToRadix(status.cpu_usage, 2),\n            max: status.max_cpu,\n          });\n          memoryRecords.push({\n            available: truncateToRadix(status.available_memory/MiB, 2),\n            used: truncateToRadix((status.max_memory - status.available_memory)/MiB, 2),\n          });\n          networkRecords.push({\n            receive: status.receive_speed,\n            send: status.send_speed,\n            // receive: 100 * MiB * Math.random(),\n            // send: 100 * MiB * Math.random(),\n          });\n          diskRecords.push({\n            write: status.write_speed,\n            read: status.read_speed,\n            // write: 10 * MiB * Math.random(),\n            // read: 10 * MiB * Math.random(),\n          });\n\n          const updated = {\n            ...status,\n            coreRecords: coreRecords,\n            memoryRecords: memoryRecords,\n            networkRecords: networkRecords,\n            diskRecords: diskRecords,\n          };\n          statusMap.set(poolName, updated);\n        });\n        var newStatus = new Map();\n        statusMap.forEach((value, key) =>{\n          newStatus.set(key, value);\n        })\n        setAllStatus(newStatus);\n      }\n      getAllComputePoolStatus(onOperateSuccess);\n    }\n\n    queryPoolsStatus();\n    const updateInterval = 2 * 1000;\n    var timerID = setInterval(()=>{\n      if (mounted){\n        queryPoolsStatus();\n      }\n    }, updateInterval);\n    return () =>{\n      mounted = false;\n      clearInterval(timerID);\n    }\n  }, []);\n\n  //reder begin\n  var session = getLoggedSession();\n  if (null === session){\n    return redirectToLogin();\n  }\n\n  let content;\n  if (!allStatus){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    var nameList = [];\n    allStatus.forEach( (value, key) =>{\n      nameList.push(key);\n    });\n    nameList.sort();\n    content = [];\n    nameList.forEach(poolName =>{\n      var status = allStatus.get(poolName);\n      content.push(\n        <GridItem xs={12} key={poolName}>\n          <SinglePoolStatus status={status} lang={props.lang} poolName={poolName}/>\n        </GridItem>\n      );\n    });\n\n  }\n\n  const breadcrumbs = [\n    <Link to='/admin/dashboard/' key={texts.zone}>{texts.zone}</Link>,\n    <Typography color=\"textPrimary\" key={texts.pools}>{texts.pools}</Typography>,\n  ];\n\n  return (\n      <GridContainer>\n        <GridItem xs={12}>\n        <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\">\n          {breadcrumbs}\n        </Breadcrumbs>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n            <Divider/>\n          </Box>\n        </GridItem>\n        {content}\n      </GridContainer>\n  )\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Box from '@material-ui/core/Box';\nimport WifiIcon from '@material-ui/icons/Wifi';\nimport BlockIcon from '@material-ui/icons/Block';\nimport WifiOffIcon from '@material-ui/icons/WifiOff';\nimport AllOutIcon from '@material-ui/icons/AllOut';\n\n// core components\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport LineChart from \"views/Dashboard/LineChart.js\";\nimport StackedBarChart from \"views/Dashboard/StackedBarChart.js\";\nimport MultiBarChart from \"views/Dashboard/MultiBarChart.js\";\nimport SeriesLabels from \"views/Dashboard/SeriesLabels.js\";\nimport dashboardStyles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\nimport fontStyles from \"assets/jss/material-dashboard-react/components/typographyStyle.js\";\n\nimport { getLoggedSession, redirectToLogin, truncateToRadix } from 'utils.js';\nimport { queryComputeCellStatus } from \"nano_api.js\";\n\nimport {\n  primaryColor,\n  infoColor,\n  successColor,\n  warningColor,\n  grayColor,\n  whiteColor,\n  roseColor,\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst i18n = {\n  'en':{\n    viewButton: \"View Instances\",\n    zone: \"Zone Status\",\n    title: 'Compute Cell',\n    pools: 'All Compute Pools',\n    cells: 'Compute Cells',\n    instances: 'Instances',\n    disks: 'Storage(GB)',\n    memory: 'Memory',\n    ioUsage: 'IO Usage',\n    enabled: 'Enabled',\n    disabled: 'Disabled',\n    online: 'Online',\n    offline: 'Offline',\n    stopped: 'Stopped ',\n    running: 'Running ',\n    lost: 'Lost ',\n    migrate: 'Migrating ',\n    used: 'Used ',\n    available: 'Available ',\n    coresUsed: 'Cores Used',\n    throughput: 'Throughput',\n    receive: 'Receive ',\n    send: 'Send ',\n    write: 'Write ',\n    read: 'Read ',\n  },\n  'cn':{\n    viewButton: \"查看承载云主机\",\n    zone: \"全域状态\",\n    title: '计算资源节点',\n    pools: '所有计算资源池',\n    cells: '资源节点',\n    instances: '云主机实例',\n    disks: '磁盘空间(GB)',\n    memory: '内存',\n    ioUsage: 'IO吞吐量',\n    enabled: '启用',\n    disabled: '禁用',\n    online: '在线',\n    offline: '离线',\n    stopped: '停止',\n    running: '运行',\n    lost: '失联',\n    migrate: '迁移中',\n    used: '已用',\n    available: '可用',\n    coresUsed: '核心已占用',\n    throughput: '吞吐量',\n    receive: '接收',\n    send: '发送',\n    write: '写入',\n    read: '读取',\n  }\n}\n\nconst seriesColor1 = infoColor[0];\n// const seriesColor2 = successColor[0];\nconst seriesColor3 = warningColor[0];\nconst seriesColor4 = primaryColor[0];\nconst disabledColor = grayColor[2];\n\nconst shadowChartPanel = {\n  borderRadius: \"3px\",\n  marginTop: \"-20px\",\n  // marginLeft: \"10px\",\n  // marginRight: \"10px\",\n  padding: \"15px\",\n};\n\nconst styles = {\n  ...dashboardStyles,\n  ...fontStyles,\n  cardWithDivider: {\n    borderTop: \"1px solid \" + grayColor[10],\n  },\n  coresChart: {\n    ...shadowChartPanel,\n    background: successColor[0],\n  },\n  memoryChart: {\n    ...shadowChartPanel,\n    background: infoColor[0],\n  },\n  networkChart: {\n    ...shadowChartPanel,\n    background: warningColor[0],\n  },\n  diskChart: {\n    ...shadowChartPanel,\n    background: roseColor[0],\n  },\n  disableChart: {\n    ...shadowChartPanel,\n    background: grayColor[5],\n  }\n}\n\nconst useStyles = makeStyles(styles);\n\nconst SingleCellStatus = props => {\n  const { lang, status, cellName, poolName } = props;\n  const classes = useStyles();\n  const texts = i18n[lang];\n  let title;\n  if (!status.alive){\n    title = (\n      <Typography component='span' className={classes.cardTitle}>\n        <WifiOffIcon className={classes.mutedText}/>\n        {texts.title + ': ' + cellName + ' ( ' + texts.offline + ' )'}\n      </Typography>\n    )\n  }else if (!status.enabled){\n    //disabled\n    title = (\n      <Typography component='span' className={classes.cardTitle}>\n        <BlockIcon className={classes.mutedText}/>\n        {texts.title + ': ' + cellName + ' ( ' + texts.disabled + ' )'}\n      </Typography>\n    );\n  }else{\n    //online\n    title = (\n      <Typography component='span' className={classes.cardTitle}>\n        <WifiIcon className={classes.successText}/>\n        {texts.title + ': ' + cellName + ' ( ' + texts.online + ' )'}\n      </Typography>\n    );\n  }\n\n  let content, dataLabels, operators;\n  if (!status.alive){\n    content = [\"core-usage\", \"memory-usage\", \"disk-io\", \"network-io\"].map(label=>(\n      <GridItem xs={12} sm={6} md={3} key={label}>\n        <Box m={0} p={0} className={classes.disableChart} boxShadow={2}/>\n      </GridItem>\n    ));\n    dataLabels = [];\n    operators = [];\n  }else{\n    operators = [\n      (\n        <GridItem xs={6} sm={4} md={3} key='view'>\n          <Link to={'/admin/instances/?pool=' + poolName + '&cell=' + cellName}>\n            <Button size=\"sm\" color=\"info\" round><AllOutIcon />{texts.viewButton}</Button>\n          </Link>\n        </GridItem>\n      ),\n    ];\n    const GiB = 1 << 30;\n    const MiB = 1 << 20;\n\n    const [ stoppedInstance, runningInstance, lostInstance, migrateInstance ] = status.instances;\n    const instanceData = [{\n      value: stoppedInstance,\n      label: texts.stopped,\n      color: disabledColor,\n    },{\n      value: runningInstance,\n      label: texts.running,\n      color: seriesColor1,\n    },{\n      value: lostInstance,\n      label: texts.lost,\n      color: seriesColor3,\n    },{\n      value: migrateInstance,\n      label: texts.migrate,\n      color: seriesColor4,\n    }];\n    const instancesLabel = <SeriesLabels key=\"instances-labels\" title={texts.instances} series={instanceData} valueName='value' colorName='color' labelName='label' baseClass={dashboardStyles.cardCategory}/>;\n\n    const availableDisk = truncateToRadix(status.available_disk / GiB, 2);\n    const usedDisk = truncateToRadix((status.max_disk - status.available_disk) /GiB, 2);\n    const storageData = [{\n      value: availableDisk,\n      label: texts.available,\n      color: seriesColor1,\n    },{\n      value: usedDisk,\n      label: texts.used,\n      color: seriesColor4,\n    }];\n    const storageLabel = <SeriesLabels key=\"storage-labels\" title={texts.disks} series={storageData} valueName='value' colorName='color' labelName='label' baseClass={dashboardStyles.cardCategory}/>;\n    //core usage\n    var usedCores = {\n      label: texts.coresUsed,\n      color: whiteColor,\n      data: [],\n    }\n\n    var maxCores = 0;\n    status.coreRecords.forEach( data =>{\n      usedCores.data.push(data.current);\n      maxCores = Math.max(maxCores, data.max);\n    })\n\n    const coresChart = (\n      <GridItem xs={12} sm={6} md={3} key='cores-usage'>\n        <Box m={0} p={0} className={classes.coresChart} boxShadow={2}>\n          <LineChart\n            series={[usedCores]}\n            minTickStep={1}\n            maxValue={maxCores}\n            />\n        </Box>\n      </GridItem>\n    )\n    //memory\n    var usedMemory = {\n      label: texts.used + texts.memory,\n      color: grayColor[4],\n      data: [],\n    };\n    var availableMemory = {\n      label: texts.available + texts.memory,\n      color: successColor[1],\n      data: [],\n    };\n    status.memoryRecords.forEach( data =>{\n      usedMemory.data.push(data.used);\n      availableMemory.data.push(data.available)\n    })\n    const memoryChart = (\n      <GridItem xs={12} sm={6} md={3} key='memory-usage'>\n        <Box m={0} p={0} className={classes.memoryChart} boxShadow={2}>\n          <StackedBarChart\n            series={[usedMemory, availableMemory]}\n            minTickStep={1 << 10}\n            displayValue={ mib => {\n              const GiB = 1 << 10;\n              if (0 === mib){\n                return '0';\n              }else if (mib >= GiB){\n                if (0 === mib % GiB){\n                  return (mib / GiB).toString() + ' GB';\n                }else{\n                  return (mib / GiB).toFixed(2) + ' GB';\n                }\n              }else {\n                return mib.toString() + ' MB';\n              }\n            }}\n            />\n        </Box>\n      </GridItem>\n    )\n    //network\n    var networkReceive = {\n      label: texts.receive + texts.throughput,\n      color: infoColor[3],\n      data: [],\n    };\n    var networkSend = {\n      label: texts.send + texts.throughput,\n      color: primaryColor[1],\n      data: [],\n    };\n    status.networkRecords.forEach( data =>{\n      networkReceive.data.push(truncateToRadix(data.receive/ MiB, 2) );\n      networkSend.data.push(truncateToRadix(data.send/ MiB, 2));\n    })\n    const displaySpeedByMB = speed => {\n      const gb = 1 << 10;\n      if (speed >= gb){\n        if (0 === speed % gb){\n          return (speed / gb).toString() + ' GB/s';\n        }else{\n          return (speed / gb).toFixed(2) + ' GB/s';\n        }\n      }else{\n        if (Number.isInteger(speed)){\n          return speed.toString() + ' MB/s';\n        }else{\n          return speed.toFixed(2) + ' MB/s';\n        }\n      }\n    }\n    const networkSeries = [ networkReceive, networkSend ];\n    const networkChart = (\n      <GridItem xs={12} sm={6} md={3} key='network-usage'>\n        <Box m={0} p={0} className={classes.networkChart} boxShadow={2}>\n          <MultiBarChart\n            series={networkSeries}\n            displayValue={displaySpeedByMB}\n            minTickStep={1}\n            />\n        </Box>\n      </GridItem>\n    )\n    //disk IO\n    var diskWrite = {\n      label: texts.write + texts.throughput,\n      color: successColor[1],\n      data: [],\n    };\n    var diskRead = {\n      label: texts.read + texts.throughput,\n      color: infoColor[3],\n      data: [],\n    };\n    status.diskRecords.forEach( data =>{\n      diskWrite.data.push(truncateToRadix(data.write / MiB, 2));\n      diskRead.data.push(truncateToRadix(data.read / MiB, 2));\n    })\n    const diskSeries = [ diskWrite, diskRead ];\n    const diskIOChart = (\n      <GridItem xs={12} sm={6} md={3} key='io-usage'>\n        <Box m={0} p={0} className={classes.diskChart} boxShadow={2}>\n          <MultiBarChart\n            series={diskSeries}\n            displayValue={displaySpeedByMB}\n            minTickStep={1}\n            />\n        </Box>\n      </GridItem>\n    )\n    content = [\n      coresChart,\n      memoryChart,\n      networkChart,\n      diskIOChart,\n    ];\n    dataLabels = [\n      instancesLabel,\n      storageLabel,\n    ];\n  }\n\n  return (\n    <Card chart>\n      <CardHeader>\n        <GridContainer>\n          {content}\n        </GridContainer>\n      </CardHeader>\n      <CardBody>\n        {title}\n        {dataLabels}\n        <Box m={0} p={2} className={classes.cardWithDivider}>\n          <GridContainer>\n            {operators}\n          </GridContainer>\n        </Box>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default function CellStatus(props) {\n  const CoreArraySize = 5;\n  const MemoryArraySize = 5;\n  const NetworkIOArraySize = 5;\n  const DiskIOArraySize = 5;\n  const poolName = props.match.params.pool;\n  const [ allStatus, setAllStatus ] = React.useState(null);\n\n  const texts = i18n[props.lang];\n\n  React.useEffect(() =>{\n    var mounted = true\n    var statusMap = new Map();\n\n    const queryCellsStatus = () =>{\n      const MiB = 1 << 20;\n      const onOperateSuccess = dataList => {\n        dataList.forEach(status =>{\n          const cellName = status.name;\n          let coreRecords, memoryRecords, networkRecords, diskRecords;\n          if(!statusMap.has(cellName)){\n            //append & update for exists\n            coreRecords = new Array(CoreArraySize - 1).fill({\n              current: 0,\n              max: 0,\n            });\n            memoryRecords = new Array(MemoryArraySize - 1).fill({\n              available: 0,\n              used: 0,\n            });\n            networkRecords = new Array(NetworkIOArraySize - 1).fill({\n              receive: 0,\n              send: 0,\n            });\n            diskRecords = new Array(DiskIOArraySize - 1).fill({\n              write: 0,\n              read: 0,\n            });\n          }else{\n            //new pool\n            const current = statusMap.get(cellName);\n            coreRecords = current.coreRecords;\n            coreRecords.shift();\n            memoryRecords = current.memoryRecords;\n            memoryRecords.shift();\n            networkRecords = current.networkRecords;\n            networkRecords.shift();\n            diskRecords = current.diskRecords;\n            diskRecords.shift();\n          }\n          coreRecords.push({\n            current: truncateToRadix(status.cpu_usage, 2),\n            max: status.max_cpu,\n          });\n          memoryRecords.push({\n            available: truncateToRadix(status.available_memory/MiB, 2),\n            used: truncateToRadix((status.max_memory - status.available_memory)/MiB, 2),\n          });\n          networkRecords.push({\n            receive: status.receive_speed,\n            send: status.send_speed,\n            // receive: 100 * MiB * Math.random(),\n            // send: 100 * MiB * Math.random(),\n          });\n          diskRecords.push({\n            write: status.write_speed,\n            read: status.read_speed,\n            // write: 10 * MiB * Math.random(),\n            // read: 10 * MiB * Math.random(),\n          });\n\n          const updated = {\n            ...status,\n            coreRecords: coreRecords,\n            memoryRecords: memoryRecords,\n            networkRecords: networkRecords,\n            diskRecords: diskRecords,\n          };\n          statusMap.set(cellName, updated);\n        });\n        var newStatus = new Map();\n        statusMap.forEach((value, key) =>{\n          newStatus.set(key, value);\n        })\n        setAllStatus(newStatus);\n      }\n      queryComputeCellStatus(poolName, onOperateSuccess);\n    }\n\n    queryCellsStatus();\n    const updateInterval = 2 * 1000;\n    var timerID = setInterval(()=>{\n      if (mounted){\n        queryCellsStatus();\n      }\n    }, updateInterval);\n    return () =>{\n      mounted = false;\n      clearInterval(timerID);\n    }\n  }, [poolName]);\n\n  //reder begin\n  var session = getLoggedSession();\n  if (null === session){\n    return redirectToLogin();\n  }\n\n  let content;\n  if (!allStatus){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    var nameList = [];\n    allStatus.forEach( (value, key) =>{\n      nameList.push(key);\n    });\n    nameList.sort();\n    content = [];\n    nameList.forEach(cellName =>{\n      var status = allStatus.get(cellName);\n      content.push(\n        <GridItem xs={12} key={cellName}>\n          <SingleCellStatus status={status} lang={props.lang} cellName={cellName} poolName={poolName}/>\n        </GridItem>\n      );\n    });\n\n  }\n\n  const breadcrumbs = [\n    <Link to='/admin/dashboard/' key={texts.zone}>{texts.zone}</Link>,\n    <Link to='/admin/dashboard/pools/' key={texts.pools}>{texts.pools}</Link>,\n    <Typography color=\"textPrimary\" key={poolName}>{poolName}</Typography>,\n  ];\n\n  return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\">\n            {breadcrumbs}\n          </Breadcrumbs>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n            <Divider/>\n          </Box>\n        </GridItem>\n        {content}\n      </GridContainer>\n  )\n}\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { deleteComputePool } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Delete Pool',\n    content: 'Are you sure to delete compute pool ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除资源池',\n    content: '是否删除计算资源池 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nconst DeleteDialog = (props) =>{\n  const { lang, pool, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const content = texts.content + pool;\n  const onDeleteFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onDeleteSuccess = poolName =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(poolName);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    deleteComputePool(pool, onDeleteSuccess, onDeleteFail);\n  }\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n\nexport default DeleteDialog;\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { getAllStoragePools, getAllNetworkPools, createComputePool } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Create Pool',\n    localStorage: 'Use local storage',\n    noAddressPool: \"Don't use address pool\",\n    name: 'Pool Name',\n    storage: 'Backend Storage',\n    network: 'Address Pool',\n    failover: 'Failover',\n    off: 'Off',\n    on: 'On',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '创建资源池',\n    localStorage: '使用本地存储',\n    noAddressPool: \"不使用地址池\",\n    name: '资源池名称',\n    storage: '后端存储',\n    network: '地址池',\n    failover: '故障切换',\n    off: '关闭',\n    on: '开启',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nconst CreateDialog = (props) =>{\n  const defaultOption = '__default';\n  const defaultValues = {\n    name: '',\n    storage: defaultOption,\n    network: defaultOption,\n    failover: false,\n  };\n  const { lang, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState({\n    storage: [],\n    network: [],\n  });\n\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onCreateFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onCreateSuccess = poolName =>{\n    setOperatable(true);\n    resetDialog();\n    onSuccess(poolName);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    const poolName = request.name;\n    if ('' === poolName){\n      onCreateFail('must specify pool name');\n      return;\n    }\n    let storage, address;\n    if (defaultOption === request.storage){\n      storage = '';\n    }else{\n      storage = request.storage;\n    }\n    if (defaultOption === request.network){\n      address = '';\n    }else{\n      address = request.network;\n    }\n    createComputePool(poolName, storage, address, request.failover, onCreateSuccess, onCreateFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleRequestSwitchChanged = name => e =>{\n    var value = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open || initialed){\n      return;\n    }\n    var storageList = [{\n      label: texts.localStorage,\n      value: defaultOption,\n    }];\n    var addressList = [{\n      label: texts.noAddressPool,\n      value: defaultOption,\n    }];\n\n    const onQueryNetworkSuccess = (dataList) =>{\n      dataList.forEach((address)=>{\n        var item = {\n          label: address.name + ' (' + address.allocated + '/' + address.addresses + ' allocated via gateway ' + address.gateway + ')',\n          value: address.name,\n        }\n        addressList.push(item);\n      })\n      setOptions({\n        storage: storageList,\n        network: addressList,\n      });\n      setInitialed(true);\n    };\n    const onQueryStorageSuccess = (dataList) =>{\n        dataList.forEach((storage)=>{\n          var item = {\n            label: storage.name + ' (' + storage.type + ':' + storage.host + ')',\n            value: storage.name,\n          }\n          storageList.push(item);\n        })\n        getAllNetworkPools(onQueryNetworkSuccess, onCreateFail);\n    };\n\n    getAllStoragePools(onQueryStorageSuccess, onCreateFail);\n\n  }, [initialed, open, texts.localStorage, texts.noAddressPool]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.name,\n        onChange: handleRequestPropsChanged('name'),\n        value: request.name,\n        required: true,\n        oneRow: true,\n        xs: 6,\n      },\n      {\n        type: \"select\",\n        label: texts.storage,\n        onChange: handleRequestPropsChanged('storage'),\n        value: request.storage,\n        options: options.storage,\n        required: true,\n        oneRow: true,\n        xs: 8,\n      },\n      {\n        type: \"select\",\n        label: texts.network,\n        onChange: handleRequestPropsChanged('network'),\n        value: request.network,\n        options: options.network,\n        required: true,\n        oneRow: true,\n        xs: 10,\n      },\n      {\n        type: \"switch\",\n        label: texts.failover,\n        onChange: handleRequestSwitchChanged('failover'),\n        value: request.failover,\n        on: texts.on,\n        off: texts.off,\n        oneRow: true,\n        xs: 6,\n      },\n    ];\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n\nexport default CreateDialog;\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { getAllStoragePools, getAllNetworkPools, modifyComputePool, getComputePool } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Pool',\n    localStorage: 'Use local storage',\n    noAddressPool: \"Don't use address pool\",\n    storage: 'Backend Storage',\n    network: 'Address Pool',\n    failover: 'Failover',\n    off: 'Off',\n    on: 'On',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改资源池',\n    localStorage: '使用本地存储',\n    noAddressPool: \"不使用地址池\",\n    storage: '后端存储',\n    network: '地址池',\n    failover: '故障切换',\n    off: '关闭',\n    on: '开启',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nconst ModifyDialog = (props) =>{\n  const defaultOption = '__default';\n  const defaultValues = {\n    storage: defaultOption,\n    network: defaultOption,\n    failover: false,\n  };\n  const { lang, pool, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState({\n    storage: [],\n    network: [],\n  });\n\n  const texts = i18n[lang];\n  const title = texts.title + ' ' + pool;\n\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = poolName =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(poolName);\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    let storage, address;\n    if (defaultOption === request.storage){\n      storage = '';\n    }else{\n      storage = request.storage;\n    }\n    if (defaultOption === request.network){\n      address = '';\n    }else{\n      address = request.network;\n    }\n    modifyComputePool(pool, storage, address, request.failover, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleRequestSwitchChanged = name => e =>{\n    var value = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!pool || !open ){\n      return;\n    }\n\n    setMounted(true);\n    var storageList = [{\n      label: texts.localStorage,\n      value: defaultOption,\n    }];\n    var addressList = [{\n      label: texts.noAddressPool,\n      value: defaultOption,\n    }];\n\n    const onGetCurrentConfigueSuccess = (config) =>{\n      if(!mounted){\n        return;\n      }\n      setOptions({\n        storage: storageList,\n        network: addressList,\n      });\n      setRequest({\n        storage: config.storage ? config.storage : defaultOption,\n        network: config.network ? config.network : defaultOption,\n        failover: config.failover,\n      });\n      setInitialed(true);\n    }\n\n    const onQueryNetworkSuccess = (dataList) =>{\n      if(!mounted){\n        return;\n      }\n      dataList.forEach((address)=>{\n        var item = {\n          label: address.name + ' (' + address.allocated + '/' + address.addresses + ' allocated via gateway ' + address.gateway + ')',\n          value: address.name,\n        }\n        addressList.push(item);\n      })\n      getComputePool(pool, onGetCurrentConfigueSuccess, onModifyFail)\n    };\n    const onQueryStorageSuccess = (dataList) =>{\n      if(!mounted){\n        return;\n      }\n      dataList.forEach((storage)=>{\n        var item = {\n          label: storage.name + ' (' + storage.type + ':' + storage.host + ')',\n          value: storage.name,\n        }\n        storageList.push(item);\n      })\n      getAllNetworkPools(onQueryNetworkSuccess, onModifyFail);\n    };\n    getAllStoragePools(onQueryStorageSuccess, onModifyFail);\n    return () => {\n      setMounted(false);\n    }\n  }, [mounted, open, pool, texts.localStorage, texts.noAddressPool, onModifyFail]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"select\",\n        label: texts.storage,\n        onChange: handleRequestPropsChanged('storage'),\n        value: request.storage,\n        options: options.storage,\n        required: true,\n        oneRow: true,\n        xs: 8,\n      },\n      {\n        type: \"select\",\n        label: texts.network,\n        onChange: handleRequestPropsChanged('network'),\n        value: request.network,\n        options: options.network,\n        required: true,\n        oneRow: true,\n        xs: 10,\n      },\n      {\n        type: \"switch\",\n        label: texts.failover,\n        onChange: handleRequestSwitchChanged('failover'),\n        value: request.failover,\n        on: texts.on,\n        off: texts.off,\n        oneRow: true,\n        xs: 6,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n\nexport default ModifyDialog;\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport CheckIcon from '@material-ui/icons/Check';\nimport BlockIcon from '@material-ui/icons/Block';\nimport ViewQuiltIcon from '@material-ui/icons/ViewQuilt';\nimport CloudQueueIcon from '@material-ui/icons/CloudQueue';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Table from \"components/Table/ObjectTable.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport DeleteDialog from \"views/ComputePools/DeleteDialog.js\";\nimport CreateDialog from \"views/ComputePools/CreateDialog.js\";\nimport ModifyDialog from \"views/ComputePools/ModifyDialog.js\";\nimport fontStyles from \"assets/jss/material-dashboard-react/components/typographyStyle.js\";\nimport { getAllComputePools, writeLog } from \"nano_api.js\";\n\nconst styles = {\n  ...fontStyles,\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    createButton: \"Create Compute Pool\",\n    tableTitle: \"Compute Pools\",\n    name: \"Name\",\n    cells: \"Cells\",\n    storage: 'Backend Storage',\n    network: 'Address Pool',\n    failover: \"FailOver\",\n    status: \"Status\",\n    operates: \"Operates\",\n    noPools: \"No compute pool available\",\n    computePools: \"Compute Pools\",\n    enable: 'Enable',\n    disable: 'Disable',\n    enabled: 'Enabled',\n    disabled: 'Disabled',\n    instances: 'Instances',\n    modify: 'Modify',\n    delete: 'Delete',\n    on: 'on',\n    off: 'off',\n    localStorage: 'Use local storage',\n    noAddressPool: \"Don't use address pool\",\n  },\n  'cn':{\n    createButton: \"创建资源池\",\n    tableTitle: \"计算资源池\",\n    name: \"名称\",\n    cells: \"资源节点\",\n    storage: '后端存储',\n    network: '地址池',\n    failover: \"故障切换\",\n    status: \"状态\",\n    operates: \"操作\",\n    noPools: \"没有计算资源池\",\n    computePools: \"计算资源池\",\n    enable: '启用',\n    disable: '禁用',\n    enabled: '已启用',\n    disabled: '已禁用',\n    instances: '云主机实例',\n    modify: '修改',\n    delete: '删除',\n    on: '开启',\n    off: '关闭',\n    localStorage: '使用本地存储',\n    noAddressPool: \"不使用地址池\",\n  }\n}\n\nexport default function ComputePools(props){\n    const classes = useStyles();\n    const { lang } = props;\n    const texts = i18n[lang];\n    const [ mounted, setMounted ] = React.useState(false);\n    const [ dataList, setDataList ] = React.useState(null);\n    //for dialog\n    const [ createDialogVisible, setCreateDialogVisible ] = React.useState(false);\n    const [ modifyDialogVisible, setModifyDialogVisible ] = React.useState(false);\n    const [ deleteDialogVisible, setDeleteDialogVisible ] = React.useState(false);\n    const [ selected, setSelected ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback(msg => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage, mounted]);\n\n    const reloadAllData = React.useCallback(() => {\n      if (!mounted){\n        return;\n      }\n      const onLoadFail = (err) =>{\n        if (!mounted){\n          return;\n        }\n        showErrorMessage(err);\n      }\n      getAllComputePools(setDataList, onLoadFail);\n    }, [showErrorMessage, mounted]);\n\n    const showNotifyMessage = msg => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    //modify\n    const showModifyDialog = (poolName) =>{\n      setModifyDialogVisible(true);\n      setSelected(poolName);\n    }\n\n    const closeModifyDialog = () =>{\n      setModifyDialogVisible(false);\n    }\n\n    const onModifySuccess = poolName =>{\n      closeModifyDialog();\n      showNotifyMessage('pool ' + poolName + ' modified');\n      reloadAllData();\n    };\n\n    //delete\n    const showDeleteDialog = poolName =>{\n      setDeleteDialogVisible(true);\n      setSelected(poolName);\n    }\n\n    const closeDeleteDialog = () =>{\n      setDeleteDialogVisible(false);\n    }\n\n    const onDeleteSuccess = (poolName) =>{\n      closeDeleteDialog();\n      showNotifyMessage('pool ' + poolName + ' deleted');\n      reloadAllData();\n    };\n\n    //create\n    const showCreateDialog = () =>{\n      setCreateDialogVisible(true);\n    };\n\n    const closeCreateDialog = () =>{\n      setCreateDialogVisible(false);\n    }\n\n    const onCreateSuccess = (poolName) =>{\n      closeCreateDialog();\n      showNotifyMessage('pool ' + poolName + ' created');\n      reloadAllData();\n    };\n\n    React.useEffect(() =>{\n      setMounted(true);\n      reloadAllData();\n      return () =>{\n        setMounted(false);\n      }\n    }, [reloadAllData]);\n\n    //begin rendering\n    let content;\n    if (null === dataList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === dataList.length){\n      content = <Box display=\"flex\" justifyContent=\"center\"><Info>{texts.noPools}</Info></Box>;\n    }else{\n      var rows = [];\n      dataList.forEach( pool => {\n        var buttons = [\n          {\n            label: texts.cells,\n            icon: ViewQuiltIcon,\n            href: '/admin/compute_cells/?pool=' + pool.name,\n          },\n          {\n            label: texts.instances,\n            icon: CloudQueueIcon,\n            href: '/admin/instances/range/?pool=' + pool.name,\n          },\n          {\n            onClick: e => showModifyDialog(pool.name),\n            icon: SettingsIcon,\n            label: texts.modify,\n          },\n          {\n            onClick: e => showDeleteDialog(pool.name),\n            icon: DeleteIcon,\n            label: texts.delete,\n          },\n        ];\n\n        const { name, cells, network, storage, enabled, failover } = pool;\n        let statusLabel, statusIcon, failoverLabel;\n        if (enabled){\n          statusLabel = texts.enabled;\n          statusIcon = (\n            <Tooltip\n              title={statusLabel}\n              placement=\"top\"\n              >\n              <CheckIcon className={classes.successText}/>\n            </Tooltip>\n          );\n          const disableButton = {\n            label: texts.disable,\n            icon: BlockIcon,\n          };\n          buttons = [disableButton].concat(buttons);\n        }else{\n          statusLabel = texts.disabled;\n          statusIcon = (\n            <Tooltip\n              title={statusLabel}\n              placement=\"top\"\n              >\n              <BlockIcon className={classes.warningText}/>\n            </Tooltip>\n          );\n          const enableButton = {\n            label: texts.enable,\n            icon: CheckIcon,\n          };\n          buttons = [enableButton].concat(buttons);\n        }\n\n        if (failover){\n          failoverLabel = texts.on;\n        }else{\n          failoverLabel = texts.off;\n        }\n\n        const operates = buttons.map((button, key) => (\n          React.createElement(IconButton, {\n            ...button,\n            key: key,\n          })\n        ))\n        var row = [name, cells, network? network: texts.noAddressPool,\n          storage? storage: texts.localStorage, failoverLabel, statusIcon, operates];\n        rows.push(row);\n      });\n      content = (\n        <Table\n          color=\"primary\"\n          headers={[texts.name, texts.cells, texts.network, texts.storage, texts.failover, texts.status, texts.operates]}\n          rows={rows}/>\n      );\n    }\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\">\n            <Typography color=\"textPrimary\">{texts.computePools}</Typography>\n          </Breadcrumbs>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n          <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <GridContainer>\n            <GridItem xs={3} sm={3} md={3}>\n              <Button size=\"sm\" color=\"info\" round onClick={showCreateDialog}><AddIcon />{texts.createButton}</Button>\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              <h4 className={classes.cardTitleWhite}>{texts.tableTitle}</h4>\n            </CardHeader>\n            <CardBody>\n              {content}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <CreateDialog\n            lang={lang}\n            open={createDialogVisible}\n            onSuccess={onCreateSuccess}\n            onCancel={closeCreateDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyDialog\n            lang={lang}\n            open={modifyDialogVisible}\n            pool={selected}\n            onSuccess={onModifySuccess}\n            onCancel={closeModifyDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <DeleteDialog\n            lang={lang}\n            open={deleteDialogVisible}\n            pool={selected}\n            onSuccess={onDeleteSuccess}\n            onCancel={closeDeleteDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { deleteNetworkPool } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Delete Address Pool',\n    content: 'Are you sure to delete address pool ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除地址资源池',\n    content: '是否删除地址资源池 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function DeleteDialog(props){\n  const { lang, pool, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onDeleteFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onDeleteSuccess = poolName =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(poolName);\n  }\n\n  const handleDelete = () =>{\n    setOperatable(false);\n    deleteNetworkPool(pool, onDeleteSuccess, onDeleteFail);\n  }\n\n  const content = texts.content + pool;\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleDelete,\n    },\n  ];\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { createNetworkPool } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Create Network Pool',\n    name: \"Name\",\n    provider: 'Provider',\n    interface: 'Interface Mode',\n    internal: 'Internal',\n    external: 'External',\n    both: 'Both',\n    gateway: \"Gateway\",\n    dns1: \"DNS1\",\n    dns2: \"DNS2\",\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '创建地址资源池',\n    name: \"名称\",\n    provider: '分配模式',\n    interface: '接口类型',\n    internal: '内部',\n    external: '外部',\n    both: '内外部',\n    gateway: \"网关地址\",\n    dns1: \"主DNS\",\n    dns2: \"副DNS\",\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function CreateDialog(props){\n  const defaultValues = {\n    name: '',\n    gateway: '',\n    provider: 'dhcp',\n    mode: 'internal',\n    dns1: '',\n    dns2: '',\n  };\n  const providerOptions = [\n    {\n      label: 'DHCP',\n      value: 'dhcp',\n    },\n    {\n      label: 'Cloud-Init',\n      value: 'cloudinit',\n    },\n  ];\n  const { lang, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const texts = i18n[lang];\n  const title = texts.title;\n  const modeOptions = [\n    {\n      label: texts.internal,\n      value: 'internal',\n    },\n    {\n      label: texts.external,\n      value: 'external',\n    },\n    {\n      label: texts.both,\n      value: 'both',\n    },\n  ];\n  const onCreateFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onCreateSuccess = poolName =>{\n    setOperatable(true);\n    resetDialog();\n    onSuccess(poolName);\n  }\n\n  const handleCreate = () =>{\n    setOperatable(false);\n    const ipv4Pattern = new RegExp('^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$');\n\n    if(!request.name){\n      onCreateFail('must specify pool name');\n      return;\n    }\n    if(!request.gateway){\n      onCreateFail('must specify gateway');\n      return;\n    }else if (!ipv4Pattern.test(request.gateway)){\n      onCreateFail('invalid gateway format');\n      return;\n    }\n\n    if(!request.dns1){\n      onCreateFail('must specify primary DNS');\n      return;\n    }else if (!ipv4Pattern.test(request.dns1)){\n      onCreateFail('invalid primary DNS format');\n      return;\n    }\n\n    var dnsList = [request.dns1];\n    if(request.dns2){\n      if (!ipv4Pattern.test(request.dns2)){\n        onCreateFail('invalid secondary DNS format');\n        return;\n      }\n      dnsList.push(request.dns2);\n    }\n\n    createNetworkPool(request.name, request.gateway, request.provider, dnsList, onCreateSuccess, onCreateFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  //begin render\n  const inputs = [\n    {\n      type: \"text\",\n      label: texts.name,\n      onChange: handleRequestPropsChanged('name'),\n      value: request.name,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 6,\n      md: 4,\n    },\n    {\n      type: \"radio\",\n      label: texts.provider,\n      onChange: handleRequestPropsChanged('provider'),\n      value: request.provider,\n      oneRow: true,\n      disabled: true,\n      options: providerOptions,\n      xs: 12,\n      sm: 8,\n      md: 6,\n    },\n    {\n      type: \"text\",\n      label: texts.gateway,\n      onChange: handleRequestPropsChanged('gateway'),\n      value: request.gateway,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 10,\n      md: 8,\n    },\n    {\n      type: \"text\",\n      label: texts.dns1,\n      onChange: handleRequestPropsChanged('dns1'),\n      value: request.dns1,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 10,\n      md: 8,\n    },\n    {\n      type: \"text\",\n      label: texts.dns2,\n      onChange: handleRequestPropsChanged('dns2'),\n      value: request.dns2,\n      oneRow: true,\n      xs: 12,\n      sm: 10,\n      md: 8,\n    },\n    {\n      type: \"radio\",\n      label: texts.interface,\n      onChange: handleRequestPropsChanged('mode'),\n      value: request.mode,\n      oneRow: true,\n      disabled: true,\n      options: modeOptions,\n      xs: 12,\n      sm: 8,\n      md: 6,\n    },\n  ];\n\n  const content = <InputList inputs={inputs}/>\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleCreate,\n    },\n  ];\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { modifyNetworkPool, getNetworkPool } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Address Pool',\n    name: \"Name\",\n    gateway: \"Gateway\",\n    provider: 'Provider',\n    interface: 'Interface Mode',\n    internal: 'Internal',\n    external: 'External',\n    both: 'Both',\n    dns1: \"DNS1\",\n    dns2: \"DNS2\",\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改地址资源池',\n    name: \"名称\",\n    gateway: \"网关地址\",\n    provider: '分配模式',\n    interface: '接口类型',\n    internal: '内部',\n    external: '外部',\n    both: '内外部',\n    dns1: \"主DNS\",\n    dns2: \"副DNS\",\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyDialog(props){\n  const defaultValues = {\n    name: '',\n    gateway: '',\n    provider: 'dhcp',\n    mode: 'internal',\n    dns1: '',\n    dns2: '',\n  };\n  const providerOptions = [\n    {\n      label: 'DHCP',\n      value: 'dhcp',\n    },\n    {\n      label: 'Cloud-Init',\n      value: 'cloudinit',\n    },\n  ];\n\n  const { lang, pool, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const texts = i18n[lang];\n  const title = texts.title + ' ' + pool;\n  const modeOptions = [\n    {\n      label: texts.internal,\n      value: 'internal',\n    },\n    {\n      label: texts.external,\n      value: 'external',\n    },\n    {\n      label: texts.both,\n      value: 'both',\n    },\n  ];\n  const onModifyFail =React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = poolName =>{\n    setOperatable(true);\n    resetDialog();\n    onSuccess(poolName);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    const ipv4Pattern = new RegExp('^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$');\n\n    if(!request.gateway){\n      onModifyFail('must specify gateway');\n      return;\n    }else if (!ipv4Pattern.test(request.gateway)){\n      onModifyFail('invalid gateway format');\n      return;\n    }\n\n    if(!request.dns1){\n      onModifyFail('must specify primary DNS');\n      return;\n    }else if (!ipv4Pattern.test(request.dns1)){\n      onModifyFail('invalid primary DNS format');\n      return;\n    }\n\n    var dnsList = [request.dns1];\n    if(request.dns2){\n      if (!ipv4Pattern.test(request.dns2)){\n        onModifyFail('invalid secondary DNS format');\n        return;\n      }\n      dnsList.push(request.dns2);\n    }\n    modifyNetworkPool(pool, request.gateway, request.provider, dnsList, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n\n  React.useEffect(()=>{\n    if (!pool || !open ){\n      return;\n    }\n\n    setMounted(true);\n    const onGetPoolSuccess = pool =>{\n      if(!mounted){\n        return;\n      }\n      let primary, secondary;\n      if (0 === pool.dns.length){\n        onModifyFail('no DNS available for pool ' + pool);\n        return\n      }else if (1 === pool.dns.length){\n        primary = pool.dns[0];\n        secondary = \"\";\n      }else if (2 === pool.dns.length){\n        primary = pool.dns[0];\n        secondary = pool.dns[1];\n      }\n      var provider = 'dhcp';\n      if (pool.provider){\n        provider = pool.provider;\n      }\n      var mode = 'internal';\n      if (pool.mode){\n        mode = pool.mode;\n      }\n      setRequest({\n        name: pool.name,\n        gateway: pool.gateway,\n        provider: provider,\n        mode: mode,\n        dns1: primary,\n        dns2: secondary,\n      })\n      setInitialed(true);\n    };\n\n    getNetworkPool(pool, onGetPoolSuccess, onModifyFail);\n    return () => {\n      setMounted(false);\n    }\n  }, [mounted, open, pool, onModifyFail]);\n\n  //begin render\n\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.name,\n        value: pool,\n        disabled: true,\n        oneRow: true,\n        xs: 12,\n        sm: 6,\n        md: 4,\n      },\n      {\n        type: \"radio\",\n        label: texts.provider,\n        onChange: handleRequestPropsChanged('provider'),\n        value: request.provider,\n        oneRow: true,\n        disabled: true,\n        options: providerOptions,\n        xs: 12,\n        sm: 8,\n        md: 6,\n      },\n      {\n        type: \"text\",\n        label: texts.gateway,\n        onChange: handleRequestPropsChanged('gateway'),\n        value: request.gateway,\n        required: true,\n        oneRow: true,\n        xs: 12,\n        sm: 10,\n        md: 8,\n      },\n      {\n        type: \"text\",\n        label: texts.dns1,\n        onChange: handleRequestPropsChanged('dns1'),\n        value: request.dns1,\n        required: true,\n        oneRow: true,\n        xs: 12,\n        sm: 10,\n        md: 8,\n      },\n      {\n        type: \"text\",\n        label: texts.dns2,\n        onChange: handleRequestPropsChanged('dns2'),\n        value: request.dns2,\n        oneRow: true,\n        xs: 12,\n        sm: 10,\n        md: 8,\n      },\n      {\n        type: \"radio\",\n        label: texts.interface,\n        onChange: handleRequestPropsChanged('mode'),\n        value: request.mode,\n        oneRow: true,\n        disabled: true,\n        options: modeOptions,\n        xs: 12,\n        sm: 8,\n        md: 6,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n      title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport BuildIcon from '@material-ui/icons/Build';\nimport ListIcon from '@material-ui/icons/List';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Table from \"components/Table/ObjectTable.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport DeleteDialog from \"views/AddressPools/DeleteDialog.js\";\nimport CreateDialog from \"views/AddressPools/CreateDialog.js\";\nimport ModifyDialog from \"views/AddressPools/ModifyDialog.js\";\nimport { getAllNetworkPools, writeLog } from \"nano_api.js\";\n\nconst styles = {\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    createButton: \"Create Address Pool\",\n    tableTitle: \"Address Pools\",\n    name: \"Name\",\n    gateway: \"Gateway\",\n    address: \"Total Address\",\n    allocated: \"Allocated Address\",\n    provider: 'Provider',\n    operates: \"Operates\",\n    noResource: \"No address pool available\",\n    modify: 'Modify',\n    delete: 'Delete',\n    detail: 'Detail',\n  },\n  'cn':{\n    createButton: \"创建地址池\",\n    tableTitle: \"地址资源池\",\n    name: \"名称\",\n    gateway: \"网关\",\n    address: \"地址数量\",\n    allocated: \"已分配地址\",\n    provider: '分配模式',\n    operates: \"操作\",\n    noResource: \"没有地址池\",\n    modify: '修改',\n    delete: '删除',\n    detail: '详情',\n  }\n}\n\nfunction dataToNodes(data, buttons){\n  const operates = buttons.map((button, key) => (\n    <IconButton label={button.label} icon={button.icon} onClick={button.onClick} href={button.href} key={key}/>\n  ))\n  const { name, gateway, provider, addresses, allocated } = data;\n  var providerName = 'DHCP';\n  if ('cloudinit' === provider){\n    providerName = 'Cloud-Init';\n  }\n  return [ name, providerName, gateway, addresses.toString(), allocated.toString(), operates];\n}\n\nexport default function PoolList(props){\n    const classes = useStyles();\n    const [ mounted, setMounted ] = React.useState(false);\n    const [ dataList, setDataList ] = React.useState(null);\n    //for dialog\n    const [ createDialogVisible, setCreateDialogVisible ] = React.useState(false);\n    const [ modifyDialogVisible, setModifyDialogVisible ] = React.useState(false);\n    const [ deleteDialogVisible, setDeleteDialogVisible ] = React.useState(false);\n    const [ selected, setSelected ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage, mounted]);\n\n    const reloadAllData = React.useCallback(() => {\n      if (!mounted){\n        return;\n      }\n      const onLoadFail = (err) =>{\n        if (!mounted){\n          return;\n        }\n        showErrorMessage(err);\n      }\n      getAllNetworkPools(setDataList, onLoadFail);\n    }, [showErrorMessage, mounted]);\n\n    const showNotifyMessage = (msg) => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    //modify\n    const showModifyDialog = poolName =>{\n      setModifyDialogVisible(true);\n      setSelected(poolName);\n    }\n\n    const closeModifyDialog = () =>{\n      setModifyDialogVisible(false);\n    }\n\n    const onModifySuccess = (poolName) =>{\n      closeModifyDialog();\n      showNotifyMessage('pool ' + poolName + ' modified');\n      reloadAllData();\n    };\n\n    //delete\n    const showDeleteDialog = (poolName) =>{\n      setDeleteDialogVisible(true);\n      setSelected(poolName);\n    }\n\n    const closeDeleteDialog = () =>{\n      setDeleteDialogVisible(false);\n    }\n\n    const onDeleteSuccess = (poolName) =>{\n      closeDeleteDialog();\n      showNotifyMessage('pool ' + poolName + ' deleted');\n      reloadAllData();\n    };\n\n    //create\n    const showCreateDialog = () =>{\n      setCreateDialogVisible(true);\n    };\n\n    const closeCreateDialog = () =>{\n      setCreateDialogVisible(false);\n    }\n\n    const onCreateSuccess = (poolName) =>{\n      closeCreateDialog();\n      showNotifyMessage('pool ' + poolName + ' created');\n      reloadAllData();\n    };\n\n    React.useEffect(() =>{\n      setMounted(true);\n      reloadAllData();\n      return () =>{\n        setMounted(false);\n      }\n    }, [reloadAllData]);\n\n    //begin rendering\n    const { lang } = props;\n    const texts = i18n[lang];\n    let content;\n    if (null === dataList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === dataList.length){\n      content = <Box display=\"flex\" justifyContent=\"center\"><Info>{texts.noResource}</Info></Box>;\n    }else{\n      var rows = [];\n      dataList.forEach( data => {\n        const buttons = [\n          {\n            onClick: e => showModifyDialog(data.name),\n            icon: BuildIcon,\n            label: texts.modify,\n          },\n          {\n            icon: ListIcon,\n            label: texts.detail,\n            href: '/admin/address_pools/' + data.name,\n          },\n          {\n            onClick: e => showDeleteDialog(data.name),\n            icon: DeleteIcon,\n            label: texts.delete,\n          },\n        ];\n        rows.push(dataToNodes(data, buttons));\n      });\n      content = (\n        <Table\n          color=\"primary\"\n          headers={[texts.name, texts.provider, texts.gateway, texts.address, texts.allocated, texts.operates]}\n          rows={rows}/>\n      );\n    }\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n          <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <GridContainer>\n            <GridItem xs={3} sm={3} md={3}>\n              <Button size=\"sm\" color=\"info\" round onClick={showCreateDialog}><AddIcon />{texts.createButton}</Button>\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              <h4 className={classes.cardTitleWhite}>{texts.tableTitle}</h4>\n            </CardHeader>\n            <CardBody>\n              {content}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <CreateDialog\n            lang={lang}\n            open={createDialogVisible}\n            onSuccess={onCreateSuccess}\n            onCancel={closeCreateDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyDialog\n            lang={lang}\n            open={modifyDialogVisible}\n            pool={selected}\n            onSuccess={onModifySuccess}\n            onCancel={closeModifyDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <DeleteDialog\n            lang={lang}\n            open={deleteDialogVisible}\n            pool={selected}\n            onSuccess={onDeleteSuccess}\n            onCancel={closeDeleteDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { removeAddressRange } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Remove Address Range',\n    content: 'Are you sure to remove address range ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除地址段',\n    content: '是否删除地址段 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function RemoveDialog(props){\n  const { lang, open, poolName, rangeType, startAddress, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onRemoveFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onRemoveSuccess = () =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(rangeType, startAddress);\n  }\n\n  const handleRemove = () =>{\n    setOperatable(false);\n    removeAddressRange(poolName, rangeType, startAddress, onRemoveSuccess, onRemoveFail);\n  }\n\n  const content = texts.content + startAddress;\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleRemove,\n    },\n  ];\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { addAddressRange } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Add Address Range',\n    type: 'Range Type',\n    internal: 'Internal Address',\n    external: 'External Address',\n    start: 'Start Address',\n    end: 'End Address',\n    netmask: 'Netmask',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '添加地址段',\n    type: '类型',\n    internal: '内部地址段',\n    external: '外部地址段',\n    start: '起始地址',\n    end: '结束地址',\n    netmask: '子网掩码',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function AddDialog(props){\n  const defaultValues = {\n    type: \"internal\",\n    start: '',\n    end: '',\n    netmask: '',\n  };\n  const { lang, poolName, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onAddFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onAddSuccess = () =>{\n    setOperatable(true);\n    resetDialog();\n    onSuccess(request.type, request.start);\n  }\n\n  const handleAdd = () =>{\n    setOperatable(false);\n    const ipv4Pattern = new RegExp('^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$');\n\n    if(!request.start){\n      onAddFail('must specify start address');\n      return;\n    }else if (!ipv4Pattern.test(request.start)){\n      onAddFail('invalid start start format');\n      return;\n    }\n\n    if(!request.end){\n      onAddFail('must specify end address');\n      return;\n    }else if (!ipv4Pattern.test(request.end)){\n      onAddFail('invalid end address format');\n      return;\n    }\n\n    if(!request.netmask){\n      onAddFail('must specify netmask');\n      return;\n    }else if (!ipv4Pattern.test(request.netmask)){\n      onAddFail('invalid netmask format');\n      return;\n    }\n\n    addAddressRange(poolName, request.type, request.start, request.end, request.netmask, onAddSuccess, onAddFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  //begin render\n  const inputs = [\n    {\n      type: \"radio\",\n      label: texts.type,\n      onChange: handleRequestPropsChanged('type'),\n      value: request.type,\n      options: [{\n        label: texts.internal,\n        value: \"internal\",\n      }],\n      required: true,\n      oneRow: true,\n      xs: 12,\n    },\n    {\n      type: \"text\",\n      label: texts.start,\n      onChange: handleRequestPropsChanged('start'),\n      value: request.start,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 8,\n      md: 6,\n    },\n    {\n      type: \"text\",\n      label: texts.end,\n      onChange: handleRequestPropsChanged('end'),\n      value: request.end,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 8,\n      md: 6,\n    },\n    {\n      type: \"text\",\n      label: texts.netmask,\n      onChange: handleRequestPropsChanged('netmask'),\n      value: request.netmask,\n      oneRow: true,\n      xs: 12,\n      sm: 8,\n      md: 6,\n    },\n  ];\n\n  const content = <InputList inputs={inputs}/>\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleAdd,\n    },\n  ];\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ListIcon from '@material-ui/icons/List';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Table from \"components/Table/ObjectTable.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport RemoveRangeDialog from \"views/AddressPools/RemoveRangeDialog.js\";\nimport AddRangeDialog from \"views/AddressPools/AddRangeDialog.js\";\nimport { getNetworkPool, writeLog } from \"nano_api.js\";\n\nconst styles = {\n  cardCategoryWhite: {\n    \"&,& a,& a:hover,& a:focus\": {\n      color: \"rgba(255,255,255,.62)\",\n      margin: \"0\",\n      fontSize: \"14px\",\n      marginTop: \"0\",\n      marginBottom: \"0\"\n    },\n    \"& a,& a:hover,& a:focus\": {\n      color: \"#FFFFFF\"\n    }\n  },\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    back: 'Back',\n    createButton: \"Add Address Range\",\n    tableTitle: \"Address Pool Status\",\n    internal: 'Internal Address Range',\n    allocated: 'Allocated Address',\n    startAddress: 'Start Address',\n    endAddress: 'End Address',\n    netmask: 'Netmask',\n    noInternalRange: 'No internal range available',\n    noAllocated: 'No address allocated',\n    operates: \"Operates\",\n    allocatedAddress: 'Allocated Address',\n    instance: 'Instance',\n    detail: 'Detail',\n    remove: 'Remove',\n  },\n  'cn':{\n    back: '返回',\n    createButton: \"添加地址段\",\n    tableTitle: \"地址资源池状态\",\n    internal: '内部地址段',\n    allocated: '已分配地址',\n    startAddress: '开始地址',\n    endAddress: '结束地址',\n    netmask: '子网掩码',\n    noInternalRange: '没有内部地址段',\n    noAllocated: '未分配地址',\n    operates: \"操作\",\n    allocatedAddress: '已分配地址',\n    instance: '云主机实例',\n    detail: '详情',\n    remove: '删除',\n  }\n}\n\nfunction dataToNodes(data, buttons){\n  // const operates = buttons.map((button, key) => (\n  //   <IconButton label={button.label} icon={button.icon} onClick={button.onClick} href={button.href} key={key}/>\n  // ))\n  const operates = buttons.map((button, key) => (\n    React.createElement(IconButton, {\n      ...button,\n      key: key,\n    })\n  ))\n  const { start, end, netmask } = data;\n  return [ start, end, netmask, operates];\n}\n\nfunction dataToAllocated(data, buttons){\n  const { address, instance } = data;\n  const operates = buttons.map((button, key) => (\n    React.createElement(IconButton, {\n      ...button,\n      key: key,\n    })\n  ))\n  return [address, instance].concat(operates);\n}\n\nexport default function PoolStatus(props){\n    const { lang } = props;\n    const texts = i18n[lang];\n    const poolName = props.match.params.pool;\n    const classes = useStyles();\n    const [ mounted, setMounted ] = React.useState(false);\n    const [ status, setStatus ] = React.useState(null);\n    //for dialog\n    const [ addDialogVisible, setAddDialogVisible ] = React.useState(false);\n    const [ removeDialogVisible, setRemoveDialogVisible ] = React.useState(false);\n    const [ current, setCurrent ] = React.useState({\n      type: '',\n      start: '',\n    });\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback(msg => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage, mounted]);\n\n    const reloadPoolStatus = React.useCallback(() => {\n      if (!mounted){\n        return;\n      }\n      const onLoadFail = (err) =>{\n        if (!mounted){\n          return;\n        }\n        showErrorMessage(err);\n      }\n      getNetworkPool(poolName, setStatus, onLoadFail);\n    }, [showErrorMessage, poolName, mounted]);\n\n    const showNotifyMessage = msg => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    //remove\n    const showRemoveDialog = (rangeType, startAddress) =>{\n      setRemoveDialogVisible(true);\n      setCurrent({\n        type: rangeType,\n        start: startAddress,\n      });\n    }\n\n    const closeRemoveDialog = () =>{\n      setRemoveDialogVisible(false);\n    }\n\n    const onRemoveSuccess = (rangeType, startAddress) =>{\n      closeRemoveDialog();\n      showNotifyMessage('range \"' + startAddress + '\" of ' + rangeType + ' address removed');\n      reloadPoolStatus();\n    };\n\n    //add\n    const showAddDialog = () =>{\n      setAddDialogVisible(true);\n    };\n\n    const closeAddDialog = () =>{\n      setAddDialogVisible(false);\n    }\n\n    const onAddSuccess = (rangeType, startAddress) =>{\n      closeAddDialog();\n      showNotifyMessage('range \"' + startAddress + '\" of ' + rangeType + ' address added');\n      reloadPoolStatus();\n    };\n\n    React.useEffect(() =>{\n      setMounted(true);\n      reloadPoolStatus();\n      return () =>{\n        setMounted(false);\n      }\n    }, [reloadPoolStatus]);\n\n\n    //begin rendering\n    let content;\n    if (null === status){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else{\n      let internalContent;\n      if (!status.ranges || 0 === status.ranges.length){\n        internalContent = <Box display=\"flex\" justifyContent=\"center\"><Info>{texts.noInternalRange}</Info></Box>;\n      }else{\n        var rows = [];\n        status.ranges.forEach( data => {\n          const buttons = [\n            {\n              icon: ListIcon,\n              label: texts.detail,\n              href: '/admin/address_pools/' + poolName + \"/internal/ranges/\" + data.start,\n            },\n            {\n              onClick: e => showRemoveDialog(\"internal\", data.start),\n              icon: DeleteIcon,\n              label: texts.remove,\n            },\n          ];\n          rows.push(dataToNodes(data, buttons));\n        });\n        internalContent = (\n          <Table\n            color=\"primary\"\n            headers={[texts.startAddress, texts.endAddress, texts.netmask, texts.operates]}\n            rows={rows}\n            />\n        )\n      }\n      const internalRanges = (\n        <Card>\n          <CardHeader color=\"primary\">\n            <h4 className={classes.cardTitleWhite}>{texts.internal}</h4>\n          </CardHeader>\n          <CardBody>\n            {internalContent}\n          </CardBody>\n        </Card>\n      )\n\n      let allocatedContent;\n      if (!status.allocated || 0 === status.allocated.length){\n        allocatedContent = <Box display=\"flex\" justifyContent=\"center\"><Info>{texts.noAllocated}</Info></Box>;\n      }else{\n        rows = [];\n        status.allocated.forEach( data => {\n          const buttons = [\n            {\n              icon: VisibilityIcon,\n              label: texts.detail,\n              href: '/admin/instances/details/' + data.instance,\n            },\n          ];\n          rows.push(dataToAllocated(data, buttons));\n        });\n        allocatedContent = (\n          <Table\n            color=\"primary\"\n            headers={[texts.allocatedAddress, texts.instance, '']}\n            rows={rows}\n            />\n        )\n      }\n      const allocatedList = (\n        <Card>\n          <CardHeader color=\"primary\">\n            <h4 className={classes.cardTitleWhite}>{texts.allocated}</h4>\n          </CardHeader>\n          <CardBody>\n            {allocatedContent}\n          </CardBody>\n        </Card>\n      )\n\n      content = (\n        <GridContainer>\n          <GridItem xs={12}>\n            {internalRanges}\n          </GridItem>\n          <GridItem xs={12}>\n            {allocatedList}\n          </GridItem>\n        </GridContainer>\n      );\n    }\n\n    const buttons = [\n      <Button key='back' size=\"sm\" color=\"info\" round onClick={() =>{\n        props.history.goBack();\n        }}>\n        <NavigateBeforeIcon />{texts.back}\n      </Button>,\n      <Button key='add' size=\"sm\" color=\"info\" round onClick={showAddDialog}><AddIcon />{texts.createButton}</Button>,\n    ];\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n          <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box display='flex'>\n            {\n              buttons.map((button, key) =>(\n                <Box key={key} m={1}>\n                  {button}\n                </Box>\n              ))\n            }\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          {content}\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <AddRangeDialog\n            lang={lang}\n            poolName={poolName}\n            open={addDialogVisible}\n            onSuccess={onAddSuccess}\n            onCancel={closeAddDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <RemoveRangeDialog\n            lang={lang}\n            open={removeDialogVisible}\n            poolName={poolName}\n            rangeType={current.type}\n            startAddress={current.start}\n            onSuccess={onRemoveSuccess}\n            onCancel={closeRemoveDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Table from \"components/Table/ObjectTable.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport { getAddressRangeStatus } from \"nano_api.js\";\n\nconst styles = {\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    back: 'Back',\n    internal: 'Address Range Status',\n    allocated: 'Allocated Address',\n    startAddress: 'Start Address',\n    endAddress: 'End Address',\n    netmask: 'Netmask',\n    noAllocated: 'No address allocated',\n    allocatedAddress: 'Allocated Address',\n    instance: 'Instance',\n    detail: 'Detail',\n  },\n  'cn':{\n    back: '返回',\n    internal: '地址段状态',\n    allocated: '已分配地址',\n    startAddress: '开始地址',\n    endAddress: '结束地址',\n    netmask: '子网掩码',\n    noAllocated: '未分配地址',\n    allocatedAddress: '已分配地址',\n    instance: '云主机实例',\n    detail: '详情',\n  }\n}\n\nfunction dataToAllocated(data, buttons){\n  const { address, instance } = data;\n  const operates = buttons.map((button, key) => (\n    React.createElement(IconButton, {\n      ...button,\n      key: key,\n    })\n  ))\n  return [address, instance].concat(operates);\n}\n\nexport default function RangeStatus(props){\n    const poolName = props.match.params.pool;\n    const rangeType = props.match.params.type;\n    const startAddress = props.match.params.start;\n    const { lang } = props;\n    const texts = i18n[lang];\n    const classes = useStyles();\n    const [ mounted, setMounted ] = React.useState(false);\n    const [ status, setStatus ] = React.useState(null);\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback(msg => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage, mounted]);\n\n    const reloadRangeStatus = React.useCallback(() => {\n      if (!mounted){\n        return;\n      }\n      const onLoadFail = (err) =>{\n        if (!mounted){\n          return;\n        }\n        showErrorMessage(err);\n      }\n      getAddressRangeStatus(poolName, rangeType, startAddress, setStatus, onLoadFail);\n    }, [showErrorMessage, poolName, rangeType, startAddress, mounted]);\n\n    // const showNotifyMessage = (msg) => {\n    //   const notifyDuration = 3000;\n    //   setNotifyColor('info');\n    //   setNotifyMessage(msg);\n    //   setTimeout(closeNotify, notifyDuration);\n    // };\n\n    React.useEffect(() =>{\n      setMounted(true);\n      reloadRangeStatus();\n      return () =>{\n        setMounted(false);\n      }\n    }, [reloadRangeStatus]);\n\n    //begin rendering\n    let content;\n    if (null === status){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else{\n      const internalContent = (\n        <Table\n          color=\"primary\"\n          headers={[texts.startAddress, texts.endAddress, texts.netmask]}\n          rows={[[startAddress, status.end, status.netmask]]}\n          />\n      )\n      const internalRanges = (\n        <Card>\n          <CardHeader color=\"primary\">\n            <h4 className={classes.cardTitleWhite}>{texts.internal}</h4>\n          </CardHeader>\n          <CardBody>\n            {internalContent}\n          </CardBody>\n        </Card>\n      )\n\n      let allocatedContent;\n      if (!status.allocated || 0 === status.allocated.length){\n        allocatedContent = <Box display=\"flex\" justifyContent=\"center\"><Info>{texts.noAllocated}</Info></Box>;\n      }else{\n        var rows = [];\n        status.allocated.forEach( data => {\n          const buttons = [\n            {\n              icon: VisibilityIcon,\n              label: texts.detail,\n              href: '/admin/instances/details/' + data.instance,\n            },\n          ];\n          rows.push(dataToAllocated(data, buttons));\n        });\n        allocatedContent = (\n          <Table\n            color=\"primary\"\n            headers={[texts.allocatedAddress, texts.instance, '']}\n            rows={rows}\n            />\n        )\n      }\n      const allocatedList = (\n        <Card>\n          <CardHeader color=\"primary\">\n            <h4 className={classes.cardTitleWhite}>{texts.allocated}</h4>\n          </CardHeader>\n          <CardBody>\n            {allocatedContent}\n          </CardBody>\n        </Card>\n      )\n\n      content = (\n        <GridContainer>\n          <GridItem xs={12}>\n            {internalRanges}\n          </GridItem>\n          <GridItem xs={12}>\n            {allocatedList}\n          </GridItem>\n        </GridContainer>\n      );\n    }\n\n    const buttons = [\n      <Button key='back' size=\"sm\" color=\"info\" round onClick={() =>{\n        props.history.goBack();\n        }}>\n        <NavigateBeforeIcon />{texts.back}\n      </Button>,\n    ];\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n          <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box display='flex'>\n            {\n              buttons.map((button, key) =>(\n                <Box key={key} m={1}>\n                  {button}\n                </Box>\n              ))\n            }\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          {content}\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { deleteStoragePool } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Delete Storage Pool',\n    content: 'Are you sure to delete storage pool ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除存储资源池',\n    content: '是否删除存储资源池 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nconst DeleteDialog = (props) =>{\n  const { lang, pool, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onDeleteFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onDeleteSuccess = poolName =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(poolName);\n  }\n\n  const handleDelete = () =>{\n    setOperatable(false);\n    deleteStoragePool(pool, onDeleteSuccess, onDeleteFail);\n  }\n\n  const content = texts.content + pool;\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleDelete,\n    },\n  ];\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n\nexport default DeleteDialog;\n","import React from \"react\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { createStoragePool } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Create Storage Pool',\n    name: \"Name\",\n    type: \"Type\",\n    host: \"Host\",\n    target: \"Target\",\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '创建存储资源池',\n    name: \"名称\",\n    type: \"类型\",\n    host: \"主机\",\n    target: \"目标\",\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function CreateDialog(props){\n  const defaultType = 'nfs';\n  const defaultValues = {\n    name: '',\n    type: defaultType,\n    host: '',\n    target: '',\n  };\n  const { lang, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const options = {\n    type: [{\n      value: defaultType,\n      label: 'NFS',\n    }]\n  }\n\n  const texts = i18n[lang];\n  const onCreateFail = (msg) =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onCreateSuccess = (poolName) =>{\n    resetDialog();\n    setOperatable(true);\n    onSuccess(poolName);\n  }\n\n  const handleCreate = () =>{\n    setOperatable(false);\n    if(!request.name){\n      onCreateFail('must specify storage name');\n      return;\n    }\n    if(!request.type){\n      onCreateFail('must specify storage type');\n      return;\n    }\n    if(!request.host){\n      onCreateFail('must specify storage host');\n      return;\n    }\n    if(!request.target){\n      onCreateFail('must specify storage target');\n      return;\n    }\n    const hostPattern = new RegExp('^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$|^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]).)+([A-Za-z]|[A-Za-z][A-Za-z0-9-]*[A-Za-z0-9])$');\n    const pathPattern = new RegExp('^(/[^/ ]*)+/?$');\n\n    if (!hostPattern.test(request.host)){\n      onCreateFail('invalid host format');\n      return;\n    }\n    if (!pathPattern.test(request.target)){\n      onCreateFail('invalid target format');\n      return;\n    }\n\n    createStoragePool(request.name, request.type, request.host, request.target, onCreateSuccess, onCreateFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const inputs = [\n    {\n      type: \"text\",\n      label: texts.name,\n      onChange: handleRequestPropsChanged('name'),\n      value: request.name,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 6,\n      md: 4,\n    },\n    {\n      type: \"select\",\n      label: texts.type,\n      onChange: handleRequestPropsChanged('type'),\n      value: request.type,\n      options: options.type,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 8,\n      md: 6,\n    },\n    {\n      type: \"text\",\n      label: texts.host,\n      onChange: handleRequestPropsChanged('host'),\n      value: request.host,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 10,\n      md: 8,\n    },\n    {\n      type: \"text\",\n      label: texts.target,\n      onChange: handleRequestPropsChanged('target'),\n      value: request.target,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 10,\n      md: 8,\n    },\n  ];\n\n  const content = <InputList inputs={inputs}/>\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleCreate,\n    },\n  ];\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={texts.title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { modifyStoragePool, getStoragePool } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Storage Pool',\n    name: \"Name\",\n    type: \"Type\",\n    host: \"Host\",\n    target: \"Target\",\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改存储资源池',\n    name: \"名称\",\n    type: \"类型\",\n    host: \"主机\",\n    target: \"目标\",\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyDialog(props){\n  const defaultType = 'nfs';\n  const defaultValues = {\n    name: '',\n    type: '',\n    host: '',\n    target: '',\n  };\n  const { lang, pool, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const options = {\n    type: [{\n      value: defaultType,\n      label: 'NFS',\n    }]\n  }\n\n  const texts = i18n[lang];\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = poolName =>{\n    if(!mounted){\n      return;\n    }\n    resetDialog();\n    setOperatable(true);\n    onSuccess(poolName);\n  }\n\n  const handleModify = () =>{\n    setOperatable(false);\n    if(!request.type){\n      onModifyFail('must specify storage type');\n      return;\n    }\n    if(!request.host){\n      onModifyFail('must specify storage host');\n      return;\n    }\n    if(!request.target){\n      onModifyFail('must specify storage target');\n      return;\n    }\n    const hostPattern = new RegExp('^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$|^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]).)+([A-Za-z]|[A-Za-z][A-Za-z0-9-]*[A-Za-z0-9])$');\n    const pathPattern = new RegExp('^(/[^/ ]*)+/?$');\n\n    if (!hostPattern.test(request.host)){\n      onModifyFail('invalid host format');\n      return;\n    }\n    if (!pathPattern.test(request.target)){\n      onModifyFail('invalid target format');\n      return;\n    }\n    modifyStoragePool(pool, request.type, request.host, request.target, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n\n  React.useEffect(()=>{\n    if (!pool || !open ){\n      return;\n    }\n\n    setMounted(true);\n    const onGetStorageSuccess = storage =>{\n      if(!mounted){\n        return;\n      }\n      setRequest({\n        type: storage.type,\n        host: storage.host,\n        target: storage.target,\n      })\n      setInitialed(true);\n    };\n\n    getStoragePool(pool, onGetStorageSuccess, onModifyFail);\n    return () => {\n      setMounted(false);\n    }\n  }, [initialed, open, pool, mounted, onModifyFail]);\n\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.name,\n        value: pool,\n        disabled: true,\n        oneRow: true,\n        xs: 12,\n        sm: 6,\n        md: 4,\n      },\n      {\n        type: \"select\",\n        label: texts.type,\n        onChange: handleRequestPropsChanged('type'),\n        value: request.type,\n        options: options.type,\n        required: true,\n        oneRow: true,\n        xs: 12,\n        sm: 8,\n        md: 6,\n      },\n      {\n        type: \"text\",\n        label: texts.host,\n        onChange: handleRequestPropsChanged('host'),\n        value: request.host,\n        required: true,\n        oneRow: true,\n        xs: 12,\n        sm: 10,\n        md: 8,\n      },\n      {\n        type: \"text\",\n        label: texts.target,\n        onChange: handleRequestPropsChanged('target'),\n        value: request.target,\n        required: true,\n        oneRow: true,\n        xs: 12,\n        sm: 10,\n        md: 8,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n  }\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleModify,\n    },\n  ];\n\n  const title = texts.title + ' ' + pool;\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n      title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport Divider from '@material-ui/core/Divider';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport Box from '@material-ui/core/Box';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Table from \"components/Table/ObjectTable.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport DeleteDialog from \"views/StoragePools/DeleteDialog.js\";\nimport CreateDialog from \"views/StoragePools/CreateDialog.js\";\nimport ModifyDialog from \"views/StoragePools/ModifyDialog.js\";\nimport { getAllStoragePools, writeLog } from \"nano_api.js\";\n\nconst styles = {\n  cardCategoryWhite: {\n    \"&,& a,& a:hover,& a:focus\": {\n      color: \"rgba(255,255,255,.62)\",\n      margin: \"0\",\n      fontSize: \"14px\",\n      marginTop: \"0\",\n      marginBottom: \"0\"\n    },\n    \"& a,& a:hover,& a:focus\": {\n      color: \"#FFFFFF\"\n    }\n  },\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    createButton: \"Create Storage Pool\",\n    tableTitle: \"Storage Pools\",\n    name: \"Name\",\n    type: \"Type\",\n    host: \"Host\",\n    target: \"Target\",\n    operates: \"Operates\",\n    noResource: \"No storage pool available\",\n    modify: 'Modify',\n    delete: 'Delete',\n  },\n  'cn':{\n    createButton: \"创建存储资源池\",\n    tableTitle: \"存储资源池\",\n    name: \"名称\",\n    type: \"类型\",\n    host: \"主机\",\n    target: \"目标\",\n    operates: \"操作\",\n    noResource: \"没有存储资源池\",\n    modify: '修改',\n    delete: '删除',\n  }\n}\n\nfunction dataToNodes(data, buttons){\n  const operates = buttons.map((button, key) => (\n    <IconButton label={button.label} icon={button.icon} onClick={button.onClick} key={key}/>\n  ))\n  const { name, type, host, target } = data;\n  return [ name, type, host, target, operates];\n}\n\nexport default function StoragePools(props){\n    const { lang } = props;\n    const texts = i18n[lang];\n    const classes = useStyles();\n    const [ mounted, setMounted ] = React.useState(false);\n    const [ dataList, setDataList ] = React.useState(null);\n    //for dialog\n    const [ createDialogVisible, setCreateDialogVisible ] = React.useState(false);\n    const [ modifyDialogVisible, setModifyDialogVisible ] = React.useState(false);\n    const [ deleteDialogVisible, setDeleteDialogVisible ] = React.useState(false);\n    const [ selected, setSelected ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage, mounted]);\n\n    const reloadAllData = React.useCallback(() => {\n      if (!mounted){\n        return;\n      }\n      const onLoadFail = err =>{\n        if (!mounted){\n          return;\n        }\n        showErrorMessage(err);\n      }\n      getAllStoragePools(setDataList, onLoadFail);\n    }, [showErrorMessage, mounted]);\n\n    const showNotifyMessage = msg => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    //modify\n    const showModifyDialog = (poolName) =>{\n      setModifyDialogVisible(true);\n      setSelected(poolName);\n    }\n\n    const closeModifyDialog = () =>{\n      setModifyDialogVisible(false);\n    }\n\n    const onModifySuccess = (poolName) =>{\n      closeModifyDialog();\n      showNotifyMessage('pool ' + poolName + ' modified');\n      reloadAllData();\n    };\n\n    //delete\n    const showDeleteDialog = (poolName) =>{\n      setDeleteDialogVisible(true);\n      setSelected(poolName);\n    }\n\n    const closeDeleteDialog = () =>{\n      setDeleteDialogVisible(false);\n    }\n\n    const onDeleteSuccess = (poolName) =>{\n      closeDeleteDialog();\n      showNotifyMessage('pool ' + poolName + ' deleted');\n      reloadAllData();\n    };\n\n    //create\n    const showCreateDialog = () =>{\n      setCreateDialogVisible(true);\n    };\n\n    const closeCreateDialog = () =>{\n      setCreateDialogVisible(false);\n    }\n\n    const onCreateSuccess = (poolName) =>{\n      closeCreateDialog();\n      showNotifyMessage('pool ' + poolName + ' created');\n      reloadAllData();\n    };\n\n    React.useEffect(() =>{\n      setMounted(true);\n      reloadAllData();\n      return () =>{\n        setMounted(false);\n      }\n    }, [reloadAllData]);\n\n    //begin rendering\n    let content;\n    if (null === dataList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === dataList.length){\n      content = <Box display=\"flex\" justifyContent=\"center\"><Info>{texts.noResource}</Info></Box>;\n    }else{\n      var rows = [];\n      dataList.forEach( data => {\n        const buttons = [\n          {\n            onClick: e => showModifyDialog(data.name),\n            icon: SettingsIcon,\n            label: texts.modify,\n          },\n          {\n            onClick: e => showDeleteDialog(data.name),\n            icon: DeleteIcon,\n            label: texts.delete,\n          },\n        ];\n        rows.push(dataToNodes(data, buttons));\n      });\n      content = (\n        <Table\n          color=\"primary\"\n          headers={[texts.name, texts.type, texts.host, texts.target, texts.operates]}\n          rows={rows}/>\n      );\n\n    }\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n          <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <GridContainer>\n            <GridItem xs={3} sm={3} md={3}>\n              <Button size=\"sm\" color=\"info\" round onClick={showCreateDialog}><AddIcon />{texts.createButton}</Button>\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              <h4 className={classes.cardTitleWhite}>{texts.tableTitle}</h4>\n            </CardHeader>\n            <CardBody>\n              {content}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <CreateDialog\n            lang={lang}\n            open={createDialogVisible}\n            onSuccess={onCreateSuccess}\n            onCancel={closeCreateDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyDialog\n            lang={lang}\n            open={modifyDialogVisible}\n            pool={selected}\n            onSuccess={onModifySuccess}\n            onCancel={closeModifyDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <DeleteDialog\n            lang={lang}\n            open={deleteDialogVisible}\n            pool={selected}\n            onSuccess={onDeleteSuccess}\n            onCancel={closeDeleteDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { deleteMediaImage } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Delete Media Image',\n    content: 'Are you sure to delete media image ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除光盘镜像',\n    content: '是否删除光盘镜像 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function DeleteDialog(props){\n  const { lang, imageID, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const content = texts.content + imageID;\n  const onDeleteFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onDeleteSuccess = () =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(imageID);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    deleteMediaImage(imageID, onDeleteSuccess, onDeleteFail);\n  }\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { createMediaImage, deleteMediaImage, uploadMediaImage } from 'nano_api.js';\n\nconst i18n = {\n  'en': {\n    title: 'Upload New Image',\n    name: 'Image Name',\n    description: 'Description',\n    tags: 'Tags',\n    file: 'Image File',\n    choose: 'Choose File',\n    cancel: 'Cancel',\n    confirm: 'Upload',\n  },\n  'cn': {\n    title: '上传新镜像',\n    name: '镜像名称',\n    description: '描述',\n    tags: '标签',\n    file: '镜像文件',\n    choose: '浏览文件',\n    cancel: '取消',\n    confirm: '上传',\n  },\n}\n\nexport default function UploadDialog(props) {\n  const defaultValues = {\n    name: '',\n    description: '',\n    tags: new Map(),\n    file: null,\n  };\n  const { lang, open, onSuccess, onCancel } = props;\n  const [initialed, setInitialed] = React.useState(false);\n  const [uploading, setUploading] = React.useState(false);\n  const [progress, setProgress] = React.useState(0);\n  const [operatable, setOperatable] = React.useState(true);\n  const [prompt, setPrompt] = React.useState('');\n  const [mounted, setMounted] = React.useState(false);\n  const [request, setRequest] = React.useState(defaultValues);\n  const [options, setOptions] = React.useState({\n    tags: [],\n  });\n\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onUploadFail = React.useCallback(msg => {\n    if (!mounted) {\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n    setUploading(false);\n    setProgress(0);\n  }\n\n  const closeDialog = () => {\n    resetDialog();\n    onCancel();\n  }\n\n  const onUploadSuccess = imageID => {\n    if (!mounted) {\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(imageID);\n  }\n\n  const onUploadProgress = progress => {\n    if (!mounted) {\n      return;\n    }\n    setProgress(progress);\n  }\n\n  const handleConfirm = () => {\n    setPrompt('');\n    setOperatable(false);\n    const imageName = request.name;\n    if ('' === imageName) {\n      onUploadFail('must specify image name');\n      return;\n    }\n    const description = request.description;\n    if ('' === description) {\n      onUploadFail('desciption required');\n      return;\n    }\n\n    if (!request.tags) {\n      onUploadFail('image tags required');\n      return;\n    }\n    var tags = [];\n    request.tags.forEach((value, key) => {\n      if (value) {\n        //checked\n        tags.push(key);\n      }\n    });\n    if (0 === tags.length) {\n      onUploadFail('image tags required');\n      return;\n    }\n\n    if (!request.file) {\n      onUploadFail('must specify upload file');\n      return;\n    }\n\n    const onCreateSuccess = (imageID) => {\n      if (!mounted) {\n        return;\n      }\n      const onDeleteSuccess = () => {\n        onUploadFail('new image ' + imageName + ' deleted');\n      }\n      const onDeleteFail = (msg) => {\n        onUploadFail('delete new image ' + imageName + ' fail: ' + msg);\n      }\n      const onFailAfterCreated = () => {\n        deleteMediaImage(imageID, onDeleteSuccess, onDeleteFail);\n      }\n      setUploading(true);\n      uploadMediaImage(imageID, request.file, onUploadProgress, onUploadSuccess, onFailAfterCreated);\n    }\n\n    createMediaImage(imageName, description, tags, onCreateSuccess, onUploadFail);\n  }\n\n  const handleRequestPropsChanged = name => e => {\n    if (!mounted) {\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleTagsChanged = name => e => {\n    if (!mounted) {\n      return;\n    }\n    var value = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      tags: previous.tags.set(name, value),\n    }));\n  };\n\n  const handleFileChanged = name => e => {\n    if (!mounted) {\n      return;\n    }\n    setPrompt('');\n    var file = e.target.files[0];\n    e.preventDefault();\n    //check extension\n    if (file && file.name) {\n      let ext = file.name.split('.').pop().toLowerCase();\n      if (ext === 'iso') {\n        setRequest(previous => ({\n          ...previous,\n          [name]: file,\n        }));\n        return;\n      }\n    }\n    //invalid file\n    if ('en' === lang){\n      setPrompt('invalid file, only iso file supported');\n    }else{\n      setPrompt('无效文件，仅支持iso格式');\n    }\n\n  };\n\n  React.useEffect(() => {\n    if (!open) {\n      return;\n    }\n    const imageTags = [\n      ['linux', 'Linux'],\n      ['windows', 'Windows'],\n      ['centos', 'Centos'],\n      ['ubuntu', 'Ubuntu'],\n      ['64bit', '64Bit'],\n      ['32bit', '32Bit']\n    ];\n\n    setMounted(true);\n    var tagOptions = [];\n    imageTags.forEach(tag => {\n      tagOptions.push({\n        label: tag[1],\n        value: tag[0],\n      });\n    });\n    setOptions({\n      tags: tagOptions,\n    });\n    setInitialed(true);\n\n    return () => {\n      setMounted(false);\n    }\n  }, [open]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed) {\n    content = <Skeleton variant=\"rect\" style={{ height: '10rem' }} />;\n  } else if (uploading) {\n    content = (\n      <Grid container>\n        <Grid item xs={12}>\n          <LinearProgress variant=\"determinate\" value={progress} />\n        </Grid>\n        <Grid item xs={12}>\n          <Typography align=\"center\">\n            {progress.toFixed(2) + '%'}\n          </Typography>\n        </Grid>\n      </Grid>\n    )\n  } else {\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.name,\n        value: request.name,\n        onChange: handleRequestPropsChanged('name'),\n        required: true,\n        oneRow: true,\n        xs: 8,\n      },\n      {\n        type: \"textarea\",\n        label: texts.description,\n        value: request.description,\n        onChange: handleRequestPropsChanged('description'),\n        required: true,\n        oneRow: true,\n        rows: 4,\n        xs: 12,\n      },\n      {\n        type: \"checkbox\",\n        label: texts.tags,\n        onChange: handleTagsChanged,\n        value: request.tags,\n        options: options.tags,\n        required: true,\n        oneRow: true,\n        xs: 10,\n      },\n      {\n        type: \"file\",\n        label: texts.file,\n        onChange: handleFileChanged('file'),\n        required: true,\n        oneRow: true,\n        xs: 12,\n      },\n    ];\n\n    content = <InputList inputs={inputs} />\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt} hideBackdrop\n    title={title} buttons={buttons} content={content} operatable={operatable} />;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { getMediaImage, modifyMediaImage } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Media Image',\n    name: 'Image Name',\n    description: 'Description',\n    tags: 'Tags',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改镜像信息',\n    name: '镜像名称',\n    description: '描述',\n    tags: '标签',\n    cancel: '取消',\n    confirm: '确认',\n  },\n}\n\nexport default function ModifyDialog(props){\n  const defaultValues = {\n    name: '',\n    description: '',\n    tags: new Map(),\n  };\n  const { lang, imageID, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState({\n    tags: [],\n  });\n\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  }\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = imageID =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(imageID);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    const imageName = request.name;\n    if ('' === imageName){\n      onModifyFail('must specify image name');\n      return;\n    }\n    const description = request.description;\n    if ('' === description){\n      onModifyFail('desciption required');\n      return;\n    }\n\n    if (!request.tags){\n      onModifyFail('image tags required');\n      return;\n    }\n    var tags = [];\n    request.tags.forEach((value, key) =>{\n      if (value){\n        //checked\n        tags.push(key);\n      }\n    });\n    if (0 === tags.length){\n      onModifyFail('image tags required');\n      return;\n    }\n    modifyMediaImage(imageID, imageName, description, tags, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleTagsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      tags: previous.tags.set(name, value),\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n\n    const imageTags = [\n      ['linux', 'Linux'],\n      ['windows', 'Windows'],\n      ['centos', 'Centos'],\n      ['ubuntu', 'Ubuntu'],\n      ['64bit', '64Bit'],\n      ['32bit', '32Bit']\n    ];\n\n    setMounted(true);\n\n    const onGetMediaSuccess = image => {\n      if(!mounted){\n        return;\n      }\n      var tagOptions = [];\n      imageTags.forEach(tag =>{\n        tagOptions.push({\n          label: tag[1],\n          value: tag[0],\n        });\n      });\n      setOptions({\n        tags: tagOptions,\n      });\n      var currentTags = new Map();\n      if (image.tags){\n        image.tags.forEach(tag => {\n          currentTags.set(tag, true);\n        });\n      }\n      setRequest({\n        name: image.name,\n        description: image.description,\n        tags: currentTags,\n      })\n      setInitialed(true);\n    };\n\n    getMediaImage(imageID, onGetMediaSuccess, onModifyFail);\n    return () => {\n      setMounted(false);\n    }\n  }, [open, imageID, mounted, onModifyFail]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.name,\n        value: request.name,\n        onChange: handleRequestPropsChanged('name'),\n        required: true,\n        oneRow: true,\n        xs: 8,\n      },\n      {\n        type: \"textarea\",\n        label: texts.description,\n        value: request.description,\n        onChange: handleRequestPropsChanged('description'),\n        required: true,\n        oneRow: true,\n        rows: 4,\n        xs: 12,\n      },\n      {\n        type: \"checkbox\",\n        label: texts.tags,\n        onChange: handleTagsChanged,\n        value: request.tags,\n        options: options.tags,\n        required: true,\n        oneRow: true,\n        xs: 10,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n\n  }\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { syncMediaImages } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Sync Local Media Images',\n    content: 'Are you sure to synchronize local media images',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '同步本地光盘镜像',\n    content: '是否同步本地光盘镜像文件',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function SyncDialog(props){\n  const { lang, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const content = texts.content;\n  const onSyncFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onSyncSuccess = () =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess();\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    syncMediaImages(onSyncSuccess, onSyncFail);\n  }\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport CachedIcon from '@material-ui/icons/Cached';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport Chip from '@material-ui/core/Chip';\nimport Typography from '@material-ui/core/Typography';\n\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\n\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport DeleteDialog from \"views/MediaImages/DeleteDialog.js\";\nimport UploadDialog from \"views/MediaImages/UploadDialog.js\";\nimport ModifyDialog from \"views/MediaImages/ModifyDialog.js\";\nimport SyncDialog from \"views/MediaImages/SyncDialog.js\";\nimport { bytesToString } from 'utils.js';\nimport { searchMediaImages, writeLog } from \"nano_api.js\";\n\nconst i18n = {\n  'en':{\n    modify: 'Modify Info',\n    delete: 'Delete Image',\n    createTime: 'Created Time',\n    modifyTime: 'Modified Time',\n    uploadButton: \"Upload New ISO\",\n    syncButton: \"Synchronize Local Images\",\n    noResource: \"No images available\",\n  },\n  'cn':{\n    modify: '修改镜像信息',\n    delete: '删除镜像',\n    createTime: '创建时间',\n    modifyTime: '修改时间',\n    uploadButton: \"上传新光盘镜像\",\n    syncButton: \"同步本地镜像文件\",\n    noResource: \"没有光盘镜像\",\n  }\n}\n\nfunction dataToNode(data, buttons, createLabel, modifyLabel){\n  const { name, size, tags, description, create_time, modify_time, id } = data;\n  const sizeLabel = bytesToString(size);\n  const operates = buttons.map((button, key) => (\n    React.createElement(IconButton, {\n      ...button,\n      key: key,\n    })\n  ));\n  return (\n    <Card>\n      <CardHeader color=\"primary\">\n        <h4>{name}</h4>\n        <span>{id}</span>\n        <Box display=\"flex\" alignItems=\"center\">\n          <Box m={1}>{sizeLabel}</Box>\n          {\n            tags?tags.map(tag => <Box m={0} p={1} key={tag}><Chip label={tag}/></Box>):<Box/>\n          }\n        </Box>\n      </CardHeader>\n      <CardBody>\n        <Typography variant='body1' component='p' noWrap>\n          {description}\n        </Typography>\n        <p>\n          {createLabel + ': ' + create_time}\n        </p>\n        <p>\n          {modifyLabel + ': ' + modify_time}\n        </p>\n        {operates}\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default function MediaImages(props){\n    const { lang } = props;\n    const texts = i18n[lang];\n    const [ mounted, setMounted ] = React.useState(false);\n    const [ dataList, setDataList ] = React.useState(null);\n    const [ uploadDialogVisible, setUploadDialogVisible ] = React.useState(false);\n    const [ modifyDialogVisible, setModifyDialogVisible ] = React.useState(false);\n    const [ deleteDialogVisible, setDeleteDialogVisible ] = React.useState(false);\n    const [ syncDialogVisible, setSyncDialogVisible ] = React.useState(false);\n    const [ selected, setSelected ] = React.useState('');\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback(msg => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage, mounted]);\n\n    const showNotifyMessage = (msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    const reloadAllData = React.useCallback(() => {\n      if (!mounted){\n        return;\n      }\n      const onLoadFail = err =>{\n        if (!mounted){\n          return;\n        }\n        showErrorMessage(err);\n      }\n      const onLoadSuccess = payload => {\n        if (!mounted){\n          return;\n        }\n        if (!payload){\n          setDataList([]);\n        }else{\n          setDataList(payload);\n        }\n      }\n      searchMediaImages(onLoadSuccess, onLoadFail);\n    }, [showErrorMessage, mounted]);\n\n    //detail\n    const showModifyDialog = (imageID) =>{\n      setModifyDialogVisible(true);\n      setSelected(imageID);\n    }\n\n    const closeModifyDialog = () =>{\n      setModifyDialogVisible(false);\n    }\n\n    const onModifySuccess = (imageID) =>{\n      closeModifyDialog();\n      showNotifyMessage('image '+ imageID + ' modified');\n      reloadAllData();\n    };\n\n    //delete\n    const showDeleteDialog = (imageID) =>{\n      setDeleteDialogVisible(true);\n      setSelected(imageID);\n    }\n\n    const closeDeleteDialog = () =>{\n      setDeleteDialogVisible(false);\n    }\n\n    const onDeleteSuccess = (imageID) =>{\n      closeDeleteDialog();\n      showNotifyMessage('image '+ imageID + ' deleted');\n      reloadAllData();\n    };\n\n    //create\n    const showUploadDialog = () =>{\n      setUploadDialogVisible(true);\n    };\n\n    const closeUploadDialog = () =>{\n      setUploadDialogVisible(false);\n    }\n\n    const onUploadSuccess = (id) =>{\n      closeUploadDialog();\n      showNotifyMessage('new image ' + id + ' uploaded');\n      reloadAllData();\n    };\n\n    //sync\n    const showSyncDialog = () =>{\n      setSyncDialogVisible(true);\n    }\n\n    const closeSyncDialog = () =>{\n      setSyncDialogVisible(false);\n    }\n\n    const onSyncSuccess = () =>{\n      closeSyncDialog();\n      showNotifyMessage('all media images synchronized');\n      reloadAllData();\n    };\n\n    React.useEffect(() =>{\n      setMounted(true);\n      reloadAllData();\n      const updateInterval = 5 * 1000;\n      var timerID = setInterval(()=>{\n        reloadAllData();\n      }, updateInterval);\n      return () =>{\n        setMounted(false);\n        clearInterval(timerID);\n      }\n    }, [reloadAllData]);\n\n    let content;\n    if (null === dataList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === dataList.length){\n      content = <Box display=\"flex\" justifyContent=\"center\"><Info>{texts.noResource}</Info></Box>;\n    }else{\n\n      content = (\n        <GridContainer>\n        {\n          dataList.map((image, key) =>{\n            const buttons = [\n              {\n                label: texts.modify,\n                icon: SettingsIcon,\n                onClick: () => showModifyDialog(image.id),\n              },\n              {\n                label: texts.delete,\n                icon: DeleteIcon,\n                onClick: () => showDeleteDialog(image.id),\n              },\n\n            ];\n            var node = dataToNode(image, buttons, texts.createTime, texts.modifyTime);\n            return (\n              <GridItem xs={12} sm={6} md={4} key={key}>\n                {node}\n              </GridItem>\n            )\n          })\n        }\n        </GridContainer>\n      );\n    }\n\n    return (\n      <GridContainer>\n        <GridItem xs={12} sm={12} md={12}>\n          <GridContainer>\n            <GridItem xs={12} sm={6} md={4}>\n              <Box display=\"flex\">\n                <Box p={1}>\n                  <Button size=\"sm\" color=\"info\" round onClick={showUploadDialog}><PublishIcon />{texts.uploadButton}</Button>\n                </Box>\n                <Box p={1}>\n                  <Button size=\"sm\" color=\"info\" round onClick={showSyncDialog}><CachedIcon />{texts.syncButton}</Button>\n                </Box>\n              </Box>\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n          <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          {content}\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <UploadDialog\n            lang={lang}\n            open={uploadDialogVisible}\n            onSuccess={onUploadSuccess}\n            onCancel={closeUploadDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyDialog\n            lang={lang}\n            imageID={selected}\n            open={modifyDialogVisible}\n            onSuccess={onModifySuccess}\n            onCancel={closeModifyDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <DeleteDialog\n            lang={lang}\n            imageID={selected}\n            open={deleteDialogVisible}\n            onSuccess={onDeleteSuccess}\n            onCancel={closeDeleteDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <SyncDialog\n            lang={lang}\n            open={syncDialogVisible}\n            onSuccess={onSyncSuccess}\n            onCancel={closeSyncDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { deleteDiskImage } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Delete Disk Image',\n    content: 'Are you sure to delete disk image ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除磁盘镜像',\n    content: '是否删除磁盘镜像 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function DeleteDialog(props){\n  const { lang, imageID, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const content = texts.content + imageID;\n  const onDeleteFail = (msg) =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onDeleteSuccess = () =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(imageID);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    deleteDiskImage(imageID, onDeleteSuccess, onDeleteFail);\n  }\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { createDiskImage, deleteDiskImage, uploadDiskImage } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Upload New Image',\n    name: 'Image Name',\n    description: 'Description',\n    tags: 'Tags',\n    file: 'Image File',\n    choose: 'Choose File',\n    cancel: 'Cancel',\n    confirm: 'Upload',\n  },\n  'cn':{\n    title: '上传新镜像',\n    name: '镜像名称',\n    description: '描述',\n    tags: '标签',\n    file: '镜像文件',\n    choose: '浏览文件',\n    cancel: '取消',\n    confirm: '上传',\n  },\n}\n\nexport default function UploadDialog(props){\n  const defaultValues = {\n    name: '',\n    description: '',\n    tags: new Map(),\n    file: null,\n  };\n  const { lang, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ uploading, setUploading ] = React.useState(false);\n  const [ progress, setProgress ] = React.useState(0);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState({\n    tags: [],\n  });\n\n  const texts = i18n[lang];\n  const title = texts.title;\n  const clearPrompt = () =>{\n    setPrompt('');\n  }\n\n  const showPrompt = msg =>{\n    setPrompt(msg);\n  }\n\n  const onUploadFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n    setUploading(false);\n    setProgress(0);\n  }\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onUploadSuccess = imageID =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(imageID);\n  }\n\n  const onUploadProgress = progress => {\n    if(!mounted){\n      return;\n    }\n    setProgress(progress);\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    const imageName = request.name;\n    if ('' === imageName){\n      onUploadFail('must specify image name');\n      return;\n    }\n    const description = request.description;\n    if ('' === description){\n      onUploadFail('desciption required');\n      return;\n    }\n\n    if (!request.tags){\n      onUploadFail('image tags required');\n      return;\n    }\n    var tags = [];\n    request.tags.forEach((value, key) =>{\n      if (value){\n        //checked\n        tags.push(key);\n      }\n    });\n    if (0 === tags.length){\n      onUploadFail('image tags required');\n      return;\n    }\n\n    if (!request.file){\n      onUploadFail('must specify upload file');\n      return;\n    }\n\n    const onCreateSuccess = (imageID) => {\n      if(!mounted){\n        return;\n      }\n      const onDeleteSuccess = () =>{\n        onUploadFail('new image ' + imageName + ' deleted');\n      }\n      const onDeleteFail = (msg) =>{\n        onUploadFail('delete new image ' + imageName + ' fail: ' + msg);\n      }\n      const onFailAfterCreated = () =>{\n        deleteDiskImage(imageID, onDeleteSuccess, onDeleteFail);\n      }\n      setUploading(true);\n      uploadDiskImage(imageID, request.file, onUploadProgress, onUploadSuccess, onFailAfterCreated);\n    }\n\n    createDiskImage(imageName, null, description, tags, onCreateSuccess, onUploadFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleTagsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      tags: previous.tags.set(name, value),\n    }));\n  };\n\n  const handleFileChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    clearPrompt();\n\n    // only '.qcow2' file is allowed\n    var file = e.target.files[0];\n    e.preventDefault();\n    if (file && file.name) {\n      let ext = file.name.split('.').pop().toLowerCase();\n      if (ext === 'qcow2') {\n        setRequest(previous => ({\n          ...previous,\n          [name]: file,\n        }));\n        return;\n      }\n    }\n    //invalid file\n    if ('en' === lang){\n      showPrompt('invalid file, only qcow2 file is allowed');\n    }else{\n      showPrompt('无效文件，只允许支持qcow2格式');\n    }\n  };\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n    const imageTags = [\n      ['linux', 'Linux'],\n      ['windows', 'Windows'],\n      ['centos', 'Centos'],\n      ['ubuntu', 'Ubuntu'],\n      ['64bit', '64Bit'],\n      ['32bit', '32Bit']\n    ];\n\n    setMounted(true);\n    var tagOptions = [];\n    imageTags.forEach(tag =>{\n      tagOptions.push({\n        label: tag[1],\n        value: tag[0],\n      });\n    });\n    setOptions({\n      tags: tagOptions,\n    });\n    setInitialed(true);\n\n    return () => {\n      setMounted(false);\n    }\n  }, [open]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else if(uploading){\n    content = (\n      <Grid container>\n        <Grid item xs={12}>\n          <LinearProgress variant=\"determinate\" value={progress} />\n        </Grid>\n        <Grid item xs={12}>\n          <Typography align=\"center\">\n            {progress.toFixed(2) + '%'}\n          </Typography>\n        </Grid>\n      </Grid>\n    )\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.name,\n        value: request.name,\n        onChange: handleRequestPropsChanged('name'),\n        required: true,\n        oneRow: true,\n        xs: 8,\n      },\n      {\n        type: \"textarea\",\n        label: texts.description,\n        value: request.description,\n        onChange: handleRequestPropsChanged('description'),\n        required: true,\n        oneRow: true,\n        rows: 4,\n        xs: 12,\n      },\n      {\n        type: \"checkbox\",\n        label: texts.tags,\n        onChange: handleTagsChanged,\n        value: request.tags,\n        options: options.tags,\n        required: true,\n        oneRow: true,\n        xs: 10,\n      },\n      {\n        type: \"file\",\n        label: texts.file,\n        onChange: handleFileChanged('file'),\n        required: true,\n        oneRow: true,\n        xs: 12,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt} hideBackdrop\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { getDiskImage, modifyDiskImage } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Disk Image',\n    name: 'Image Name',\n    description: 'Description',\n    tags: 'Tags',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改镜像信息',\n    name: '镜像名称',\n    description: '描述',\n    tags: '标签',\n    cancel: '取消',\n    confirm: '确认',\n  },\n}\n\nexport default function ModifyDialog(props){\n  const defaultValues = {\n    name: '',\n    description: '',\n    tags: new Map(),\n  };\n  const { lang, imageID, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState({\n    tags: [],\n  });\n\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  }\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = (imageID) =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(imageID);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    const imageName = request.name;\n    if ('' === imageName){\n      onModifyFail('must specify image name');\n      return;\n    }\n    const description = request.description;\n    if ('' === description){\n      onModifyFail('desciption required');\n      return;\n    }\n\n    if (!request.tags){\n      onModifyFail('image tags required');\n      return;\n    }\n    var tags = [];\n    request.tags.forEach((value, key) =>{\n      if (value){\n        //checked\n        tags.push(key);\n      }\n    });\n    if (0 === tags.length){\n      onModifyFail('image tags required');\n      return;\n    }\n    modifyDiskImage(imageID, imageName, description, tags, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleTagsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      tags: previous.tags.set(name, value),\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n    const imageTags = [\n      ['linux', 'Linux'],\n      ['windows', 'Windows'],\n      ['centos', 'Centos'],\n      ['ubuntu', 'Ubuntu'],\n      ['64bit', '64Bit'],\n      ['32bit', '32Bit']\n    ];\n    setMounted(true);\n    const onGetDiskSuccess = image => {\n      if(!mounted){\n        return;\n      }\n      var tagOptions = [];\n      imageTags.forEach(tag =>{\n        tagOptions.push({\n          label: tag[1],\n          value: tag[0],\n        });\n      });\n      setOptions({\n        tags: tagOptions,\n      });\n      var currentTags = new Map();\n      if (image.tags){\n        image.tags.forEach(tag => {\n          currentTags.set(tag, true);\n        });\n      }\n      setRequest({\n        name: image.name,\n        description: image.description,\n        tags: currentTags,\n      })\n      setInitialed(true);\n    };\n\n    getDiskImage(imageID, onGetDiskSuccess, onModifyFail);\n    return () => {\n      setMounted(false);\n    }\n  }, [mounted, open, imageID, onModifyFail]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.name,\n        value: request.name,\n        onChange: handleRequestPropsChanged('name'),\n        required: true,\n        oneRow: true,\n        xs: 8,\n      },\n      {\n        type: \"textarea\",\n        label: texts.description,\n        value: request.description,\n        onChange: handleRequestPropsChanged('description'),\n        required: true,\n        oneRow: true,\n        rows: 4,\n        xs: 12,\n      },\n      {\n        type: \"checkbox\",\n        label: texts.tags,\n        onChange: handleTagsChanged,\n        value: request.tags,\n        options: options.tags,\n        required: true,\n        oneRow: true,\n        xs: 10,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { createDiskImage, deleteDiskImage, getDiskImage, searchInstances, getAllComputePools } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Build New Image',\n    name: 'Image Name',\n    description: 'Description',\n    tags: 'Tags',\n    pool: 'Compute Pool',\n    guest: 'Source Instance',\n    cancel: 'Cancel',\n    confirm: 'Build',\n  },\n  'cn':{\n    title: '构建新镜像',\n    name: '镜像名称',\n    description: '描述',\n    tags: '标签',\n    pool: '资源池',\n    guest: '源云主机',\n    cancel: '取消',\n    confirm: '构建',\n  },\n}\n\nexport default function BuildDialog(props){\n  const checkInterval = 1000;\n  const defaultValues = {\n    name: '',\n    description: '',\n    tags: new Map(),\n    pool: '',\n    guest: '',\n  };\n  const { lang, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ creating, setCreating ] = React.useState(false);\n  const [ progress, setProgress ] = React.useState(0);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState({\n    tags: [],\n    pools: [],\n    guests: [],\n  });\n\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onBuildFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const onFailAfterCreated = imageID => msg => {\n    deleteDiskImage(imageID);\n    onBuildFail(msg);\n  }\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n    setCreating(false);\n    setProgress(0);\n  }\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onBuildSuccess = imageID =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(imageID);\n  }\n\n  const onBuildAccept = imageName => imageID =>{\n    if(!mounted){\n      return;\n    }\n    setCreating(true);\n    setTimeout(() =>{\n      getDiskImage(imageID, onBuildProgress(imageID, imageName), onFailAfterCreated(imageID));\n    }, checkInterval);\n  }\n\n  const onBuildProgress = (imageID, imageName) => status => {\n    if(!mounted){\n      return;\n    }\n    if (status.created){\n      onBuildSuccess(imageID);\n      return;\n    }\n    setProgress(status.progress);\n    setTimeout(() =>{\n      getDiskImage(imageID, onBuildProgress(imageID, imageName), onFailAfterCreated(imageID));\n    }, checkInterval);\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    if (!request.name){\n      onBuildFail('must specify image name');\n      return;\n    }\n    if (!request.description){\n      onBuildFail('desciption required');\n      return;\n    }\n\n    if (!request.tags){\n      onBuildFail('image tags required');\n      return;\n    }\n    var tags = [];\n    request.tags.forEach((value, key) =>{\n      if (value){\n        //checked\n        tags.push(key);\n      }\n    });\n    if (0 === tags.length){\n      onBuildFail('image tags required');\n      return;\n    }\n\n    if (!request.guest){\n      onBuildFail('must specify source guest');\n      return;\n    }\n\n    const imageName = request.name;\n    createDiskImage(imageName, request.guest, request.description, tags, onBuildAccept(imageName), onBuildFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleTagsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      tags: previous.tags.set(name, value),\n    }));\n  };\n\n  const handlePoolChanged = e =>{\n    if(!mounted){\n      return;\n    }\n    var poolName = e.target.value;\n    const onQuerySuccess = dataList =>{\n      var guests = [];\n      dataList.forEach(guest =>{\n        guests.push({\n          value: guest.id,\n          label: guest.name,\n        })\n      })\n      setOptions(previous =>({\n        ...previous,\n        guests: guests,\n      }))\n      setRequest(previous =>({\n        ...previous,\n        pool: poolName,\n        guest: '',\n      }))\n    }\n    searchInstances(poolName, null, onQuerySuccess, onBuildFail);\n  };\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n    const imageTags = [\n      ['linux', 'Linux'],\n      ['windows', 'Windows'],\n      ['centos', 'Centos'],\n      ['ubuntu', 'Ubuntu'],\n      ['64bit', '64Bit'],\n      ['32bit', '32Bit']\n    ];\n\n    setMounted(true);\n    const onQueryPoolSuccess = dataList =>{\n      if(!mounted){\n        return;\n      }\n      var poolOptions = [];\n      dataList.forEach(({name}) =>{\n        poolOptions.push({\n          label: name,\n          value: name,\n        });\n      })\n      var tagOptions = [];\n      imageTags.forEach(tag =>{\n        tagOptions.push({\n          label: tag[1],\n          value: tag[0],\n        });\n      });\n      setOptions({\n          tags: tagOptions,\n          pools: poolOptions,\n          guests: [],\n        });\n      setRequest(previous =>({\n        ...previous,\n        pool: '',\n        guest: '',\n      }));\n      setInitialed(true);\n    }\n\n    getAllComputePools(onQueryPoolSuccess, onBuildFail);\n    return () => {\n      setMounted(false);\n    }\n  }, [mounted, open, onBuildFail]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else if(creating){\n    content = (\n      <Grid container>\n        <Grid item xs={12}>\n          <LinearProgress variant=\"determinate\" value={progress} />\n        </Grid>\n        <Grid item xs={12}>\n          <Typography align=\"center\">\n            {progress.toFixed(2) + '%'}\n          </Typography>\n        </Grid>\n      </Grid>\n    )\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.name,\n        value: request.name,\n        onChange: handleRequestPropsChanged('name'),\n        required: true,\n        oneRow: true,\n        xs: 8,\n      },\n      {\n        type: \"textarea\",\n        label: texts.description,\n        value: request.description,\n        onChange: handleRequestPropsChanged('description'),\n        required: true,\n        oneRow: true,\n        rows: 4,\n        xs: 12,\n      },\n      {\n        type: \"checkbox\",\n        label: texts.tags,\n        onChange: handleTagsChanged,\n        value: request.tags,\n        options: options.tags,\n        required: true,\n        oneRow: true,\n        xs: 10,\n      },\n      {\n        type: \"select\",\n        label: texts.pool,\n        onChange: handlePoolChanged,\n        value: request.pool,\n        options: options.pools,\n        required: true,\n        oneRow: true,\n        xs: 10,\n        sm: 8,\n        md: 6,\n      },\n      {\n        type: \"select\",\n        label: texts.guest,\n        onChange: handleRequestPropsChanged('guest'),\n        value: request.guest,\n        options: options.guests,\n        required: true,\n        oneRow: true,\n        xs: 10,\n        sm: 8,\n        md: 6,\n      },\n    ];\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt} hideBackdrop\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { syncDiskImages } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Sync Local Disk Images',\n    content: 'Are you sure to synchronize local disk images',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '同步本地磁盘镜像',\n    content: '是否同步本地磁盘镜像文件',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function SyncDialog(props){\n  const { lang, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const content = texts.content;\n  const onSyncFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onSyncSuccess = () =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess();\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    syncDiskImages(onSyncSuccess, onSyncFail);\n  }\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport BuildIcon from '@material-ui/icons/Build';\nimport CachedIcon from '@material-ui/icons/Cached';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport Chip from '@material-ui/core/Chip';\nimport Typography from '@material-ui/core/Typography';\n\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport DeleteDialog from \"views/DiskImages/DeleteDialog.js\";\nimport UploadDialog from \"views/DiskImages/UploadDialog.js\";\nimport ModifyDialog from \"views/DiskImages/ModifyDialog.js\";\nimport BuildDialog from \"views/DiskImages/BuildDialog.js\";\nimport SyncDialog from \"views/DiskImages/SyncDialog.js\";\nimport { bytesToString } from 'utils.js';\nimport { searchDiskImages,getDiskImageURL, writeLog } from \"nano_api.js\";\n// import { getDiskImageURL } from \"nano_api.js\";\n\nconst i18n = {\n  'en':{\n    modify: 'Modify Info',\n    delete: 'Delete Image',\n    download: \"Download Image\",\n    createTime: 'Created Time',\n    modifyTime: 'Modified Time',\n    uploadButton: \"Upload New Disk Image\",\n    buildButton: \"Build New Disk Image\",\n    syncButton: \"Synchronize Local Images\",\n    noResource: \"No images available\",\n  },\n  'cn':{\n    modify: '修改镜像信息',\n    delete: '删除镜像',\n    download: \"下载镜像\",\n    createTime: '创建时间',\n    modifyTime: '修改时间',\n    uploadButton: \"上传新磁盘镜像\",\n    buildButton: \"构建新磁盘镜像\",\n    syncButton: \"同步本地镜像文件\",\n    noResource: \"没有磁盘镜像\",\n  }\n}\n\nfunction dataToNode(data, buttons, createLabel, modifyLabel){\n  const { name, size, tags, description, create_time, modify_time, id } = data;\n  const sizeLabel = bytesToString(size);\n  const operates = buttons.map((button, key) => (\n    React.createElement(IconButton, {\n      ...button,\n      key: key,\n    })\n  ));\n  return (\n    <Card>\n      <CardHeader color=\"primary\">\n        <h4>{name}</h4>\n        <span>{id}</span>\n        <Box display=\"flex\" alignItems=\"center\">\n          <Box m={1}>{sizeLabel}</Box>\n          {\n            tags?tags.map(tag => <Box m={0} p={1} key={tag}><Chip label={tag}/></Box>):<Box/>\n          }\n        </Box>\n      </CardHeader>\n      <CardBody>\n        <Typography variant='body1' component='p' noWrap>\n          {description}\n        </Typography>\n        <p>\n          {createLabel + ': ' + create_time}\n        </p>\n        <p>\n          {modifyLabel + ': ' + modify_time}\n        </p>\n        {operates}\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default function DiskImages(props){\n    const { lang } = props;\n    const texts = i18n[lang];\n    const [ mounted, setMounted ] = React.useState(false);\n    const [ dataList, setDataList ] = React.useState(null);\n    const [ uploadDialogVisible, setUploadDialogVisible ] = React.useState(false);\n    const [ buildDialogVisible, setBuildDialogVisible ] = React.useState(false);\n    const [ modifyDialogVisible, setModifyDialogVisible ] = React.useState(false);\n    const [ deleteDialogVisible, setDeleteDialogVisible ] = React.useState(false);\n    const [ syncDialogVisible, setSyncDialogVisible ] = React.useState(false);\n    const [ selected, setSelected ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage, mounted]);\n\n    const showNotifyMessage = (msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    const reloadAllData = React.useCallback(() => {\n      if (!mounted){\n        return;\n      }\n      const onLoadFail = err =>{\n        if (!mounted){\n          return;\n        }\n        showErrorMessage(err);\n      }\n      const onLoadSuccess = payload => {\n        if (!mounted){\n          return;\n        }\n        if (!payload){\n          setDataList([]);\n        }else{\n          setDataList(payload);\n        }\n      }\n      searchDiskImages(onLoadSuccess, onLoadFail);\n    }, [showErrorMessage, mounted]);\n\n    //detail\n    const showModifyDialog = (imageID) =>{\n      setModifyDialogVisible(true);\n      setSelected(imageID);\n    }\n\n    const closeModifyDialog = () =>{\n      setModifyDialogVisible(false);\n    }\n\n    const onModifySuccess = (imageID) =>{\n      closeModifyDialog();\n      showNotifyMessage('image '+ imageID + ' modified');\n      reloadAllData();\n    };\n\n    //delete\n    const showDeleteDialog = (imageID) =>{\n      setDeleteDialogVisible(true);\n      setSelected(imageID);\n    }\n\n    const closeDeleteDialog = () =>{\n      setDeleteDialogVisible(false);\n    }\n\n    const onDeleteSuccess = (imageID) =>{\n      closeDeleteDialog();\n      showNotifyMessage('image '+ imageID + ' deleted');\n      reloadAllData();\n    };\n\n    //upload\n    const showUploadDialog = () =>{\n      setUploadDialogVisible(true);\n    };\n\n    const closeUploadDialog = () =>{\n      setUploadDialogVisible(false);\n    }\n\n    const onUploadSuccess = (id) =>{\n      closeUploadDialog();\n      showNotifyMessage('new image ' + id + ' uploaded');\n      reloadAllData();\n    };\n\n    //build\n    const showBuildDialog = () =>{\n      setBuildDialogVisible(true);\n    };\n\n    const closeBuildDialog = () =>{\n      setBuildDialogVisible(false);\n    }\n\n    const onBuildSuccess = (id) =>{\n      closeBuildDialog();\n      showNotifyMessage('new image ' + id + ' built');\n      reloadAllData();\n    };\n\n    //sync\n    const showSyncDialog = () =>{\n      setSyncDialogVisible(true);\n    }\n\n    const closeSyncDialog = () =>{\n      setSyncDialogVisible(false);\n    }\n\n    const onSyncSuccess = () =>{\n      closeSyncDialog();\n      showNotifyMessage('all disk images synchronized');\n      reloadAllData();\n    };\n\n    React.useEffect(() =>{\n      setMounted(true);\n      reloadAllData();\n      const updateInterval = 5 * 1000;\n      var timerID = setInterval(()=>{\n        reloadAllData();\n      }, updateInterval);\n      return () =>{\n        setMounted(false);\n        clearInterval(timerID);\n      }\n    }, [reloadAllData]);\n\n    //begin rendering\n    let content;\n    if (null === dataList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === dataList.length){\n      content = <Box display=\"flex\" justifyContent=\"center\"><Info>{texts.noResource}</Info></Box>;\n    }else{\n      content = (\n        <GridContainer>\n        {\n          dataList.map((image, key) =>{\n            const buttons = [\n              {\n                label: texts.modify,\n                icon: SettingsIcon,\n                onClick: () => showModifyDialog(image.id),\n              },\n              {\n                label: texts.download,\n                icon: GetAppIcon,\n                onClick: () =>{\n                  var downloadURL = getDiskImageURL(image.id);\n                  window.location.href = downloadURL;\n                },\n              },\n              {\n                label: texts.delete,\n                icon: DeleteIcon,\n                onClick: () => showDeleteDialog(image.id),\n              },\n\n            ];\n            var node = dataToNode(image, buttons, texts.createTime, texts.modifyTime);\n            return (\n              <GridItem xs={12} sm={6} md={4} key={key}>\n                {node}\n              </GridItem>\n            )\n          })\n        }\n        </GridContainer>\n      );\n    }\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <GridContainer>\n            <GridItem xs={12} sm={6} md={4}>\n              <Box display=\"flex\">\n                <Box p={1}>\n                  <Button size=\"sm\" color=\"info\" round onClick={showUploadDialog}><PublishIcon />{texts.uploadButton}</Button>\n                </Box>\n                <Box p={1}>\n                  <Button size=\"sm\" color=\"info\" round onClick={showBuildDialog}><BuildIcon />{texts.buildButton}</Button>\n                </Box>\n                <Box p={1}>\n                  <Button size=\"sm\" color=\"info\" round onClick={showSyncDialog}><CachedIcon />{texts.syncButton}</Button>\n                </Box>\n              </Box>\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n            <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          {content}\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <UploadDialog\n            lang={lang}\n            open={uploadDialogVisible}\n            onSuccess={onUploadSuccess}\n            onCancel={closeUploadDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <BuildDialog\n            lang={lang}\n            open={buildDialogVisible}\n            onSuccess={onBuildSuccess}\n            onCancel={closeBuildDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyDialog\n            lang={lang}\n            imageID={selected}\n            open={modifyDialogVisible}\n            onSuccess={onModifySuccess}\n            onCancel={closeModifyDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <DeleteDialog\n            lang={lang}\n            imageID={selected}\n            open={deleteDialogVisible}\n            onSuccess={onDeleteSuccess}\n            onCancel={closeDeleteDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <SyncDialog\n            lang={lang}\n            open={syncDialogVisible}\n            onSuccess={onSyncSuccess}\n            onCancel={closeSyncDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { deleteSystemTemplate } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Delete System Template',\n    content: 'Are you sure to delete template ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除系统模板',\n    content: '是否删除系统模板 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function DeleteDialog(props){\n  const { lang, templateID, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onDeleteFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onDeleteSuccess = id =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(templateID);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    deleteSystemTemplate(templateID, onDeleteSuccess, onDeleteFail);\n  }\n\n  const content = texts.content + templateID;\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { createSystemTemplate } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Create System Template',\n    name: \"Name\",\n    admin: \"Admin Name\",\n    operatingSystem: \"Operating System\",\n    disk: \"Disk Driver\",\n    network: \"Network Interface Model\",\n    display: \"Display Driver\",\n    control: \"Remote Control Protocol\",\n    usb: \"USB Model\",\n    tablet: \"Tablet Mode\",\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '创建系统模板',\n    name: \"模板名\",\n    admin: \"管理员名称\",\n    operatingSystem: \"操作系统\",\n    disk: \"磁盘驱动\",\n    network: \"网卡型号\",\n    display: \"显卡类型\",\n    control: \"远程管理协议\",\n    usb: \"USB接口\",\n    tablet: \"触摸屏接口\",\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nconst osOptions = [\n  \"linux\",\n  \"windows\",\n];\n\nconst diskOptions = [\n  \"scsi\",\n  \"sata\",\n  \"ide\",\n];\n\nconst networkOptions = [\n  \"virtio\",\n  \"e1000\",\n  \"rtl8139\",\n];\n\nconst displayOptions = [\n  \"vga\",\n  \"cirrus\",\n];\n\nconst controlOptions = [\n  \"vnc\",\n  \"spice\",\n];\n\nconst usbOptions = [\n  \"\",\n  \"nec-xhci\",\n];\n\nconst tabletOptions = [\n  \"\",\n  \"usb\",\n];\n\nexport default function CreateDialog(props){\n  const defaultValues = {\n    name: \"\",\n    admin: \"\",\n    operating_system: \"\",\n    disk: \"\",\n    network: \"\",\n    display: \"\",\n    control: \"\",\n    usb: \"\",\n    tablet: \"\",\n  };\n  const { lang, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onCreateFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onCreateSuccess = poolName =>{\n    setOperatable(true);\n    resetDialog();\n    onSuccess(poolName);\n  }\n\n  const handleConfirm = () =>{\n    if(!request.name){\n      onCreateFail('must specify template name');\n      return;\n    }\n    if(!request.admin){\n      onCreateFail('must specify admin name');\n      return;\n    }\n\n    setPrompt('');\n    setOperatable(false);\n    const { name, admin, operating_system, disk, network, display, control,\n      usb, tablet } = request;\n\n    createSystemTemplate(name, admin, operating_system, disk, network, display, control,\n      usb, tablet, onCreateSuccess, onCreateFail);\n  }\n\n  const onPropertyChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const listToOptions = list => {\n    return list.map(value => {\n      return {\n        value: value,\n        label: value? value: \"none\",\n      };\n    })\n  }\n\n  //begin render\n  const inputs = [\n    {\n      type: \"text\",\n      label: texts.name,\n      onChange: onPropertyChanged('name'),\n      value: request.name,\n      required: true,\n      oneRow: true,\n      xs: 10,\n    },\n    {\n      type: \"text\",\n      label: texts.admin,\n      onChange: onPropertyChanged('admin'),\n      value: request.admin,\n      required: true,\n      oneRow: true,\n      xs: 8,\n      sm: 6,\n    },\n    {\n      type: \"select\",\n      label: texts.operatingSystem,\n      onChange: onPropertyChanged('operating_system'),\n      value: request.operating_system,\n      required: true,\n      oneRow: true,\n      options: listToOptions(osOptions),\n      xs: 12,\n      sm: 5,\n    },\n    {\n      type: \"select\",\n      label: texts.disk,\n      onChange: onPropertyChanged('disk'),\n      value: request.disk,\n      required: true,\n      oneRow: true,\n      options: listToOptions(diskOptions),\n      xs: 6,\n      sm: 4,\n    },\n    {\n      type: \"select\",\n      label: texts.network,\n      onChange: onPropertyChanged('network'),\n      value: request.network,\n      required: true,\n      oneRow: true,\n      options: listToOptions(networkOptions),\n      xs: 12,\n      sm: 5,\n    },\n    {\n      type: \"select\",\n      label: texts.display,\n      onChange: onPropertyChanged('display'),\n      value: request.display,\n      required: true,\n      oneRow: true,\n      options: listToOptions(displayOptions),\n      xs: 6,\n      sm: 4,\n    },\n    {\n      type: \"select\",\n      label: texts.control,\n      onChange: onPropertyChanged('control'),\n      value: request.control,\n      required: true,\n      oneRow: true,\n      options: listToOptions(controlOptions),\n      xs: 6,\n      sm: 4,\n    },\n    {\n      type: \"select\",\n      label: texts.usb,\n      onChange: onPropertyChanged('usb'),\n      value: request.usb,\n      required: true,\n      oneRow: true,\n      options: listToOptions(usbOptions),\n      xs: 8,\n      sm: 4,\n    },\n    {\n      type: \"select\",\n      label: texts.tablet,\n      onChange: onPropertyChanged('tablet'),\n      value: request.tablet,\n      required: true,\n      oneRow: true,\n      options: listToOptions(tabletOptions),\n      xs: 8,\n      sm: 4,\n    },\n  ];\n\n  const content = <InputList inputs={inputs}/>\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { modifySystemTemplate, getSystemTemplate } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify System Template',\n    name: \"Name\",\n    admin: \"Admin Name\",\n    operatingSystem: \"Operating System\",\n    disk: \"Disk Driver\",\n    network: \"Network Interface Model\",\n    display: \"Display Driver\",\n    control: \"Remote Control Protocol\",\n    usb: \"USB Model\",\n    tablet: \"Tablet Mode\",\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改系统模板',\n    name: \"模板名\",\n    admin: \"管理员名称\",\n    operatingSystem: \"操作系统\",\n    disk: \"磁盘驱动\",\n    network: \"网卡型号\",\n    display: \"显卡类型\",\n    control: \"远程管理协议\",\n    usb: \"USB接口\",\n    tablet: \"触摸屏接口\",\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\n\nconst osOptions = [\n  \"linux\",\n  \"windows\",\n];\n\nconst diskOptions = [\n  \"scsi\",\n  \"sata\",\n  \"ide\",\n];\n\nconst networkOptions = [\n  \"virtio\",\n  \"e1000\",\n  \"rtl8139\",\n];\n\nconst displayOptions = [\n  \"vga\",\n  \"cirrus\",\n];\n\nconst controlOptions = [\n  \"vnc\",\n  \"spice\",\n];\n\nconst usbOptions = [\n  \"\",\n  \"nec-xhci\",\n];\n\nconst tabletOptions = [\n  \"\",\n  \"usb\",\n];\n\nexport default function ModifyDialog(props){\n  const defaultValues = {\n    name: \"\",\n    admin: \"\",\n    operating_system: \"\",\n    disk: \"\",\n    network: \"\",\n    display: \"\",\n    control: \"\",\n    usb: \"\",\n    tablet: \"\",\n  };\n  const { lang, templateID, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = poolName =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(poolName);\n  }\n\n  const handleConfirm = () =>{\n    if(!request.name){\n      onModifyFail('must specify template name');\n      return;\n    }\n    if(!request.admin){\n      onModifyFail('must specify admin name');\n      return;\n    }\n\n    setPrompt('');\n    setOperatable(false);\n    const { name, admin, operating_system, disk, network, display, control,\n      usb, tablet } = request;\n\n    modifySystemTemplate(templateID, name, admin, operating_system, disk, network, display, control,\n      usb, tablet, onModifySuccess, onModifyFail);\n  }\n\n  const onPropertyChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const listToOptions = list => {\n    return list.map(value => {\n      return {\n        value: value,\n        label: value? value: \"none\",\n      };\n    })\n  }\n\n  React.useEffect(()=>{\n    if (!templateID || !open ){\n      return;\n    }\n\n    setMounted(true);\n    const onGetPayloadSuccess = payload =>{\n      if(!mounted){\n        return;\n      }\n      setRequest(payload)\n      setInitialed(true);\n    };\n\n    getSystemTemplate(templateID, onGetPayloadSuccess, onModifyFail);\n    return () => {\n      setMounted(false);\n    }\n  }, [mounted, open, templateID, onModifyFail]);\n\n  //begin render\n\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.name,\n        onChange: onPropertyChanged('name'),\n        value: request.name,\n        required: true,\n        oneRow: true,\n        xs: 10,\n      },\n      {\n        type: \"text\",\n        label: texts.admin,\n        onChange: onPropertyChanged('admin'),\n        value: request.admin,\n        required: true,\n        oneRow: true,\n        xs: 8,\n        sm: 6,\n      },\n      {\n        type: \"select\",\n        label: texts.operatingSystem,\n        onChange: onPropertyChanged('operating_system'),\n        value: request.operating_system,\n        required: true,\n        oneRow: true,\n        options: listToOptions(osOptions),\n        xs: 12,\n        sm: 5,\n      },\n      {\n        type: \"select\",\n        label: texts.disk,\n        onChange: onPropertyChanged('disk'),\n        value: request.disk,\n        required: true,\n        oneRow: true,\n        options: listToOptions(diskOptions),\n        xs: 6,\n        sm: 4,\n      },\n      {\n        type: \"select\",\n        label: texts.network,\n        onChange: onPropertyChanged('network'),\n        value: request.network,\n        required: true,\n        oneRow: true,\n        options: listToOptions(networkOptions),\n        xs: 12,\n        sm: 5,\n      },\n      {\n        type: \"select\",\n        label: texts.display,\n        onChange: onPropertyChanged('display'),\n        value: request.display,\n        required: true,\n        oneRow: true,\n        options: listToOptions(displayOptions),\n        xs: 6,\n        sm: 4,\n      },\n      {\n        type: \"select\",\n        label: texts.control,\n        onChange: onPropertyChanged('control'),\n        value: request.control,\n        required: true,\n        oneRow: true,\n        options: listToOptions(controlOptions),\n        xs: 6,\n        sm: 4,\n      },\n      {\n        type: \"select\",\n        label: texts.usb,\n        onChange: onPropertyChanged('usb'),\n        value: request.usb,\n        required: true,\n        oneRow: true,\n        options: listToOptions(usbOptions),\n        xs: 8,\n        sm: 4,\n      },\n      {\n        type: \"select\",\n        label: texts.tablet,\n        onChange: onPropertyChanged('tablet'),\n        value: request.tablet,\n        required: true,\n        oneRow: true,\n        options: listToOptions(tabletOptions),\n        xs: 8,\n        sm: 4,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n      title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport Divider from '@material-ui/core/Divider';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport Box from '@material-ui/core/Box';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Table from \"components/Table/ObjectTable.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport DeleteDialog from \"views/SystemTemplates/DeleteDialog.js\";\nimport CreateDialog from \"views/SystemTemplates/CreateDialog.js\";\nimport ModifyDialog from \"views/SystemTemplates/ModifyDialog.js\";\nimport { querySystemTemplates, writeLog } from \"nano_api.js\";\n\nconst styles = {\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    createButton: \"Create System Template\",\n    tableTitle: \"System Templates\",\n    name: \"Name\",\n    os: \"Operating System\",\n    createdTime: \"Created Time\",\n    modifiedTime: \"Last Modified\",\n    operates: \"Operates\",\n    noResource: \"No system templates available\",\n    detail: \"Detail\",\n    delete: 'Delete',\n  },\n  'cn':{\n    createButton: \"创建新模板\",\n    tableTitle: \"系统模板\",\n    name: \"名称\",\n    os: \"操作系统\",\n    createdTime: \"创建时间\",\n    modifiedTime: \"最后修改\",\n    operates: \"操作\",\n    noResource: \"没有系统模板\",\n    detail: \"详情\",\n    delete: '删除',\n  }\n}\n\nfunction dataToNodes(data, buttons){\n  const operates = buttons.map((button, key) => (\n    <IconButton label={button.label} icon={button.icon} onClick={button.onClick} key={key}/>\n  ))\n  const { id, name, operating_system, created_time, modified_time } = data;\n  return [ id, name, operating_system, created_time, modified_time, operates];\n}\n\nexport default function SystemTemplates(props){\n    const { lang } = props;\n    const texts = i18n[lang];\n    const classes = useStyles();\n    const [ mounted, setMounted ] = React.useState(false);\n    const [ dataList, setDataList ] = React.useState(null);\n    //for dialog\n    const [ createDialogVisible, setCreateDialogVisible ] = React.useState(false);\n    const [ modifyDialogVisible, setModifyDialogVisible ] = React.useState(false);\n    const [ deleteDialogVisible, setDeleteDialogVisible ] = React.useState(false);\n    const [ selected, setSelected ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage, mounted]);\n\n    const reloadAllData = React.useCallback(() => {\n      if (!mounted){\n        return;\n      }\n      querySystemTemplates(setDataList, showErrorMessage);\n    }, [showErrorMessage, mounted]);\n\n    const showNotifyMessage = msg => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    //modify\n    const showModifyDialog = (poolName) =>{\n      setModifyDialogVisible(true);\n      setSelected(poolName);\n    }\n\n    const closeModifyDialog = () =>{\n      setModifyDialogVisible(false);\n    }\n\n    const onModifySuccess = templateID =>{\n      closeModifyDialog();\n      showNotifyMessage('template ' + templateID + ' modified');\n      reloadAllData();\n    };\n\n    //delete\n    const showDeleteDialog = templateID =>{\n      setDeleteDialogVisible(true);\n      setSelected(templateID);\n    }\n\n    const closeDeleteDialog = () =>{\n      setDeleteDialogVisible(false);\n    }\n\n    const onDeleteSuccess = templateID =>{\n      closeDeleteDialog();\n      showNotifyMessage('template ' + templateID + ' deleted');\n      reloadAllData();\n    };\n\n    //create\n    const showCreateDialog = () =>{\n      setCreateDialogVisible(true);\n    };\n\n    const closeCreateDialog = () =>{\n      setCreateDialogVisible(false);\n    }\n\n    const onCreateSuccess = templateID =>{\n      closeCreateDialog();\n      showNotifyMessage('new template ' + templateID + ' created');\n      reloadAllData();\n    };\n\n    React.useEffect(() =>{\n      setMounted(true);\n      reloadAllData();\n      return () =>{\n        setMounted(false);\n      }\n    }, [reloadAllData]);\n\n    //begin rendering\n    let content;\n    if (null === dataList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === dataList.length){\n      content = <Box display=\"flex\" justifyContent=\"center\"><Info>{texts.noResource}</Info></Box>;\n    }else{\n      var rows = [];\n      dataList.forEach( data => {\n        const buttons = [\n          {\n            onClick: e => showModifyDialog(data.id),\n            icon: SettingsIcon,\n            label: texts.detail,\n          },\n          {\n            onClick: e => showDeleteDialog(data.id),\n            icon: DeleteIcon,\n            label: texts.delete,\n          },\n        ];\n        rows.push(dataToNodes(data, buttons));\n      });\n      content = (\n        <Table\n          color=\"primary\"\n          headers={[\"ID\", texts.name, texts.os, texts.createdTime, texts.modifiedTime, texts.operates]}\n          rows={rows}/>\n      );\n\n    }\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n          <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <GridContainer>\n            <GridItem xs={3} sm={3} md={3}>\n              <Button size=\"sm\" color=\"info\" round onClick={showCreateDialog}><AddIcon />{texts.createButton}</Button>\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              <h4 className={classes.cardTitleWhite}>{texts.tableTitle}</h4>\n            </CardHeader>\n            <CardBody>\n              {content}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <Snackbar\n          place=\"tr\"\n          color={notifyColor}\n          message={notifyMessage}\n          open={\"\" !== notifyMessage}\n          closeNotification={closeNotify}\n          close\n        />\n        <CreateDialog\n          lang={lang}\n          open={createDialogVisible}\n          onSuccess={onCreateSuccess}\n          onCancel={closeCreateDialog}\n          />\n        <ModifyDialog\n          lang={lang}\n          open={modifyDialogVisible}\n          templateID={selected}\n          onSuccess={onModifySuccess}\n          onCancel={closeModifyDialog}\n          />\n        <DeleteDialog\n          lang={lang}\n          open={deleteDialogVisible}\n          templateID={selected}\n          onSuccess={onDeleteSuccess}\n          onCancel={closeDeleteDialog}\n          />\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\n// core components\nimport styles from \"assets/jss/material-dashboard-react/components/tableStyle.js\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function OperableTable(props){\n  const classes = useStyles();\n  const { color, headers, rows } = props;\n  return (\n    <div className={classes.tableResponsive}>\n      <Table className={classes.table}>\n        <TableHead className={classes[color + \"TableHeader\"]}>\n          <TableRow className={classes.tableHeadRow}>\n            {headers.map((prop, key) => {\n              return (\n                <TableCell\n                  className={classes.tableCell + \" \" + classes.tableHeadCell}\n                  key={key}\n                >\n                  {prop}\n                </TableCell>\n              );\n            })}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {rows}\n        </TableBody>\n      </Table>\n    </div>\n  )\n}\n\nOperableTable.defaultProps = {\n  color: \"gray\"\n};\n\nOperableTable.propTypes = {\n  color: PropTypes.oneOf([\n    \"warning\",\n    \"primary\",\n    \"danger\",\n    \"success\",\n    \"info\",\n    \"rose\",\n    \"gray\"\n  ]),\n  headers: PropTypes.arrayOf(PropTypes.node),\n  rows: PropTypes.arrayOf(PropTypes.object),\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Box from '@material-ui/core/Box';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport StopIcon from '@material-ui/icons/Stop';\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\nimport CameraAltIcon from '@material-ui/icons/CameraAlt';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\nimport BackupIcon from '@material-ui/icons/Backup';\nimport SecurityIcon from '@material-ui/icons/Security';\n\nimport DesktopWindowsIcon from '@material-ui/icons/DesktopWindows';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\nimport PowerIcon from '@material-ui/icons/Power';\nimport RotateRightIcon from '@material-ui/icons/RotateRight';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport AllInclusiveIcon from '@material-ui/icons/AllInclusive';\nimport AlbumIcon from '@material-ui/icons/Album';\n\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport LocalShippingRoundedIcon from '@material-ui/icons/LocalShippingRounded';\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport tableStyles from \"assets/jss/material-dashboard-react/components/tableStyle.js\";\nimport fontStyles from \"assets/jss/material-dashboard-react/components/typographyStyle.js\";\nimport { startInstance, stopInstance, forceStopInstance,\n  restartInstance, resetInstance, ejectMedia } from \"nano_api\";\n\nconst i18n = {\n  'en':{\n    running: 'Running',\n    stopped: 'Stopped',\n    start: 'Start Instance',\n    startWithMedia: 'Start Instance With Media',\n    snapshot: 'Snapshot',\n    createImage: 'Create Disk Image',\n    resetSystem: 'Reset System',\n    delete: 'Delete Instance',\n    migrate: 'Migrate Instance',\n    monitor: 'Monitor Resource Usage',\n    detail: 'Instance Detail',\n    security: 'Security Policies',\n    remoteControl: 'Remote Control',\n    stop: 'Stop Instance',\n    forceStop: 'Force Stop Instance',\n    reboot: 'Reboot Instance',\n    reset: 'Reset Instance',\n    insertMedia: 'Insert Media',\n    ejectMedia: 'Eject Media',\n    autoStartup: 'Auto Startup',\n    mediaAttached: 'Media Attached',\n  },\n  'cn':{\n    running: '运行中',\n    stopped: '已停止',\n    start: '启动云主机',\n    startWithMedia: '从光盘镜像启动云主机',\n    snapshot: '快照',\n    createImage: '创建磁盘镜像',\n    resetSystem: '重置系统',\n    delete: '删除云主机',\n    migrate: '迁移云主机',\n    monitor: '监控资源用量',\n    detail: '实例详情',\n    security: '安全策略',\n    remoteControl: '远程监控',\n    stop: '停止云主机',\n    forceStop: '强制终止云主机',\n    reboot: '重启云主机',\n    reset: '强制重启云主机',\n    insertMedia: '插入光盘镜像',\n    ejectMedia: '弹出光盘镜像',\n    autoStartup: '开机启动',\n    mediaAttached: '媒体已加载',\n  },\n};\n\nexport default function InstanceRow(props){\n  const tableClasses = makeStyles(tableStyles)();\n  const fontClasses = makeStyles(fontStyles)();\n  const { lang, instance, onNotify, onError, onDelete,\n    onStatusChange, onMediaStart, onInsertMedia, onResetSystem,\n    onBuildImage, onMigrateInstance,\n    checked, checkable, onCheckStatusChanged} = props;\n  const texts = i18n[lang];\n  const onStartInstance = (id) =>{\n    const onSuccess = (id) =>{\n      onNotify('instance ' + id + ' started');\n      onStatusChange();\n    }\n    const onFail = (msg) =>{\n      onError('start instance ' + id + ' fail: ' + msg);\n    }\n    startInstance(id, onSuccess, onFail);\n  }\n\n  const onStopInstance = (id) =>{\n    const onSuccess = (id) =>{\n      onNotify('instance ' + id + ' stopped');\n      onStatusChange();\n    }\n    const onFail = (msg) =>{\n      onError('stop instance ' + id + ' fail: ' + msg);\n    }\n    stopInstance(id, onSuccess, onFail);\n  }\n\n  const onForceStopInstance = (id) =>{\n    const onSuccess = (id) =>{\n      onNotify('instance ' + id + ' force stopped');\n      onStatusChange();\n    }\n    const onFail = (msg) =>{\n      onError('force stop instance ' + id + ' fail: ' + msg);\n    }\n    forceStopInstance(id, onSuccess, onFail);\n  }\n\n  const onRebootInstance = (id) =>{\n    const onSuccess = (id) =>{\n      onNotify('instance ' + id + ' reboot');\n      onStatusChange();\n    }\n    const onFail = (msg) =>{\n      onError('reboot instance ' + id + ' fail: ' + msg);\n    }\n    restartInstance(id, onSuccess, onFail);\n  }\n\n  const onResetInstance = (id) =>{\n    const onSuccess = (id) =>{\n      onNotify('instance ' + id + ' reset');\n      onStatusChange();\n    }\n    const onFail = (msg) =>{\n      onError('reset instance ' + id + ' fail: ' + msg);\n    }\n   resetInstance(id, onSuccess, onFail);\n  }\n\n  const onEjectMedia = (id) =>{\n    const onSuccess = (id) =>{\n      onNotify('media ejected from instance ' + id);\n      onStatusChange();\n    }\n    const onFail = (msg) =>{\n      onError('eject media from instance ' + id + ' fail: ' + msg);\n    }\n   ejectMedia(id, onSuccess, onFail);\n  }\n\n  const handleMigrateInstance = (id) => {\n    onMigrateInstance(id, instance.pool, instance.cell);\n  }\n\n  const handleCheckChanged = e => {\n    const isChecked = e.target.checked;\n    onCheckStatusChanged(isChecked, instance.id);\n  }\n\n  const startOperator = {\n    tips: texts.start,\n    icon: PlayArrowIcon,\n    handler: onStartInstance,\n  };\n  const startWithMediaOperator = {\n    tips: texts.startWithMedia,\n    icon: PlayCircleOutlineIcon,\n    handler: onMediaStart,\n  };\n  const snapshotOperator = {\n    tips: texts.snapshot,\n    icon: CameraAltIcon,\n    href: '/admin/instances/snapshots/' + instance.id,\n  };\n  const createImageOperator = {\n    tips: texts.createImage,\n    icon: BackupIcon,\n    handler: onBuildImage,\n  };\n  const resetSystemOperator = {\n    tips: texts.resetSystem,\n    icon: ReplayIcon,\n    handler: onResetSystem,\n  };\n\n  const deleteOperator = {\n    tips: texts.delete,\n    icon: DeleteIcon,\n    handler: onDelete,\n  };\n  const migrateOperator = {\n    tips: texts.migrate,\n    icon: LocalShippingRoundedIcon,\n    handler: handleMigrateInstance,\n  };\n\n  const monitorOperator = {\n    tips: texts.monitor,\n    icon: ShowChartIcon,\n    href: '/admin/instances/status/' + instance.id,\n    target: '_blank',\n  };\n\n  const detailOperator = {\n    tips: texts.detail,\n    icon: SettingsIcon,\n    href: '/admin/instances/details/' + instance.id,\n    target: '_blank',\n  };\n  const securityOperator = {\n    tips: texts.security,\n    icon: SecurityIcon,\n    href: '/admin/instances/policies/' + instance.id,\n  };\n\n\n  //for running instance\n  const controllOperator = {\n    tips: texts.remoteControl,\n    icon: DesktopWindowsIcon,\n    href: '/monitor/' + instance.id,\n    target: '_blank',\n  };\n  const stopOperator = {\n    tips: texts.stop,\n    icon: PowerSettingsNewIcon,\n    handler: onStopInstance,\n  };\n  const forceStopOperator = {\n    tips: texts.forceStop,\n    icon: PowerIcon,\n    handler: onForceStopInstance,\n  };\n  const rebootOperator = {\n    tips: texts.reboot,\n    icon: RotateRightIcon,\n    handler: onRebootInstance,\n  };\n  const resetOperator = {\n    tips: texts.reset,\n    icon: RefreshIcon,\n    handler: onResetInstance,\n  };\n  const insertMediaOperator = {\n    tips: texts.insertMedia,\n    icon: ArrowDropDownIcon,\n    handler: onInsertMedia,\n  };\n  const ejectMediaOperator = {\n    tips: texts.ejectMedia,\n    icon: ArrowDropUpIcon,\n    handler: onEjectMedia,\n  };\n\n  let statusIcon;\n  var operators = [];\n  if (instance.running){\n    const runningIcon = (\n      <Tooltip\n        title={texts.running}\n        placement=\"top\"\n        key={texts.running}\n        >\n        <PlayArrowIcon className={fontClasses.successText}/>\n      </Tooltip>\n    );\n    statusIcon = [runningIcon];\n    operators = [ controllOperator, stopOperator, forceStopOperator,\n      rebootOperator, resetOperator];\n    if (instance.auto_start){\n      statusIcon.push((\n        <Tooltip\n          title={texts.autoStartup}\n          placement=\"top\"\n          key={texts.autoStartup}\n          >\n          <AllInclusiveIcon className={fontClasses.infoText}/>\n        </Tooltip>\n      ));\n    }\n    if (instance.media_attached){\n      statusIcon.push((\n        <Tooltip\n          title={texts.mediaAttached}\n          placement=\"top\"\n          key={texts.mediaAttached}\n          >\n          <AlbumIcon className={fontClasses.infoText}/>\n        </Tooltip>\n      ));\n      operators.push(ejectMediaOperator);\n    }else{\n      operators.push(insertMediaOperator);\n    }\n    operators = operators.concat([monitorOperator, detailOperator, securityOperator]);\n  }else{\n    const stoppedIcon = (\n      <Tooltip\n        title={texts.stopped}\n        placement=\"top\"\n        key={texts.stopped}\n        >\n        <StopIcon className={fontClasses.dangerText}/>\n      </Tooltip>\n    );\n    statusIcon = [stoppedIcon];\n    if (instance.auto_start){\n      statusIcon.push((\n        <Tooltip\n          title={texts.autoStartup}\n          placement=\"top\"\n          key={texts.autoStartup}\n          >\n          <AllInclusiveIcon className={fontClasses.infoText}/>\n        </Tooltip>\n      ));\n    }\n    operators = [startOperator, startWithMediaOperator, snapshotOperator,\n      createImageOperator, resetSystemOperator, deleteOperator,\n      migrateOperator, monitorOperator, detailOperator, securityOperator];\n  }\n  var addressLabel = '';\n  if (instance.internal && instance.internal.network_address){\n    addressLabel = instance.internal.network_address;\n  }\n  if (instance.external && instance.external.network_address){\n    addressLabel += '/' + instance.external.network_address;\n  }\n  const GiB = 1 << 30;\n  const MiB = 1 << 20;\n  var memoryLabel;\n  if (instance.memory >= GiB ){\n    memoryLabel = (instance.memory / GiB) + ' GB';\n  }else{\n    memoryLabel = (instance.memory / MiB) + ' MB';\n  }\n\n  var disks = [];\n  instance.disks.forEach(size => {\n    disks.push((size / GiB).toFixed(2).toString());\n  });\n  var diskLabel = disks.join('/') + ' GB';\n\n  let rowHeader;\n  if(checkable){\n    rowHeader = (\n      <Box display='flex' alignItems=\"center\">\n        <Box>\n          <Checkbox\n            checked={checked}\n            onChange={ e => handleCheckChanged(e)}\n            value={instance.id}\n            />\n        </Box>\n        <Box>\n          {instance.name}\n        </Box>\n      </Box>\n    );\n  }else{\n    rowHeader = instance.name;\n  }\n\n  return (\n    <TableRow className={tableClasses.tableBodyRow}>\n      <TableCell className={tableClasses.tableCell}>\n        {rowHeader}\n      </TableCell>\n      <TableCell className={tableClasses.tableCell}>\n        {instance.host? instance.host: instance.cell}\n      </TableCell>\n      <TableCell className={tableClasses.tableCell}>\n        {addressLabel}\n      </TableCell>\n      <TableCell className={tableClasses.tableCell}>\n        {instance.cores}\n      </TableCell>\n      <TableCell className={tableClasses.tableCell}>\n        {memoryLabel}\n      </TableCell>\n      <TableCell className={tableClasses.tableCell}>\n        {diskLabel}\n      </TableCell>\n      <TableCell className={tableClasses.tableCell}>\n        {statusIcon}\n      </TableCell>\n      <TableCell className={tableClasses.tableCell}>\n      {\n        operators.map((operator, key) => {\n          var icon = React.createElement(operator.icon);\n          let button;\n          if (operator.href){\n            button = (\n              <Link to={operator.href} target={operator.target}>\n                <IconButton\n                  color=\"inherit\"\n                  >\n                  {icon}\n                </IconButton>\n              </Link>\n            );\n          }else{\n            button = (\n              <IconButton\n                color=\"inherit\"\n                onClick={()=>{\n                  if(null !== operator.handler){\n                    operator.handler(instance.id);\n                  }\n                }}\n                >\n                {icon}\n              </IconButton>\n            );\n          }\n          return (\n            <Tooltip\n              title={operator.tips}\n              placement=\"top\"\n              key={key}\n              >\n              {button}\n            </Tooltip>\n          )\n        })\n      }\n      </TableCell>\n    </TableRow>\n  )\n}\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { deleteInstance } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Delete Instance',\n    content: 'Are you sure to delete instance ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除云主机',\n    content: '是否删除云主机 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function DeleteDialog(props){\n  const { lang, instanceID, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const content = texts.content + instanceID;\n  const onDeleteFail = (msg) =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onDeleteSuccess = () =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(instanceID);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    deleteInstance(instanceID, onDeleteSuccess, onDeleteFail);\n  }\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from '@material-ui/core/Box';\n\nexport default function SingleRow(props){\n  const { children, ...rest } = props;\n  return (\n    <Grid item xs={12}>\n      <Box m={1} p={0}>\n        <Grid container {...rest}>\n          {children}\n        </Grid>\n      </Box>\n    </Grid>\n  );\n}\n\nSingleRow.propTypes = {\n  children: PropTypes.node\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from '@material-ui/core/Box';\nimport Skeleton from '@material-ui/lab/Skeleton';\n// import FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SingleRow from \"components/Grid/SingleRow.js\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport {\n  getAllComputePools, searchDiskImages, createInstance, getSystemStatus,\n  getInstanceConfig, querySystemTemplates, searchSecurityPolicyGroups\n} from 'nano_api.js';\n\nconst i18n = {\n  'en': {\n    title: 'Create Instance',\n    name: 'Instance Name',\n    resourcePool: 'Resource Pool',\n    core: 'Core',\n    memory: 'Memory',\n    systemDisk: 'System Disk Size',\n    dataDisk: 'Data Disk Size',\n    autoStartup: 'Automatic Startup',\n    systemVersion: 'System Version',\n    sourceImage: 'Source Image',\n    blankSystem: 'Blank System',\n    qos: 'QoS Options (Optional)',\n    cpuPriority: 'CPU Priority',\n    iops: 'IOPS',\n    outbound: 'Outband Bandwidth',\n    inbound: 'Inbound Bandwidth',\n    noDataDisk: \"Don't use data disk\",\n    noLimit: 'No Limit',\n    cpuPriorityHigh: 'High',\n    cpuPriorityMedium: 'Medium',\n    cpuPriorityLow: 'Low',\n    modules: 'Pre-Installed Modules',\n    adminName: 'Admin Name',\n    adminPassword: 'Admin Password',\n    blankHelper: 'Leave blank to generate',\n    dataPath: 'Data Path',\n    off: 'Off',\n    on: 'On',\n    ciOptions: 'Cloud Init Options',\n    securityPolicy: 'Security Policy',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn': {\n    title: '创建云主机',\n    name: '云主机名称',\n    resourcePool: '计算资源池',\n    core: '核心数',\n    memory: '内存',\n    systemDisk: '系统磁盘容量',\n    dataDisk: '数据磁盘容量',\n    autoStartup: '自动启动',\n    systemVersion: '系统版本',\n    sourceImage: '来源镜像',\n    blankSystem: '空白系统',\n    qos: 'QoS选项 (可选)',\n    cpuPriority: 'CPU优先级',\n    iops: '磁盘读写限制',\n    outbound: '上行带宽',\n    inbound: '下行带宽',\n    noDataDisk: \"不使用数据磁盘\",\n    noLimit: '无限制',\n    cpuPriorityHigh: '高',\n    cpuPriorityMedium: '中',\n    cpuPriorityLow: '低',\n    modules: '预装模块',\n    adminName: '管理员账号',\n    adminPassword: '管理员密码',\n    blankHelper: '留空则自动生成新密码',\n    dataPath: '挂载数据路径',\n    off: '关闭',\n    on: '开启',\n    ciOptions: 'Cloud Init选项',\n    securityPolicy: '安全策略',\n    cancel: '取消',\n    confirm: '确定',\n  },\n};\n\nexport default function CreateDialog(props) {\n  const defaultMaxCores = 16;\n  const defaultMaxMemory = 24;\n  const defaultMaxDisk = 32;\n  const defaultOption = '__default';\n  const ciModuleName = 'cloud-init';\n  const checkInterval = 1000;\n  const { lang, open, onSuccess, onCancel } = props;\n\n  const defaultValues = {\n    name: '',\n    pool: '',\n    cores: (1).toString(),\n    memory: (1 << 30).toString(), //1 G\n    system_disk: 5,\n    data_disk: 0,\n    auto_start: false,\n    system_template: '',\n    from_image: defaultOption,\n    security_policy: '',\n    modules: new Map(),\n    module_cloud_init_admin_name: 'root',\n    module_cloud_init_admin_password: '',\n    module_cloud_init_data_path: '/opt/data',\n    priority: 'medium',\n    iops: 0,\n    inbound: 0,\n    outbound: 0,\n  };\n  const [initialed, setInitialed] = React.useState(false);\n  const [creating, setCreating] = React.useState(false);\n  const [progress, setProgress] = React.useState(0);\n  const [operatable, setOperatable] = React.useState(true);\n  const [prompt, setPrompt] = React.useState('');\n  const [mounted, setMounted] = React.useState(false);\n  const [request, setRequest] = React.useState(defaultValues);\n  const [options, setOptions] = React.useState({\n    pools: [],\n    images: [],\n    versions: [],\n    policies: [],\n  });\n  const [maxCores, setMaxCores] = React.useState(defaultMaxCores);\n  const [maxMemory, setMaxMemory] = React.useState(defaultMaxMemory);\n  const [maxDisk, setMaxDisk] = React.useState(defaultMaxDisk);\n  const [coreValue, setCoreValue] = React.useState(0);\n  const [memoryTick, setMemoryTick] = React.useState(1);\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onCreateFail = React.useCallback(msg => {\n    if (!mounted) {\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n    setCreating(false);\n    setProgress(0);\n  }\n\n  const closeDialog = () => {\n    resetDialog();\n    onCancel();\n  }\n\n  const onCreateSuccess = result => {\n    if (!mounted) {\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(result.id);\n  }\n\n  const onCreateAccept = instanceID => {\n    if (!mounted) {\n      return;\n    }\n    setCreating(true);\n    setProgress(0);\n    setTimeout(() => {\n      checkCreatingProgress(instanceID)\n    }, checkInterval);\n  }\n\n  const checkCreatingProgress = instanceID => {\n    if (!mounted) {\n      return;\n    }\n    const onCreating = progress => {\n      if (!mounted) {\n        return;\n      }\n      setProgress(progress);\n      setTimeout(() => {\n        checkCreatingProgress(instanceID)\n      }, checkInterval);\n    }\n    getInstanceConfig(instanceID, onCreateSuccess, onCreateFail, onCreating);\n  }\n\n  const handleConfirm = () => {\n    setPrompt('');\n    setOperatable(false);\n    if (!request.name) {\n      onCreateFail('instance name required');\n      return;\n    }\n    if (!request.pool) {\n      onCreateFail('must specify target pool');\n      return;\n    }\n    var cores = Number(request.cores);\n    if (Number.isNaN(cores)) {\n      onCreateFail('invalid cores: ' + request.cores);\n      return;\n    }\n    var memory = Number(request.memory);\n    if (Number.isNaN(memory)) {\n      onCreateFail('invalid memory: ' + request.memory);\n      return;\n    }\n    const GiB = 1 << 30;\n    var disks = [request.system_disk * GiB];\n    if (0 !== request.data_disk) {\n      disks.push(request.data_disk * GiB);\n    }\n    var systemVersion = request.system_template;\n    let fromImage;\n    if (defaultOption === request.from_image) {\n      fromImage = '';\n    } else {\n      fromImage = request.from_image;\n    }\n    var modules = [];\n    var ciEnabled = false;\n    request.modules.forEach((checked, name) => {\n      if (checked) {\n        modules.push(name);\n        if (ciModuleName === name) {\n          ciEnabled = true;\n        }\n      }\n    });\n    var cloudInit = null;\n    if (ciEnabled) {\n      cloudInit = {\n        admin_name: request.module_cloud_init_admin_name,\n        admin_secret: request.module_cloud_init_admin_password,\n        data_path: request.module_cloud_init_data_path,\n      };\n    }\n    const Mbit = 1 << (20 - 3);\n    var qos = {\n      cpu_priority: request.priority,\n      write_iops: request.iops,\n      read_iops: request.iops,\n      receive_speed: request.inbound * Mbit,\n      send_speed: request.outbound * Mbit,\n    };\n    createInstance(request.name, request.pool, cores, memory, disks,\n      request.auto_start, fromImage, systemVersion, modules,\n      cloudInit, qos, request.security_policy, onCreateAccept,\n      onCreateSuccess, onCreateFail);\n  }\n\n  const handleRequestPropsChanged = name => e => {\n    if (!mounted) {\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleSliderValueChanged = name => (e, value) => {\n    if (!mounted) {\n      return;\n    }\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleCheckedValueChanged = name => e => {\n    if (!mounted) {\n      return;\n    }\n    var value = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleCheckedGroupChanged = (groupName, propertyName) => e => {\n    if (!mounted) {\n      return;\n    }\n    var checked = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      [groupName]: previous[groupName].set(propertyName, checked),\n    }));\n  };\n\n  React.useEffect(() => {\n    if (!open) {\n      return;\n    }\n    // var session = getLoggedSession();\n    // if (null === session){\n    //   onCreateFail('session expired');\n    //   return;\n    // }\n\n    var poolOptions = [];\n    var imageOptions = [{\n      label: texts.blankSystem,\n      value: defaultOption,\n    }];\n    var templateOptions = [];\n    var securityPolicies = [];\n\n    setMounted(true);\n    const onQueryPoliciesSuccess = datalist => {\n      if (!mounted) {\n        return;\n      }\n      datalist.forEach(({ id, name }) => {\n        securityPolicies.push({\n          label: name,\n          value: id,\n        });\n      });\n      setOptions({\n        pools: poolOptions,\n        images: imageOptions,\n        versions: templateOptions,\n        policies: securityPolicies,\n      });\n      setInitialed(true);\n    }\n    const onQueryTemplateSuccess = dataList => {\n      if (!mounted) {\n        return;\n      }\n      dataList.forEach(({ id, name }) => {\n        templateOptions.push({\n          label: name,\n          value: id,\n        });\n      });\n      searchSecurityPolicyGroups('', '', true, true,\n        onQueryPoliciesSuccess, onCreateFail);\n    }\n\n    const onQueryImageSuccess = dataList => {\n      if (!mounted) {\n        return;\n      }\n      dataList.forEach(({ name, id }) => {\n        imageOptions.push({\n          label: name,\n          value: id,\n        });\n      })\n\n      querySystemTemplates(onQueryTemplateSuccess, onCreateFail);\n    };\n\n    const onQueryPoolSuccess = dataList => {\n      if (!mounted) {\n        return;\n      }\n      dataList.forEach(({ name }) => {\n        poolOptions.push({\n          label: name,\n          value: name,\n        });\n      })\n\n      searchDiskImages(onQueryImageSuccess, onCreateFail);\n    };\n\n    const onGetSystemStatusSuccess = status => {\n      if (!mounted) {\n        return;\n      }\n      if (status.max_cores && status.max_cores > 0) {\n        setMaxCores(status.max_cores);\n      }\n      if (status.max_memory && status.max_memory > 0) {\n        setMaxMemory(status.max_memory);\n      }\n      if (status.max_disk && status.max_disk > 0) {\n        setMaxDisk(status.max_disk);\n      }\n      getAllComputePools(onQueryPoolSuccess, onCreateFail);\n    }\n\n    getSystemStatus(onGetSystemStatusSuccess, onCreateFail);\n\n    return () => {\n      setMounted(false);\n    }\n  }, [mounted, open, texts.blankSystem, onCreateFail]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed) {\n    content = <Skeleton variant=\"rect\" style={{ height: '10rem' }} />;\n  } else if (creating) {\n    content = (\n      <Grid container>\n        <SingleRow>\n          <GridItem xs={12}>\n            <LinearProgress variant=\"determinate\" value={progress} />\n          </GridItem>\n        </SingleRow>\n        <SingleRow>\n          <GridItem xs={12}>\n            <Typography align=\"center\">\n              {progress.toFixed(2) + '%'}\n            </Typography>\n          </GridItem>\n        </SingleRow>\n      </Grid>\n    )\n  } else {\n    // new core component\n    const coreLabel = value => {\n      let cores = 2 ** value;\n      if (cores > maxCores) {\n        cores = maxCores;\n      }\n      return cores.toString();\n    }\n\n    const onCoreChanged = (e, value) => {\n      if (!mounted) {\n        return;\n      }\n      setCoreValue(value);\n      let cores = 2 ** value;\n      if (cores > maxCores) {\n        cores = maxCores;\n      }\n      setRequest(previous => ({\n        ...previous,\n        cores: cores,\n      }));\n    };\n    let maxCoreRange = Math.ceil(Math.sqrt(maxCores));\n    let minCoreRange = 0;\n    let coreMarks = [];\n    for (let value = minCoreRange + 1; value <= maxCoreRange; ++value) {\n      let cores = 2 ** value;\n      if (cores > maxCores) {\n        cores = maxCores;\n      }\n      coreMarks.push({\n        value: value,\n        label: cores.toString(),\n      });\n    }\n\n    let coreComponent = {\n      type: 'slider',\n      label: texts.core + ` - ${request.cores}`,\n      onChange: onCoreChanged,\n      valueLabelFormat: coreLabel,\n      value: coreValue,\n      oneRow: true,\n      maxStep: maxCoreRange,\n      minStep: minCoreRange,\n      step: 1,\n      marks: coreMarks,\n      xs: 12,\n      sm: 6,\n      md: 4,\n    };\n\n    // new memory component\n    const memoryBase = 512;\n    const MiB = 1 << 20;\n    const GiB = 1 << 30;\n\n    const displayMemory = memory => {\n      let label;\n      if (memory >= GiB) {\n        label = memory / GiB + ' GB';\n      } else {\n        label = memory / MiB + ' MB';\n      }\n      return label;\n    }\n\n    const onMemoryChanged = (e, value) => {\n      if (!mounted) {\n        return;\n      }\n      setMemoryTick(value);\n      let memory = 2 ** value * memoryBase * MiB;\n      if (memory > maxMemory * GiB) {\n        memory = maxMemory * GiB;\n      }\n      setRequest(previous => ({\n        ...previous,\n        memory: memory,\n      }));\n    };\n    let maxMemoryRange = Math.ceil(Math.sqrt(maxMemory));\n    let minMemoryRange = 0;\n    let memoryMarks = [];\n    for (let value = minMemoryRange + 1; value <= maxMemoryRange; ++value) {\n      let memory = 2 ** value * memoryBase * MiB;\n      if (memory > maxMemory * GiB) {\n        memory = maxMemory * GiB;\n      }\n      memoryMarks.push({\n        value: value,\n        label: displayMemory(memory),\n      });\n    }\n    let memoryLabel = texts.memory + ` - ${displayMemory(request.memory)}`;\n    let memoryComponent = {\n      type: 'slider',\n      label: memoryLabel,\n      onChange: onMemoryChanged,\n      valueLabelDisplay: 'off',\n      value: memoryTick,\n      oneRow: true,\n      maxStep: maxMemoryRange,\n      minStep: minMemoryRange,\n      step: 1,\n      marks: memoryMarks,\n      xs: 12,\n      sm: 8,\n      md: 6,\n    };\n\n    //system disk slider\n    let systemDiskSlider;\n    {\n      const step = 1;\n      const minRange = 5;\n      const maxRange = maxDisk;\n      let midRange = maxRange >> 1;\n      const markValues = [minRange, midRange, maxRange];\n      var systemMarks = [];\n      markValues.forEach(value => {\n        systemMarks.push({\n          value: value,\n          label: value + ' GB',\n        })\n      });\n      systemDiskSlider = {\n        type: 'slider',\n        label: texts.systemDisk + ` - ${request.system_disk} GB`,\n        onChange: handleSliderValueChanged('system_disk'),\n        value: request.system_disk,\n        oneRow: true,\n        maxStep: maxRange,\n        minStep: minRange,\n        step: step,\n        marks: systemMarks,\n        xs: 12,\n        sm: 6,\n        md: 4,\n      };\n    }\n    //disk slider\n    let dataDiskSlider;\n    {\n      const minRange = 0;\n      const step = 2;\n      const maxRange = maxDisk;\n      let midRange = maxRange >> 1;\n      const markValues = [minRange, midRange, maxRange];\n      let dataMarks = [];\n      markValues.forEach(value => {\n        dataMarks.push({\n          value: value,\n          label: value + ' GB',\n        })\n      });\n      let dataDiskLabel;\n      if (0 === request.data_disk) {\n        dataDiskLabel = texts.dataDisk + ' - ' + texts.noDataDisk;\n      } else {\n        dataDiskLabel = texts.dataDisk + ` - ${request.data_disk} GB`;\n      }\n      dataDiskSlider = {\n        type: 'slider',\n        label: dataDiskLabel,\n        onChange: handleSliderValueChanged('data_disk'),\n        value: request.data_disk,\n        oneRow: true,\n        maxStep: maxRange,\n        minStep: minRange,\n        step: step,\n        marks: dataMarks,\n        xs: 12,\n        sm: 6,\n        md: 4,\n      };\n    }\n\n    let moduleOption;\n    if (request.system_template && defaultOption !== request.from_image) {\n      var modules = [{\n        value: 'qemu',\n        label: 'QEMU-Guest-Agent',\n      },\n      {\n        value: ciModuleName,\n        label: 'CloudInit',\n      }\n      ];\n      let ciOptions;\n      if (request.modules.get(ciModuleName)) {\n        const ciComponents = [\n          {\n            type: \"text\",\n            label: texts.adminName,\n            onChange: handleRequestPropsChanged('module_cloud_init_admin_name'),\n            value: request.module_cloud_init_admin_name,\n            oneRow: true,\n            xs: 12,\n          },\n          {\n            type: \"text\",\n            label: texts.adminPassword,\n            onChange: handleRequestPropsChanged('module_cloud_init_admin_password'),\n            helper: texts.blankHelper,\n            oneRow: true,\n            xs: 12,\n          },\n          {\n            type: \"text\",\n            label: texts.dataPath,\n            onChange: handleRequestPropsChanged('module_cloud_init_data_path'),\n            value: request.module_cloud_init_data_path,\n            disabled: true,\n            oneRow: true,\n            xs: 12,\n          },\n        ];\n        //ci checked\n        ciOptions = (\n          <GridItem xs={12} sm={8} md={6}>\n            <FormLabel component=\"legend\">{texts.ciOptions}</FormLabel>\n            <InputList inputs={ciComponents} />\n          </GridItem>\n        )\n      } else {\n        ciOptions = <GridItem />;\n      }\n\n      moduleOption = (\n        <SingleRow>\n          <GridItem xs={12}>\n            <Box m={0} pt={2}>\n              <FormControl component=\"fieldset\" fullWidth>\n                <FormLabel component=\"legend\">{texts.modules}</FormLabel>\n                <FormGroup>\n                  <Grid container>\n                    {\n                      modules.map(module => {\n                        let checked;\n                        if (request.modules.has(module.value)) {\n                          checked = request.modules.get(module.value);\n                        } else {\n                          checked = false;\n                        }\n                        return (\n                          <GridItem xs={12} sm={6} md={4} key={module.value}>\n                            <FormControlLabel\n                              control={<Checkbox checked={checked} onChange={handleCheckedGroupChanged('modules', module.value)} value={module.value} />}\n                              label={module.label}\n                            />\n                          </GridItem>\n                        );\n                      })\n                    }\n                  </Grid>\n                </FormGroup>\n              </FormControl>\n            </Box>\n          </GridItem>\n          {ciOptions}\n        </SingleRow>\n      )\n\n    } else {\n      moduleOption = <GridItem />;\n    }\n\n    var inputComponents = [\n      {\n        type: \"text\",\n        label: texts.name,\n        onChange: handleRequestPropsChanged('name'),\n        value: request.name,\n        oneRow: true,\n        required: true,\n        xs: 12,\n        sm: 6,\n        md: 4,\n      },\n      {\n        type: \"select\",\n        label: texts.resourcePool,\n        onChange: handleRequestPropsChanged('pool'),\n        value: request.pool,\n        oneRow: true,\n        options: options.pools,\n        required: true,\n        xs: 10,\n        sm: 4,\n        md: 3,\n      },\n      coreComponent,\n      memoryComponent,\n      systemDiskSlider,\n      dataDiskSlider,\n      {\n        type: \"select\",\n        label: texts.sourceImage,\n        onChange: handleRequestPropsChanged('from_image'),\n        value: request.from_image,\n        oneRow: true,\n        options: options.images,\n        xs: 10,\n        sm: 6,\n        md: 5,\n      },\n      {\n        type: \"select\",\n        label: texts.systemVersion,\n        onChange: handleRequestPropsChanged('system_template'),\n        value: request.system_template,\n        oneRow: true,\n        options: options.versions,\n        xs: 10,\n        sm: 5,\n        md: 4,\n      },\n      {\n        type: \"switch\",\n        label: texts.autoStartup,\n        onChange: handleCheckedValueChanged('auto_start'),\n        value: request.auto_start,\n        on: texts.on,\n        off: texts.off,\n        oneRow: true,\n        xs: 8,\n        sm: 6,\n        md: 4,\n      },\n    ];\n    if (options.policies && 0 !== options.policies.length) {\n      inputComponents.push({\n        type: \"select\",\n        label: texts.securityPolicy,\n        onChange: handleRequestPropsChanged('security_policy'),\n        value: request.security_policy,\n        oneRow: true,\n        options: options.policies,\n        xs: 10,\n        sm: 5,\n        md: 4,\n      })\n    }\n\n    const priorityOptions = [\n      {\n        value: 'high',\n        label: texts.cpuPriorityHigh,\n      },\n      {\n        value: 'medium',\n        label: texts.cpuPriorityMedium,\n      },\n      {\n        value: 'low',\n        label: texts.cpuPriorityLow,\n      },\n    ]\n\n    const maxIOPS = 2000;\n    const iopsAchor = [0, maxIOPS / 2, maxIOPS];\n    let iopsMarks = [];\n    iopsAchor.forEach(value => {\n      iopsMarks.push({\n        value: value,\n        label: value.toString(),\n      })\n    });\n\n    const maxBandwidth = 20;\n    const bandwidthAchor = [0, maxBandwidth / 2, maxBandwidth];\n    let bandwidthMarks = [];\n    bandwidthAchor.forEach(value => {\n      bandwidthMarks.push({\n        value: value,\n        label: 0 === value ? texts.noLimit : value.toString() + ' Mbit/s',\n      })\n    });\n\n    let iopsLabel, inboundLabel, outboundLabel;\n    if (0 === request.iops) {\n      iopsLabel = texts.iops + ' - ' + texts.noLimit;\n    } else{\n      if ('cn' === lang) {\n        iopsLabel = texts.iops + ' - ' + request.iops + '次请求/秒';\n      }else{\n        iopsLabel = texts.iops + ' - ' + request.iops + ' Operates/Second';\n      }\n    }\n    if (0 === request.inbound) {\n      inboundLabel = texts.inbound + ' - ' + texts.noLimit;\n    } else{\n      inboundLabel = texts.inbound + ' - ' + request.inbound + ' Mbit/s';\n    }\n    if (0 === request.outbound) {\n      outboundLabel = texts.outbound + ' - ' + texts.noLimit;\n    } else{\n      outboundLabel = texts.outbound + ' - ' + request.outbound + ' Mbit/s';\n    }\n\n    const qosComponents = [\n      {\n        type: \"radio\",\n        label: texts.cpuPriority,\n        onChange: handleRequestPropsChanged('priority'),\n        value: request.priority,\n        oneRow: true,\n        options: priorityOptions,\n        xs: 12,\n      },\n      {\n        type: 'slider',\n        label: iopsLabel,\n        onChange: handleSliderValueChanged('iops'),\n        value: request.iops,\n        oneRow: true,\n        maxStep: maxIOPS,\n        minStep: 0,\n        step: 10,\n        marks: iopsMarks,\n        xs: 12,\n      },\n      {\n        type: 'slider',\n        label: inboundLabel,\n        onChange: handleSliderValueChanged('inbound'),\n        value: request.inbound,\n        oneRow: true,\n        maxStep: maxBandwidth,\n        minStep: 0,\n        step: 2,\n        marks: bandwidthMarks,\n        xs: 12,\n      },\n      {\n        type: 'slider',\n        label: outboundLabel,\n        onChange: handleSliderValueChanged('outbound'),\n        value: request.outbound,\n        oneRow: true,\n        maxStep: maxBandwidth,\n        minStep: 0,\n        step: 2,\n        marks: bandwidthMarks,\n        xs: 12,\n      },\n    ];\n\n    content = (\n      <Grid container>\n        <Box m={1} pt={2}>\n          <InputList inputs={inputComponents} />\n        </Box>\n        {moduleOption}\n        <SingleRow>\n          <GridItem xs={12} sm={9} md={7}>\n            <Box m={0} pb={2}>\n              <Accordion>\n                <AccordionSummary\n                  expandIcon={<ExpandMoreIcon />}\n                >\n                  {texts.qos}\n                </AccordionSummary>\n                <AccordionDetails>\n                  <Box m={1} pt={2}>\n                    <InputList inputs={qosComponents} />\n                  </Box>\n                </AccordionDetails>\n              </Accordion>\n            </Box>\n          </GridItem>\n        </SingleRow>\n      </Grid>\n    );\n    buttons.push({\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleConfirm,\n    });\n  }\n  return <CustomDialog size='md' open={open} prompt={prompt} promptPosition=\"top\"\n    hideBackdrop title={title} buttons={buttons} content={content} operatable={operatable} />;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { searchMediaImages, startInstanceWithMedia } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Start Instance With Media',\n    name: 'Media Name',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '从引导光盘启动云主机',\n    name: '镜像名称',\n    cancel: '取消',\n    confirm: '确认',\n  },\n}\n\n\nexport default function StartWithMediaDialog(props){\n  const defaultValues = {\n    image: '',\n  };\n  const { lang, instanceID, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState({\n    images: [],\n  });\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onStartFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  }\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onStartSuccess = (instanceID) =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(instanceID);\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    const imageID = request.image;\n    if ('' === imageID){\n      onStartFail('select a media image');\n      return;\n    }\n    startInstanceWithMedia(instanceID, imageID, onStartSuccess, onStartFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n    setMounted(true);\n    const onQueryMediaSuccess = (dataList) => {\n      if(!mounted){\n        return;\n      }\n      var imageList = [];\n      dataList.forEach(image =>{\n        imageList.push({\n          value: image.id,\n          label: image.name,\n        })\n      });\n      setOptions({\n        images: imageList,\n      });\n      setInitialed(true);\n    };\n\n    searchMediaImages(onQueryMediaSuccess, onStartFail);\n    return () => setMounted(false);\n  }, [mounted, open, onStartFail]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"select\",\n        label: texts.name,\n        onChange: handleRequestPropsChanged('image'),\n        value: request.image,\n        options: options.images,\n        required: true,\n        oneRow: true,\n        xs: 12,\n        sm: 10,\n      },\n    ];\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { searchMediaImages, insertMedia } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Insert Media Into Instance',\n    name: 'Media Name',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '向云主机插入光盘镜像',\n    name: '镜像名称',\n    cancel: '取消',\n    confirm: '确认',\n  },\n}\n\n\nexport default function InsertWithMediaDialog(props){\n  const defaultValues = {\n    image: '',\n  };\n  const { lang, instanceID, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState({\n    images: [],\n  });\n\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onInsertFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  }\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onInsertSuccess = (instanceID) =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(instanceID);\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    const imageID = request.image;\n    if ('' === imageID){\n      onInsertFail('select a media image');\n      return;\n    }\n    insertMedia(instanceID, imageID, onInsertSuccess, onInsertFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n    setMounted(true);\n\n    const onQueryMediaSuccess = (dataList) => {\n      if(!mounted){\n        return;\n      }\n      var imageList = [];\n      dataList.forEach(image =>{\n        imageList.push({\n          value: image.id,\n          label: image.name,\n        })\n      });\n      setOptions({\n        images: imageList,\n      });\n      setInitialed(true);\n    };\n\n    searchMediaImages(onQueryMediaSuccess, onInsertFail);\n    return ()=> setMounted(false);\n  }, [mounted, open, onInsertFail]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"select\",\n        label: texts.name,\n        onChange: handleRequestPropsChanged('image'),\n        value: request.image,\n        options: options.images,\n        required: true,\n        oneRow: true,\n        xs: 12,\n        sm: 10,\n      },\n    ];\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n\n  }\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { createDiskImage, deleteDiskImage, getDiskImage } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Build New Image',\n    name: 'Image Name',\n    description: 'Description',\n    tags: 'Tags',\n    cancel: 'Cancel',\n    confirm: 'Build',\n  },\n  'cn':{\n    title: '构建新镜像',\n    name: '镜像名称',\n    description: '描述',\n    tags: '标签',\n    cancel: '取消',\n    confirm: '构建',\n  },\n}\n\nexport default function BuildDialog(props){\n  const checkInterval = 1000;\n  const defaultValues = {\n    name: '',\n    description: '',\n    tags: new Map(),\n  };\n  const { lang, instanceID, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ creating, setCreating ] = React.useState(false);\n  const [ progress, setProgress ] = React.useState(0);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState({\n    tags: [],\n  });\n\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onBuildFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const onFailAfterCreated = imageID => msg => {\n    deleteDiskImage(imageID);\n    onBuildFail(msg);\n  }\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n    setCreating(false);\n    setProgress(0);\n  }\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onBuildSuccess = (imageName) =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(imageName);\n  }\n\n  const onBuildAccept = (imageName) => (imageID) =>{\n    if(!mounted){\n      return;\n    }\n    setCreating(true);\n    setTimeout(() =>{\n      getDiskImage(imageID, onBuildProgress(imageID, imageName), onFailAfterCreated(imageID));\n    }, checkInterval);\n  }\n\n  const onBuildProgress = (imageID, imageName) => status => {\n    if(!mounted){\n      return;\n    }\n    if (status.created){\n      onBuildSuccess(imageName);\n      return;\n    }\n    setProgress(status.progress);\n    setTimeout(() =>{\n      getDiskImage(imageID, onBuildProgress(imageID, imageName), onFailAfterCreated(imageID));\n    }, checkInterval);\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    if (!request.name){\n      onBuildFail('must specify image name');\n      return;\n    }\n    if (!request.description){\n      onBuildFail('desciption required');\n      return;\n    }\n\n    if (!request.tags){\n      onBuildFail('image tags required');\n      return;\n    }\n    var tags = [];\n    request.tags.forEach((value, key) =>{\n      if (value){\n        //checked\n        tags.push(key);\n      }\n    });\n    if (0 === tags.length){\n      onBuildFail('image tags required');\n      return;\n    }\n\n    const imageName = request.name;\n    createDiskImage(imageName, instanceID, request.description, tags, onBuildAccept(imageName), onBuildFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleTagsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      tags: previous.tags.set(name, value),\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n\n    setMounted(true);\n    const imageTags = [\n      ['linux', 'Linux'],\n      ['windows', 'Windows'],\n      ['centos', 'Centos'],\n      ['ubuntu', 'Ubuntu'],\n      ['64bit', '64Bit'],\n      ['32bit', '32Bit']\n    ];\n\n    var tagOptions = [];\n    imageTags.forEach(tag =>{\n      tagOptions.push({\n        label: tag[1],\n        value: tag[0],\n      });\n    });\n    setOptions({\n      tags: tagOptions,\n    });\n\n    setInitialed(true);\n    return () => {\n      setMounted(false);\n    }\n  }, [open]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else if(creating){\n    content = (\n      <Grid container>\n        <Grid item xs={12}>\n          <LinearProgress variant=\"determinate\" value={progress} />\n        </Grid>\n        <Grid item xs={12}>\n          <Typography align=\"center\">\n            {progress.toFixed(2) + '%'}\n          </Typography>\n        </Grid>\n      </Grid>\n    )\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.name,\n        value: request.name,\n        onChange: handleRequestPropsChanged('name'),\n        required: true,\n        oneRow: true,\n        xs: 8,\n      },\n      {\n        type: \"textarea\",\n        label: texts.description,\n        value: request.description,\n        onChange: handleRequestPropsChanged('description'),\n        required: true,\n        oneRow: true,\n        rows: 4,\n        xs: 12,\n      },\n      {\n        type: \"checkbox\",\n        label: texts.tags,\n        onChange: handleTagsChanged,\n        value: request.tags,\n        options: options.tags,\n        required: true,\n        oneRow: true,\n        xs: 10,\n      },\n    ];\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt} hideBackdrop\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { searchDiskImages, resetSystem, getInstanceConfig } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Reset Instance System',\n    name: 'Target System',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '重置云主机系统',\n    name: '目标系统',\n    cancel: '取消',\n    confirm: '确认',\n  },\n}\n\nexport default function ResetSystemDialog(props){\n  const checkInterval = 1000;\n  const defaultValues = {\n    image: '',\n  };\n  const { lang, instanceID, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ creating, setCreating ] = React.useState(false);\n  const [ progress, setProgress ] = React.useState(0);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState({\n    images: [],\n  });\n\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onResetFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  }\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onResetSuccess = result =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(result.id);\n  }\n\n  const onResetAccept = (instanceID) =>{\n    if(!mounted){\n      return;\n    }\n    setCreating(true);\n    setProgress(0);\n    setTimeout(() => {\n      checkCreatingProgress(instanceID)\n    }, checkInterval);\n  }\n\n  const checkCreatingProgress = (instanceID) =>{\n    if(!mounted){\n      return;\n    }\n    const onCreating = (progress) =>{\n      if(!mounted){\n        return;\n      }\n      setProgress(progress);\n      setTimeout(() => {\n        checkCreatingProgress(instanceID)\n      }, checkInterval);\n    }\n    getInstanceConfig(instanceID, onResetSuccess, onResetFail, onCreating);\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    const imageID = request.image;\n    if ('' === imageID){\n      onResetFail('select a target system');\n      return;\n    }\n    resetSystem(instanceID, imageID, onResetAccept, onResetFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n\n    setMounted(true);\n    const onQueryTargetSuccess = (dataList) => {\n      if(!mounted){\n        return;\n      }\n      var imageOptions = [];\n      dataList.forEach(({id, name}) =>{\n        imageOptions.push({\n          value: id,\n          label: name,\n        })\n      });\n      setOptions({\n        images: imageOptions,\n      });\n      setInitialed(true);\n    };\n\n    searchDiskImages(onQueryTargetSuccess, onResetFail);\n    return () => {\n      setMounted(false);\n    }\n  }, [open, mounted, onResetFail]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else if (creating){\n    content = (\n      <Grid container>\n        <Grid item xs={12}>\n          <LinearProgress variant=\"determinate\" value={progress} />\n        </Grid>\n        <Grid item xs={12}>\n          <Typography align=\"center\">\n            {progress.toFixed(2) + '%'}\n          </Typography>\n        </Grid>\n      </Grid>\n    )\n  }else{\n    const inputs = [\n      {\n        type: \"select\",\n        label: texts.name,\n        onChange: handleRequestPropsChanged('image'),\n        value: request.image,\n        options: options.images,\n        required: true,\n        oneRow: true,\n        xs: 12,\n        sm: 10,\n      },\n    ];\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='xs' open={open} prompt={prompt} hideBackdrop\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { queryComputeCellsInPool, migrateSingleInstance } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Migrate Single Instance',\n    sourcePool: 'Source Pool',\n    sourceCell: 'Source Cell',\n    targetCell: 'Target Cell',\n    offline: 'Offline',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '迁移云主机实例',\n    sourcePool: '源资源池',\n    sourceCell: '源节点',\n    targetCell: '目标节点',\n    offline: '离线',\n    cancel: '取消',\n    confirm: '确认',\n  },\n}\n\nexport default function MigrateInstanceDialog(props){\n  const defaultValues = {\n    targetCell: '',\n  };\n  const { lang, instanceID, open, sourcePool, sourceCell, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState({\n    cells: [],\n  });\n\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onMigrateFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  }\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onMigrateSuccess = (instanceID) =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(instanceID);\n  }\n\n  const handleConfirm = () =>{\n    const targetCell = request.targetCell;\n    if ('' === targetCell){\n      onMigrateFail('select a target cell');\n      return;\n    }\n    setPrompt(\"\");\n    setOperatable(false);\n    migrateSingleInstance(sourcePool, sourceCell, targetCell, instanceID, onMigrateSuccess, onMigrateFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n\n    setMounted(true);\n    const onQueryCellSuccess = dataList => {\n      if(!mounted){\n        return;\n      }\n      var cellList = [];\n      dataList.forEach(cell =>{\n        if (cell.name !== sourceCell){\n          let label;\n          if(cell.alive){\n            label = cell.name + '('+ cell.address +')';\n          }else{\n            label = cell.name + '('+ texts.offline +')';\n          }\n\n          cellList.push({\n            label: label,\n            value: cell.name,\n            disabled: !cell.alive,\n          })\n        }\n      });\n      if (0 === cellList.length){\n        onMigrateFail('no target cell available');\n        return;\n      }\n      setOptions({\n        cells: cellList,\n      });\n      setInitialed(true);\n    };\n\n    queryComputeCellsInPool(sourcePool, onQueryCellSuccess, onMigrateFail);\n    return () => {\n      setMounted(false);\n    }\n  }, [mounted, open, sourcePool, sourceCell, onMigrateFail, texts.offline]);\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.sourcePool,\n        value: sourcePool,\n        disabled: true,\n        oneRow: true,\n        xs: 12,\n        sm: 8,\n      },\n      {\n        type: \"text\",\n        label: texts.sourceCell,\n        value: sourceCell,\n        disabled: true,\n        oneRow: true,\n        xs: 12,\n        sm: 8,\n      },\n      {\n        type: \"select\",\n        label: texts.targetCell,\n        onChange: handleRequestPropsChanged('targetCell'),\n        value: request.targetCell,\n        options: options.cells,\n        required: true,\n        oneRow: true,\n        xs: 12,\n        sm: 10,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport Paper from '@material-ui/core/Paper';\n\n// dashboard components\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { batchStoppingGuests, checkBatchStoppingStatus } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Batch Stopping Instance',\n    content1: 'Are you sure to stop ',\n    content2: ' instance(s)',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n    finish: 'Finish',\n    fail: 'Fail',\n    complete: 'Stopped',\n    processing: 'Stopping',\n    instance: 'Instance',\n    result: 'Result',\n  },\n  'cn':{\n    title: '批量停止云主机',\n    content1: '是否停止 ',\n    content2: ' 个云主机',\n    cancel: '取消',\n    confirm: '确定',\n    finish: '完成',\n    fail: '失败',\n    complete: '已停止',\n    processing: '停止中',\n    instance: '云主机',\n    result: '处理结果',\n  },\n}\n\nexport default function BatchStopDialog(props){\n  const updateInterval = 2 * 1000;// 2 seconds\n  const StageEnum = {\n    initial: 0,\n    processing: 1,\n    finish: 2,\n  };\n  const { lang, targets, open, onSuccess, onCancel } = props;\n  const [ stage, setStage ] = React.useState(StageEnum.initial);\n  const [ resultList, setResultList ] = React.useState(null);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onStopFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setStage(StageEnum.initial);\n  }\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onStopSuccess = () =>{\n    if(!mounted){\n      return;\n    }\n    setStage(StageEnum.initial);\n    setPrompt('');\n    onSuccess();\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    if (!targets || 0 === targets.length){\n      onStopFail('no target selecetd');\n      return;\n    }\n\n    var batchID;\n    const onProcessing = dataList =>{\n      if(!mounted){\n        return;\n      }\n      setResultList(dataList);\n      setTimeout(()=> {\n        checkBatchStoppingStatus(batchID, onProcessing, onComplete, onStopFail)\n      }, updateInterval);\n    }\n\n    const onComplete = dataList =>{\n      if(!mounted){\n        return;\n      }\n      setResultList(dataList);\n      if(StageEnum.finish !== stage){\n        setOperatable(true);\n        setStage(StageEnum.finish);\n      }\n    }\n\n    const onAccept = id => {\n      if(!mounted){\n        return;\n      }\n      if(StageEnum.initial === stage){\n        setStage(StageEnum.processing);\n      }\n      batchID = id;\n      checkBatchStoppingStatus(batchID, onProcessing, onComplete, onStopFail);\n    }\n\n    batchStoppingGuests(targets, onAccept, onStopFail);\n  }\n\n  const cancelButton = {\n    color: \"transparent\",\n    label: texts.cancel,\n    onClick: closeDialog,\n  };\n  const confirmButton = {\n    color: 'info',\n    label: texts.confirm,\n    onClick: handleConfirm,\n  };\n  const finishButton = {\n    color: 'info',\n    label: texts.finish,\n    onClick: onStopSuccess,\n  };\n\n  const resultToTable = dataList => {\n    var rows = [];\n    if(!dataList){\n      return <div/>;\n    }\n    dataList.forEach((result, index) =>{\n      if('fail' === result.status){\n        rows.push({\n          id: result.id,\n          text: texts.fail + ':' + result.error,\n        });\n      }else if ('stopped' === result.status){\n        rows.push({\n          id: result.id,\n          text: texts.complete,\n        });\n      }else{\n        //stopping\n        rows.push({\n          id: result.id,\n          text: texts.processing,\n        });\n      }\n    });\n\n    return (\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>{texts.instance}</TableCell>\n              <TableCell>{texts.result}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {\n              rows.map(row => (\n                <TableRow key={row.id}>\n                  <TableCell component='th' scope='row'>\n                    {row.id}\n                  </TableCell>\n                  <TableCell>\n                    {row.text}\n                  </TableCell>\n                </TableRow>\n              ))\n            }\n          </TableBody>\n        </Table>\n      </TableContainer>\n    );\n  }\n\n  React.useEffect(() =>{\n    setMounted(true);\n    return () => setMounted(false);\n  }, []);\n\n  let content, buttons;\n  switch (stage) {\n    case StageEnum.processing:\n      content = resultToTable(resultList);\n      if(prompt){\n        buttons = [cancelButton];\n      }else{\n        buttons = [];\n      }\n      break;\n    case StageEnum.finish:\n      content = resultToTable(resultList);\n      buttons = [finishButton];\n      break;\n    default:\n      //initial\n      content = texts.content1 + targets.length.toString() + texts.content2;\n      buttons = [cancelButton, confirmButton];\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt} promptPosition=\"top\"\n    hideBackdrop title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport Paper from '@material-ui/core/Paper';\n\n// dashboard components\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { batchDeletingGuests, checkBatchDeletingStatus } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Batch Deleting Instance',\n    content1: 'Are you sure to delete ',\n    content2: ' instance(s)',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n    finish: 'Finish',\n    fail: 'Fail',\n    complete: 'Deleted',\n    processing: 'Deleting',\n    instance: 'Instance',\n    result: 'Result',\n  },\n  'cn':{\n    title: '批量删除云主机',\n    content1: '是否删除 ',\n    content2: ' 个云主机',\n    cancel: '取消',\n    confirm: '确定',\n    finish: '完成',\n    fail: '失败',\n    complete: '已删除',\n    processing: '删除中',\n    instance: '云主机',\n    result: '处理结果',\n  },\n}\n\nexport default function BatchDeleteDialog(props){\n  const updateInterval = 2 * 1000;// 2 seconds\n  const StageEnum = {\n    initial: 0,\n    processing: 1,\n    finish: 2,\n  };\n  const { lang, targets, open, onSuccess, onCancel } = props;\n  const [ stage, setStage ] = React.useState(StageEnum.initial);\n  const [ resultList, setResultList ] = React.useState(null);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onDeleteFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setStage(StageEnum.initial);\n  }\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onDeleteSuccess = () =>{\n    if(!mounted){\n      return;\n    }\n    setStage(StageEnum.initial);\n    setPrompt('');\n    onSuccess();\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    if (!targets || 0 === targets.length){\n      onDeleteFail('no target selecetd');\n      return;\n    }\n\n    var batchID;\n    const onProcessing = dataList =>{\n      if(!mounted){\n        return;\n      }\n      setResultList(dataList);\n      setTimeout(()=> {\n        checkBatchDeletingStatus(batchID, onProcessing, onComplete, onDeleteFail)\n      }, updateInterval);\n    }\n\n    const onComplete = dataList =>{\n      if(!mounted){\n        return;\n      }\n      setResultList(dataList);\n      if(StageEnum.finish !== stage){\n        setOperatable(true);\n        setStage(StageEnum.finish);\n      }\n    }\n\n    const onAccept = id => {\n      if(!mounted){\n        return;\n      }\n      if(StageEnum.initial === stage){\n        setStage(StageEnum.processing);\n      }\n      batchID = id;\n      checkBatchDeletingStatus(batchID, onProcessing, onComplete, onDeleteFail);\n    }\n\n    batchDeletingGuests(targets, onAccept, onDeleteFail);\n  }\n\n  const cancelButton = {\n    color: \"transparent\",\n    label: texts.cancel,\n    onClick: closeDialog,\n  };\n  const confirmButton = {\n    color: 'info',\n    label: texts.confirm,\n    onClick: handleConfirm,\n  };\n  const finishButton = {\n    color: 'info',\n    label: texts.finish,\n    onClick: onDeleteSuccess,\n  };\n\n  const resultToTable = dataList => {\n    var rows = [];\n    if(!dataList){\n      return <div/>;\n    }\n    dataList.forEach((result, index) =>{\n      if('fail' === result.status){\n        rows.push({\n          id: result.id,\n          text: texts.fail + ':' + result.error,\n        });\n      }else if ('deleted' === result.status){\n        rows.push({\n          id: result.id,\n          text: texts.complete,\n        });\n      }else{\n        //stopping\n        rows.push({\n          id: result.id,\n          text: texts.processing,\n        });\n      }\n    });\n\n    return (\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>{texts.instance}</TableCell>\n              <TableCell>{texts.result}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {\n              rows.map(row => (\n                <TableRow key={row.id}>\n                  <TableCell component='th' scope='row'>\n                    {row.id}\n                  </TableCell>\n                  <TableCell>\n                    {row.text}\n                  </TableCell>\n                </TableRow>\n              ))\n            }\n          </TableBody>\n        </Table>\n      </TableContainer>\n    );\n  }\n\n  React.useEffect(() =>{\n    setMounted(true);\n    return () => setMounted(false);\n  }, []);\n\n  let content, buttons;\n  switch (stage) {\n    case StageEnum.processing:\n      content = resultToTable(resultList);\n      if(prompt){\n        buttons = [cancelButton];\n      }else{\n        buttons = [];\n      }\n      break;\n    case StageEnum.finish:\n      content = resultToTable(resultList);\n      buttons = [finishButton];\n      break;\n    default:\n      //initial\n      content = texts.content1 + targets.length.toString() + texts.content2;\n      buttons = [cancelButton, confirmButton];\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt} promptPosition=\"top\"\n    hideBackdrop title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from '@material-ui/core/Box';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport Paper from '@material-ui/core/Paper';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Switch from '@material-ui/core/Switch';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\n// import FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Slider from '@material-ui/core/Slider';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SingleRow from \"components/Grid/SingleRow.js\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { InputComponent } from \"components/CustomInput/InputList\";\nimport InputList from \"components/CustomInput/InputList\";\nimport {\n  getAllComputePools, searchDiskImages, batchCreatingGuests, getSystemStatus,\n  checkBatchCreatingStatus, querySystemTemplates\n} from 'nano_api.js';\n\nconst i18n = {\n  'en': {\n    title: 'Batch Creating Instances',\n    rule: 'Name Rule',\n    ruleOrder: 'By Order',\n    ruleMAC: 'By MAC',\n    ruleAddress: 'By Guest Address',\n    prefix: 'Prefix',\n    count: 'Create Quantity',\n    resourcePool: 'Resource Pool',\n    core: 'Core',\n    memory: 'Memory',\n    systemDisk: 'System Disk Size',\n    dataDisk: 'Data Disk Size',\n    autoStartup: 'Automatic Startup',\n    systemVersion: 'System Version',\n    sourceImage: 'Source Image',\n    blankSystem: 'Blank System',\n    qos: 'QoS Options (Optional)',\n    cpuPriority: 'CPU Priority',\n    iops: 'IOPS',\n    outbound: 'Outband Bandwidth',\n    inbound: 'Inbound Bandwidth',\n    noDataDisk: \"Don't use data disk\",\n    noLimit: 'No Limit',\n    cpuPriorityHigh: 'High',\n    cpuPriorityMedium: 'Medium',\n    cpuPriorityLow: 'Low',\n    modules: 'Pre-Installed Modules',\n    adminName: 'Admin Name',\n    adminPassword: 'Admin Password',\n    blankHelper: 'Leave blank to generate',\n    dataPath: 'Data Path',\n    off: 'Off',\n    on: 'On',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n    finish: 'Finish',\n    fail: 'Fail',\n    complete: 'Created',\n    processing: 'Creating',\n    instance: 'Instance',\n    result: 'Result',\n  },\n  'cn': {\n    title: '批量创建云主机',\n    rule: '实例命名规则',\n    ruleOrder: '顺序递增',\n    ruleMAC: '按MAC地址',\n    ruleAddress: '按实例地址',\n    prefix: '实例名前缀',\n    count: '创建数量',\n    resourcePool: '计算资源池',\n    core: '核心数',\n    memory: '内存',\n    systemDisk: '系统磁盘容量',\n    dataDisk: '数据磁盘容量',\n    autoStartup: '自动启动',\n    systemVersion: '系统版本',\n    sourceImage: '来源镜像',\n    blankSystem: '空白系统',\n    qos: 'QoS选项 (可选)',\n    cpuPriority: 'CPU优先级',\n    iops: '磁盘读写限制',\n    outbound: '上行带宽',\n    inbound: '下行带宽',\n    noDataDisk: \"不使用数据磁盘\",\n    noLimit: '无限制',\n    cpuPriorityHigh: '高',\n    cpuPriorityMedium: '中',\n    cpuPriorityLow: '低',\n    modules: '预装模块',\n    adminName: '管理员账号',\n    adminPassword: '管理员密码',\n    blankHelper: '留空则自动生成新密码',\n    dataPath: '挂载数据路径',\n    off: '关闭',\n    on: '开启',\n    cancel: '取消',\n    confirm: '确定',\n    finish: '完成',\n    fail: '失败',\n    complete: '创建完成',\n    processing: '创建中',\n    instance: '云主机',\n    result: '处理结果',\n  },\n};\n\nexport default function CreateDialog(props) {\n  const defaultMaxCores = 16;\n  const defaultMaxMemory = 24;\n  const defaultMaxDisk = 32;\n  const StageEnum = {\n    initial: 0,\n    processing: 1,\n    finish: 2,\n  };\n  const RuleEmum = {\n    order: 'order',\n    MAC: 'MAC',\n    address: 'address',\n  };\n  const defaultOption = '__default';\n  const ciModuleName = 'cloud-init';\n  const checkInterval = 1000;\n  const { lang, open, onSuccess, onCancel } = props;\n\n  const defaultValues = {\n    rule: RuleEmum.order,\n    prefix: '',\n    count: 1,\n    name: '',\n    pool: '',\n    cores: (1).toString(),\n    memory: (1 << 30).toString(), //1 G\n    system_disk: 5,\n    data_disk: 0,\n    auto_start: false,\n    system_template: '',\n    from_image: defaultOption,\n    modules: new Map(),\n    module_cloud_init_admin_name: 'root',\n    module_cloud_init_admin_password: '',\n    module_cloud_init_data_path: '/opt/data',\n    priority: 'medium',\n    iops: 0,\n    inbound: 0,\n    outbound: 0,\n  };\n  const [initialed, setInitialed] = React.useState(false);\n  const [stage, setStage] = React.useState(StageEnum.initial);\n  const [resultList, setResultList] = React.useState(null);\n  const [operatable, setOperatable] = React.useState(true);\n  const [prompt, setPrompt] = React.useState('');\n  const [mounted, setMounted] = React.useState(false);\n  const [request, setRequest] = React.useState(defaultValues);\n  const [options, setOptions] = React.useState({\n    pools: [],\n    images: [],\n    versions: [],\n  });\n  const [maxCores, setMaxCores] = React.useState(defaultMaxCores);\n  const [maxMemory, setMaxMemory] = React.useState(defaultMaxMemory);\n  const [maxDisk, setMaxDisk] = React.useState(defaultMaxDisk);\n  const [coreValue, setCoreValue] = React.useState(0);\n  const [memoryTick, setMemoryTick] = React.useState(1);\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onCreateFail = React.useCallback(msg => {\n    if (!mounted) {\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () => {\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n    setStage(StageEnum.initial);\n  }\n\n  const closeDialog = () => {\n    resetDialog();\n    onCancel();\n  }\n\n  const onCreateSuccess = () => {\n    if (!mounted) {\n      return;\n    }\n    resetDialog();\n    onSuccess();\n  }\n\n  const onAccept = batchID => {\n    if (!mounted) {\n      return;\n    }\n    setPrompt('');\n    if (StageEnum.initial === stage) {\n      setStage(StageEnum.processing);\n    }\n    checkBatchCreatingStatus(batchID, onProcessing(batchID), onComplete(batchID), onCreateFail);\n  }\n\n  const onProcessing = batchID => dataList => {\n    if (!mounted) {\n      return;\n    }\n    setResultList(dataList);\n    setTimeout(() => {\n      checkBatchCreatingStatus(batchID, onProcessing(batchID), onComplete(batchID), onCreateFail);\n    }, checkInterval);\n  }\n\n  const onComplete = batchID => dataList => {\n    if (!mounted) {\n      return;\n    }\n    setResultList(dataList);\n    if (StageEnum.finish !== stage) {\n      setOperatable(true);\n      setStage(StageEnum.finish);\n    }\n  }\n\n  const handleConfirm = () => {\n    setPrompt('');\n    setOperatable(false);\n    if (!request.prefix) {\n      onCreateFail('prefix required');\n      return;\n    }\n    var count = Number.parseInt(request.count);\n    if (Number.isNaN(count)) {\n      onCreateFail('invalid count: ' + request.count);\n      return;\n    }\n\n    if (!request.pool) {\n      onCreateFail('must specify target pool');\n      return;\n    }\n    var cores = Number.parseInt(request.cores);\n    if (Number.isNaN(cores)) {\n      onCreateFail('invalid cores: ' + request.cores);\n      return;\n    }\n    var memory = Number.parseInt(request.memory);\n    if (Number.isNaN(memory)) {\n      onCreateFail('invalid memory: ' + request.memory);\n      return;\n    }\n    const GiB = 1 << 30;\n    var disks = [request.system_disk * GiB];\n    if (0 !== request.data_disk) {\n      disks.push(request.data_disk * GiB);\n    }\n    var systemVersion = request.system_template;\n    let fromImage;\n    if (defaultOption === request.from_image) {\n      fromImage = '';\n    } else {\n      fromImage = request.from_image;\n    }\n    var modules = [];\n    var ciEnabled = false;\n    request.modules.forEach((checked, name) => {\n      if (checked) {\n        modules.push(name);\n        if (ciModuleName === name) {\n          ciEnabled = true;\n        }\n      }\n    });\n    var cloudInit = null;\n    if (ciEnabled) {\n      cloudInit = {\n        admin_name: request.module_cloud_init_admin_name,\n        admin_secret: request.module_cloud_init_admin_password,\n        data_path: request.module_cloud_init_data_path,\n      };\n    }\n    const Mbit = 1 << (20 - 3);\n    var qos = {\n      cpu_priority: request.priority,\n      write_iops: request.iops,\n      read_iops: request.iops,\n      receive_speed: request.inbound * Mbit,\n      send_speed: request.outbound * Mbit,\n    };\n    batchCreatingGuests(request.rule, request.prefix, count, request.pool, cores, memory, disks,\n      request.auto_start, fromImage, systemVersion, modules,\n      cloudInit, qos, onAccept, onCreateFail);\n  }\n\n  const handleRequestPropsChanged = name => e => {\n    if (!mounted) {\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleSliderValueChanged = name => (e, value) => {\n    if (!mounted) {\n      return;\n    }\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleCheckedValueChanged = name => e => {\n    if (!mounted) {\n      return;\n    }\n    var value = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleCheckedGroupChanged = (groupName, propertyName) => e => {\n    if (!mounted) {\n      return;\n    }\n    var checked = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      [groupName]: previous[groupName].set(propertyName, checked),\n    }));\n  };\n\n  React.useEffect(() => {\n    if (!open) {\n      return;\n    }\n    var poolOptions = [];\n    var imageOptions = [{\n      label: texts.blankSystem,\n      value: defaultOption,\n    }];\n    var templateOptions = [];\n\n    setMounted(true);\n    const onQueryTemplateSuccess = dataList => {\n      if (!mounted) {\n        return;\n      }\n      dataList.forEach(({ id, name }) => {\n        templateOptions.push({\n          label: name,\n          value: id,\n        });\n      });\n      setOptions({\n        pools: poolOptions,\n        images: imageOptions,\n        versions: templateOptions,\n      });\n      setInitialed(true);\n    }\n\n    const onQueryImageSuccess = dataList => {\n      if (!mounted) {\n        return;\n      }\n      dataList.forEach(({ name, id }) => {\n        imageOptions.push({\n          label: name,\n          value: id,\n        });\n      })\n      querySystemTemplates(onQueryTemplateSuccess, onCreateFail);\n    };\n\n    const onQueryPoolSuccess = dataList => {\n      if (!mounted) {\n        return;\n      }\n      dataList.forEach(({ name }) => {\n        poolOptions.push({\n          label: name,\n          value: name,\n        });\n      })\n\n      searchDiskImages(onQueryImageSuccess, onCreateFail);\n    };\n\n    const onGetSystemStatusSuccess = status => {\n      if (!mounted) {\n        return;\n      }\n      if (status.max_cores && status.max_cores > 0) {\n        setMaxCores(status.max_cores);\n      }\n      if (status.max_memory && status.max_memory > 0) {\n        setMaxMemory(status.max_memory);\n      }\n      if (status.max_disk && status.max_disk > 0) {\n        setMaxDisk(status.max_disk);\n      }\n      getAllComputePools(onQueryPoolSuccess, onCreateFail);\n    }\n\n    getSystemStatus(onGetSystemStatusSuccess, onCreateFail);\n\n    return () => {\n      setMounted(false);\n    }\n  }, [mounted, open, texts.blankSystem, onCreateFail]);\n\n\n  const resultToTable = dataList => {\n    if (!mounted) {\n      return;\n    }\n    var rows = [];\n    if (!dataList) {\n      return <div />;\n    }\n    dataList.forEach((result, index) => {\n      let content;\n      if ('fail' === result.status) {\n        content = texts.fail + ':' + result.error;\n      } else if ('created' === result.status) {\n        content = texts.complete;\n      } else {\n        //stopping\n        const progress = result.progress;\n        content = (\n          <Grid container>\n            <GridItem xs={8} sm={9} md={10}>\n              <LinearProgress variant=\"determinate\" value={progress} />\n            </GridItem>\n            <GridItem xs={4} sm={3} md={2}>\n              <Typography align=\"center\">\n                {progress.toFixed(2) + '%'}\n              </Typography>\n            </GridItem>\n          </Grid>\n        )\n      }\n      rows.push({\n        name: result.name,\n        content: content,\n      });\n    });\n\n    return (\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>{texts.instance}</TableCell>\n              <TableCell>{texts.result}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {\n              rows.map(row => (\n                <TableRow key={row.name}>\n                  <TableCell component='th' scope='row'>\n                    {row.name}\n                  </TableCell>\n                  <TableCell>\n                    {row.content}\n                  </TableCell>\n                </TableRow>\n              ))\n            }\n          </TableBody>\n        </Table>\n      </TableContainer>\n    );\n  }\n\n\n  const cancelButton = {\n    color: \"transparent\",\n    label: texts.cancel,\n    onClick: closeDialog,\n  };\n  const confirmButton = {\n    color: 'info',\n    label: texts.confirm,\n    onClick: handleConfirm,\n  };\n  const finishButton = {\n    color: 'info',\n    label: texts.finish,\n    onClick: onCreateSuccess,\n  };\n\n  let content, buttons;\n  if (!initialed) {\n    content = <Skeleton variant=\"rect\" style={{ height: '10rem' }} />;\n    buttons = [cancelButton];\n  } else {\n    switch (stage) {\n      case StageEnum.processing:\n        content = resultToTable(resultList);\n        if (prompt) {\n          buttons = [cancelButton];\n        } else {\n          buttons = [];\n        }\n        break;\n      case StageEnum.finish:\n        content = resultToTable(resultList);\n        buttons = [finishButton];\n        break;\n      default:\n        //initial\n        buttons = [cancelButton, confirmButton];\n        // new core component\n        const coreLabel = value => {\n          let cores = 2 ** value;\n          if (cores > maxCores) {\n            cores = maxCores;\n          }\n          return cores.toString();\n        }\n\n        const onCoreChanged = (e, value) => {\n          if (!mounted) {\n            return;\n          }\n          setCoreValue(value);\n          let cores = 2 ** value;\n          if (cores > maxCores) {\n            cores = maxCores;\n          }\n          setRequest(previous => ({\n            ...previous,\n            cores: cores,\n          }));\n        };\n        let maxCoreRange = Math.ceil(Math.sqrt(maxCores));\n        let minCoreRange = 0;\n        let coreMarks = [];\n        for (let value = minCoreRange + 1; value <= maxCoreRange; ++value) {\n          let cores = 2 ** value;\n          if (cores > maxCores) {\n            cores = maxCores;\n          }\n          coreMarks.push({\n            value: value,\n            label: cores.toString(),\n          });\n        }\n\n        let coreComponent = {\n          type: 'slider',\n          label: texts.core + ` - ${request.cores}`,\n          onChange: onCoreChanged,\n          valueLabelFormat: coreLabel,\n          value: coreValue,\n          oneRow: true,\n          maxStep: maxCoreRange,\n          minStep: minCoreRange,\n          step: 1,\n          marks: coreMarks,\n          xs: 12,\n          sm: 6,\n          md: 4,\n        };\n\n        // new memory component\n        const memoryBase = 512;\n        const MiB = 1 << 20;\n        const GiB = 1 << 30;\n        const displayMemory = memory => {\n          let label;\n          if (memory >= GiB) {\n            label = memory / GiB + ' GB';\n          } else {\n            label = memory / MiB + ' MB';\n          }\n          return label;\n        }\n\n        const onMemoryChanged = (e, value) => {\n          if (!mounted) {\n            return;\n          }\n          setMemoryTick(value);\n          let memory = 2 ** value * memoryBase * MiB;\n          if (memory > maxMemory * GiB) {\n            memory = maxMemory * GiB;\n          }\n          setRequest(previous => ({\n            ...previous,\n            memory: memory,\n          }));\n        };\n        let maxMemoryRange = Math.ceil(Math.sqrt(maxMemory));\n        let minMemoryRange = 0;\n        let memoryMarks = [];\n        for (let value = minMemoryRange + 1; value <= maxMemoryRange; ++value) {\n          let memory = 2 ** value * memoryBase * MiB;\n          if (memory > maxMemory * GiB) {\n            memory = maxMemory * GiB;\n          }\n          memoryMarks.push({\n            value: value,\n            label: displayMemory(memory),\n          });\n        }\n        let memoryLabel = texts.memory + ` - ${displayMemory(request.memory)}`;\n        let memoryComponent = {\n          type: 'slider',\n          label: memoryLabel,\n          onChange: onMemoryChanged,\n          valueLabelDisplay: 'off',\n          value: memoryTick,\n          oneRow: true,\n          maxStep: maxMemoryRange,\n          minStep: minMemoryRange,\n          step: 1,\n          marks: memoryMarks,\n          xs: 12,\n          sm: 8,\n          md: 6,\n        };\n\n        //system disk slider\n        let systemDiskSlider;\n        let systemDiskLabel = texts.systemDisk + ` - ${request.system_disk} GB`;\n        {\n          const step = 1;\n          const minRange = 5;\n          const maxRange = maxDisk;\n          let midRange = maxRange >> 1;\n          const markValues = [minRange, midRange, maxRange];\n          var systemMarks = [];\n          markValues.forEach(value => {\n            systemMarks.push({\n              value: value,\n              label: value + ' GB',\n            })\n          });\n          systemDiskSlider = (\n            <Slider\n              color=\"secondary\"\n              value={request.system_disk}\n              max={maxRange}\n              min={minRange}\n              step={step}\n              valueLabelDisplay=\"auto\"\n              marks={systemMarks}\n              onChange={handleSliderValueChanged('system_disk')}\n            />\n          );\n        }\n        //disk slider\n        let dataDiskSlider;\n        let dataDiskLabel;\n        {\n          const minRange = 0;\n          const step = 2;\n          const maxRange = maxDisk;\n          let midRange = maxRange >> 1;\n          const markValues = [minRange, midRange, maxRange];\n          let dataMarks = [];\n          markValues.forEach(value => {\n            dataMarks.push({\n              value: value,\n              label: value + ' GB',\n            })\n          });\n          if (0 === request.data_disk) {\n            dataDiskLabel = texts.dataDisk + ' - ' + texts.noDataDisk;\n          } else {\n            dataDiskLabel = texts.dataDisk + ` - ${request.data_disk} GB`;\n          }\n          dataDiskSlider = (\n            <Slider\n              color=\"secondary\"\n              value={request.data_disk}\n              max={maxRange}\n              min={minRange}\n              step={step}\n              valueLabelDisplay=\"auto\"\n              marks={dataMarks}\n              onChange={handleSliderValueChanged('data_disk')}\n            />\n          );\n        }\n\n        let moduleOption;\n        if (request.system_template && defaultOption !== request.from_image) {\n          var modules = [{\n            value: 'qemu',\n            label: 'QEMU-Guest-Agent',\n          },\n          {\n            value: ciModuleName,\n            label: 'CloudInit',\n          }\n          ];\n          let ciOptions;\n          if (request.modules.get(ciModuleName)) {\n            //ci checked\n            ciOptions = (\n              <GridItem xs={12} sm={8} md={6}>\n                <Box m={0} pt={2}>\n                  <FormControl component=\"fieldset\" fullWidth>\n                    <FormLabel component=\"legend\">Cloud Init Options</FormLabel>\n                    <SingleRow>\n                      <TextField\n                        label={texts.adminName}\n                        onChange={handleRequestPropsChanged('module_cloud_init_admin_name')}\n                        value={request.module_cloud_init_admin_name}\n                        margin=\"normal\"\n                        fullWidth\n                      />\n                    </SingleRow>\n                    <SingleRow>\n                      <TextField\n                        label={texts.adminPassword}\n                        onChange={handleRequestPropsChanged('module_cloud_init_admin_password')}\n                        helperText={texts.blankHelper}\n                        margin=\"normal\"\n                        fullWidth\n                      />\n                    </SingleRow>\n                    <SingleRow>\n                      <TextField\n                        label={texts.dataPath}\n                        onChange={handleRequestPropsChanged('module_cloud_init_data_path')}\n                        value={request.module_cloud_init_data_path}\n                        margin=\"normal\"\n                        disabled\n                        fullWidth\n                      />\n                    </SingleRow>\n                  </FormControl>\n                </Box>\n              </GridItem>\n            )\n          } else {\n            ciOptions = <GridItem />;\n          }\n\n          moduleOption = (\n            <SingleRow>\n              <GridItem xs={12}>\n                <Box m={0} pt={2}>\n                  <FormControl component=\"fieldset\" fullWidth>\n                    <FormLabel component=\"legend\">{texts.modules}</FormLabel>\n                    <FormGroup>\n                      <Grid container>\n                        {\n                          modules.map(module => {\n                            let checked;\n                            if (request.modules.has(module.value)) {\n                              checked = request.modules.get(module.value);\n                            } else {\n                              checked = false;\n                            }\n                            return (\n                              <GridItem xs={12} sm={6} md={4} key={module.value}>\n                                <FormControlLabel\n                                  control={<Checkbox checked={checked} onChange={handleCheckedGroupChanged('modules', module.value)} value={module.value} />}\n                                  label={module.label}\n                                />\n                              </GridItem>\n                            );\n                          })\n                        }\n                      </Grid>\n                    </FormGroup>\n                  </FormControl>\n                </Box>\n              </GridItem>\n              {ciOptions}\n            </SingleRow>\n          )\n\n        } else {\n          moduleOption = <GridItem />;\n        }\n\n        const priorityOptions = [\n          {\n            value: 'high',\n            label: texts.cpuPriorityHigh,\n          },\n          {\n            value: 'medium',\n            label: texts.cpuPriorityMedium,\n          },\n          {\n            value: 'low',\n            label: texts.cpuPriorityLow,\n          },\n        ]\n\n        const maxIOPS = 2000;\n        const iopsAchor = [0, maxIOPS / 2, maxIOPS];\n        let iopsMarks = [];\n        iopsAchor.forEach(value => {\n          iopsMarks.push({\n            value: value,\n            label: value.toString(),\n          })\n        });\n\n        const maxBandwidth = 20;\n        const bandwidthAchor = [0, maxBandwidth / 2, maxBandwidth];\n        let bandwidthMarks = [];\n        bandwidthAchor.forEach(value => {\n          bandwidthMarks.push({\n            value: value,\n            label: 0 === value ? texts.noLimit : value.toString() + ' Mbit/s',\n          })\n        });\n\n        let iopsLabel, inboundLabel, outboundLabel;\n        if (0 === request.iops) {\n          iopsLabel = texts.iops + ' - ' + texts.noLimit;\n        } else {\n          if ('cn' === lang) {\n            iopsLabel = texts.iops + ' - ' + request.iops + '次请求/秒';\n          } else {\n            iopsLabel = texts.iops + ' - ' + request.iops + ' Operates/Second';\n          }\n        }\n        if (0 === request.inbound) {\n          inboundLabel = texts.inbound + ' - ' + texts.noLimit;\n        } else {\n          inboundLabel = texts.inbound + ' - ' + request.inbound + ' Mbit/s';\n        }\n        if (0 === request.outbound) {\n          outboundLabel = texts.outbound + ' - ' + texts.noLimit;\n        } else {\n          outboundLabel = texts.outbound + ' - ' + request.outbound + ' Mbit/s';\n        }\n\n        const qosComponents = [\n          {\n            type: \"radio\",\n            label: texts.cpuPriority,\n            onChange: handleRequestPropsChanged('priority'),\n            value: request.priority,\n            oneRow: true,\n            options: priorityOptions,\n            xs: 12,\n          },\n          {\n            type: 'slider',\n            label: iopsLabel,\n            onChange: handleSliderValueChanged('iops'),\n            value: request.iops,\n            oneRow: true,\n            maxStep: maxIOPS,\n            minStep: 0,\n            step: 10,\n            marks: iopsMarks,\n            xs: 12,\n          },\n          {\n            type: 'slider',\n            label: inboundLabel,\n            onChange: handleSliderValueChanged('inbound'),\n            value: request.inbound,\n            oneRow: true,\n            maxStep: maxBandwidth,\n            minStep: 0,\n            step: 2,\n            marks: bandwidthMarks,\n            xs: 12,\n          },\n          {\n            type: 'slider',\n            label: outboundLabel,\n            onChange: handleSliderValueChanged('outbound'),\n            value: request.outbound,\n            oneRow: true,\n            maxStep: maxBandwidth,\n            minStep: 0,\n            step: 2,\n            marks: bandwidthMarks,\n            xs: 12,\n          },\n        ];\n\n        content = (\n          <Grid container>\n            <SingleRow>\n              <GridItem xs={12}>\n                <Box m={0} pt={2}>\n                  <FormControl component=\"fieldset\" fullWidth>\n                    <FormLabel component=\"legend\">{texts.rule}</FormLabel>\n                    <RadioGroup aria-label={texts.rule} name=\"rule\" value={request.rule} onChange={handleRequestPropsChanged('rule')} row>\n                      <Box display='flex'>\n                        <Box>\n                          <FormControlLabel value={RuleEmum.order} control={<Radio />} label={texts.ruleOrder} />\n                        </Box>\n                        <Box>\n                          <FormControlLabel value={RuleEmum.MAC} control={<Radio disabled />} label={texts.ruleMAC} />\n                        </Box>\n                        <Box>\n                          <FormControlLabel value={RuleEmum.address} control={<Radio disabled />} label={texts.ruleAddress} />\n                        </Box>\n                      </Box>\n                    </RadioGroup>\n                  </FormControl>\n                </Box>\n              </GridItem>\n            </SingleRow>\n            <SingleRow>\n              <GridItem xs={6}>\n                <Box m={0} pt={2}>\n                  <FormLabel component=\"legend\">{texts.count}</FormLabel>\n                  <Slider\n                    color=\"secondary\"\n                    value={request.count}\n                    max={20}\n                    min={1}\n                    step={1}\n                    valueLabelDisplay=\"auto\"\n                    marks={[{ value: 1, label: '1' }, { value: 10, label: '10' }, { value: 20, label: '20' }]}\n                    onChange={handleSliderValueChanged('count')}\n                  />\n                </Box>\n              </GridItem>\n            </SingleRow>\n            <SingleRow>\n              <GridItem xs={12} sm={6} md={4}>\n                <Box m={0} pt={2}>\n                  <TextField\n                    label={texts.prefix}\n                    onChange={handleRequestPropsChanged('prefix')}\n                    value={request.prefix}\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                  />\n                </Box>\n              </GridItem>\n            </SingleRow>\n            <SingleRow>\n              <GridItem xs={10} sm={4} md={3}>\n                <Box m={0} pt={2}>\n                  <InputLabel htmlFor=\"pool\">{texts.resourcePool}</InputLabel>\n                  <Select\n                    value={request.pool}\n                    onChange={handleRequestPropsChanged('pool')}\n                    inputProps={{\n                      name: 'pool',\n                      id: 'pool',\n                    }}\n                    required\n                    fullWidth\n                  >\n                    {\n                      options.pools.map((option, key) => (\n                        <MenuItem value={option.value} key={key}>{option.label}</MenuItem>\n                      ))\n                    }\n                  </Select>\n                </Box>\n              </GridItem>\n            </SingleRow>\n            <SingleRow>\n              <GridItem xs={12}>\n                <Box m={0} pt={2}>\n                  <FormControl component=\"fieldset\" fullWidth>\n                    <InputComponent {...coreComponent} />\n                  </FormControl>\n                </Box>\n              </GridItem>\n              <GridItem xs={12}>\n                <Box m={0} pt={2}>\n                  <FormControl component=\"fieldset\" fullWidth>\n                    <InputComponent {...memoryComponent} />\n                  </FormControl>\n                </Box>\n              </GridItem>\n            </SingleRow>\n\n            <SingleRow>\n              <GridItem xs={12} sm={6} md={4}>\n                <Box m={0} pt={2}>\n                  <FormLabel component=\"legend\">{systemDiskLabel}</FormLabel>\n                  {systemDiskSlider}\n                </Box>\n              </GridItem>\n            </SingleRow>\n            <SingleRow>\n              <GridItem xs={12} sm={6} md={4}>\n                <Box m={0} pt={2}>\n                  <FormLabel component=\"legend\">{dataDiskLabel}</FormLabel>\n                  {dataDiskSlider}\n                </Box>\n              </GridItem>\n            </SingleRow>\n            <SingleRow>\n              <GridItem xs={10} sm={6} md={5}>\n                <Box m={0} pb={2}>\n                  <InputLabel htmlFor=\"image\">{texts.sourceImage}</InputLabel>\n                  <Select\n                    value={request.from_image}\n                    onChange={handleRequestPropsChanged('from_image')}\n                    inputProps={{\n                      name: 'image',\n                      id: 'image',\n                    }}\n                    fullWidth\n                  >\n                    {\n                      options.images.map((option, key) => (\n                        <MenuItem value={option.value} key={key}>{option.label}</MenuItem>\n                      ))\n                    }\n                  </Select>\n                </Box>\n              </GridItem>\n            </SingleRow>\n            <SingleRow>\n              <GridItem xs={10} sm={5} md={4}>\n                <Box m={0} pb={2}>\n                  <InputLabel htmlFor=\"version\">{texts.systemVersion}</InputLabel>\n                  <Select\n                    value={request.system_template}\n                    onChange={handleRequestPropsChanged('system_template')}\n                    inputProps={{\n                      name: 'version',\n                      id: 'version',\n                    }}\n                    fullWidth\n                  >\n                    {\n                      options.versions.map((option, key) => (\n                        <MenuItem value={option.value} key={key}>{option.label}</MenuItem>\n                      ))\n                    }\n                  </Select>\n                </Box>\n              </GridItem>\n            </SingleRow>\n            <SingleRow>\n              <GridItem xs={8} sm={6} md={4}>\n                <Box m={0} pb={2}>\n                  <InputLabel htmlFor=\"auto_start\">{texts.autoStartup}</InputLabel>\n\n                  {texts.off}\n                  <Switch\n                    checked={request.failover}\n                    onChange={handleCheckedValueChanged('auto_start')}\n                    color=\"primary\"\n                    inputProps={{\n                      name: 'auto_start',\n                      id: 'auto_start',\n                    }}\n                  />\n                  {texts.on}\n\n                </Box>\n              </GridItem>\n            </SingleRow>\n            {moduleOption}\n            <SingleRow>\n              <GridItem xs={12} sm={9} md={7}>\n                <Box m={0} pb={2}>\n                  <Accordion>\n                    <AccordionSummary\n                      expandIcon={<ExpandMoreIcon />}\n                    >\n                      {texts.qos}\n                    </AccordionSummary>\n                    <AccordionDetails>\n                      <Box m={1} pt={2}>\n                        <InputList inputs={qosComponents} />\n                      </Box>\n                    </AccordionDetails>\n                  </Accordion>\n                </Box>\n              </GridItem>\n            </SingleRow>\n          </Grid>\n        );\n    }\n  }\n  return <CustomDialog size='md' open={open} prompt={prompt} promptPosition=\"top\"\n    hideBackdrop title={title} buttons={buttons} content={content} operatable={operatable} />;\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport PlaylistAddIcon from '@material-ui/icons/PlaylistAdd';\nimport ListIcon from '@material-ui/icons/List';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport OperableTable from \"components/Table/OperableTable.js\";\n\nimport InstanceRow from \"views/Instances/InstanceRow.js\";\nimport DeleteDialog from \"views/Instances/DeleteDialog.js\";\nimport CreateDialog from \"views/Instances/CreateDialog.js\";\nimport StartWithMediaDialog from \"views/Instances/StartWithMediaDialog.js\";\nimport InsertMediaDialog from \"views/Instances/InsertMediaDialog.js\";\nimport BuildImageDialog from \"views/Instances/BuildImageDialog.js\";\nimport ResetSystemDialog from \"views/Instances/ResetSystemDialog.js\";\nimport MigrateInstanceDialog from \"views/Instances/MigrateInstanceDialog.js\";\nimport BatchStopDialog from \"views/Instances/BatchStopDialog\";\nimport BatchDeleteDialog from \"views/Instances/BatchDeleteDialog\";\nimport BatchCreateDialog from \"views/Instances/BatchCreateDialog\";\n\n// import DetailDialog from \"views/Instances/DetailDialog.js\";\nimport { getLoggedSession, logoutSession, redirectToLogin } from 'utils.js';\nimport { searchInstances, writeLog } from \"nano_api.js\";\nimport { useLocation } from \"react-router-dom\";\n\nconst styles = {\n  cardCategoryWhite: {\n    \"&,& a,& a:hover,& a:focus\": {\n      color: \"rgba(255,255,255,.62)\",\n      margin: \"0\",\n      fontSize: \"14px\",\n      marginTop: \"0\",\n      marginBottom: \"0\"\n    },\n    \"& a,& a:hover,& a:focus\": {\n      color: \"#FFFFFF\"\n    }\n  },\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    createButton: \"Create New Instance\",\n    batchCreate: 'Batch Create',\n    batchDelete: 'Batch Delete',\n    batchStop: 'Batch Stop',\n    enterBatch: 'Enter Batch Mode',\n    exitBatch: 'Exit Batch Mode',\n    tableTitle: \"Cloud Instances\",\n    name: \"Name\",\n    cell: \"Host Cell\",\n    address: \"Address\",\n    core: \"Core\",\n    memory: \"Memory\",\n    disk: \"Disk\",\n    status: \"Status\",\n    operates: \"Operates\",\n    noResource: \"No instances available\",\n    computePools: \"Compute Pools\",\n  },\n  'cn':{\n    createButton: \"创建云主机\",\n    batchCreate: '批量创建',\n    batchDelete: '批量删除',\n    batchStop: '批量停止',\n    enterBatch: '进入批量模式',\n    exitBatch: '退出批量模式',\n    tableTitle: \"云主机实例\",\n    name: \"名称\",\n    cell: \"承载节点\",\n    address: \"地址\",\n    core: \"核心\",\n    memory: \"内存\",\n    disk: \"磁盘\",\n    status: \"状态\",\n    operates: \"操作\",\n    noResource: \"没有云主机实例\",\n    computePools: \"计算资源池\",\n  }\n}\n\nexport default function InstancesInScope(props){\n    const classes = useStyles();\n    const [ instanceList, setInstanceList ] = React.useState(null);\n    const [ checkedMap, setCheckedMap ] = React.useState(new Map());\n    const [ batchMode, setBatchMode ] = React.useState(false);\n    const location = useLocation();\n    const queryParams = new URLSearchParams(location.search);\n    const poolName = queryParams.get(\"pool\");\n    const cellName = queryParams.get(\"cell\");\n\n    //for dialog\n    const [ createDialogVisible, setCreateDialogVisible ] = React.useState(false);\n    const [ deleteDialogVisible, setDeleteDialogVisible ] = React.useState(false);\n    const [ mediaStartDialogVisible, setMediaStartDialogVisible ] = React.useState(false);\n    const [ insertMediaDialogVisible, setInsertMediaDialogVisible ] = React.useState(false);\n    const [ resetSystemDialogVisible, setResetSystemDialogVisible ] = React.useState(false);\n    const [ buildImageDialogVisible, setBuildImageDialogVisible ] = React.useState(false);\n    const [ migrateDialogVisible, setMigrateDialogVisible ] = React.useState(false);\n    const [ batchStopDialogVisible, setBatchStopDialogVisible ] = React.useState(false);\n    const [ batchDeleteDialogVisible, setBatchDeleteDialogVisible ] = React.useState(false);\n    const [ batchCreateDialogVisible, setBatchCreateDialogVisible ] = React.useState(false);\n    const [ currentInstance, setCurrentInstance ] = React.useState('');\n    const [ sourcePool, setSourcePool ] = React.useState('');\n    const [ sourceCell, setSourceCell ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage]);\n\n    const showNotifyMessage = (msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    const reloadAllInstances = React.useCallback(() => {\n      const onLoadFail = (err) =>{\n        showErrorMessage(err);\n        logoutSession();\n      }\n      const onLoadSuccess = dataList => {\n        var updated = checkedMap;\n        var modified = false;\n        if (!dataList){\n          setInstanceList([]);\n          if (0 !== updated.size){\n            updated.clear();\n            modified = true;\n          }\n        }else{\n          setInstanceList(dataList);\n          var removeTargets = [];\n          updated.forEach((checked, id) =>{\n            if(!dataList.some(instance => instance.id === id)){\n              //not exists\n              removeTargets.push(id);\n            }\n          });\n          dataList.forEach(instance =>{\n            const instanceID = instance.id;\n            if (!updated.has(instanceID)){\n              //new entry\n              updated.set(instanceID, false);\n              if(!modified){\n                modified = true;\n              }\n            }\n          })\n          if (0 !== removeTargets.length){\n            removeTargets.forEach(id =>{\n              updated.delete(id);\n              if(!modified){\n                modified = true;\n              }\n            })\n          }\n        }\n        if(modified){\n          setCheckedMap(new Map(updated));\n        }\n      }\n      searchInstances(poolName, cellName, onLoadSuccess, onLoadFail);\n    }, [poolName, cellName, checkedMap, showErrorMessage]);\n\n    //delete\n    const showDeleteDialog = (instanceID) =>{\n      setDeleteDialogVisible(true);\n      setCurrentInstance(instanceID);\n    }\n\n    const closeDeleteDialog = () =>{\n      setDeleteDialogVisible(false);\n    }\n\n    const onDeleteSuccess = (instanceID) =>{\n      closeDeleteDialog();\n      showNotifyMessage('instance ' + instanceID + ' deleted');\n      reloadAllInstances();\n    };\n\n    //start with media\n    const showMediaStartDialog = (instanceID) =>{\n      setMediaStartDialogVisible(true);\n      setCurrentInstance(instanceID);\n    }\n\n    const closeMediaStartDialog = () =>{\n      setMediaStartDialogVisible(false);\n    }\n\n    const onMediaStartSuccess = (instanceID) =>{\n      closeMediaStartDialog();\n      showNotifyMessage('instance ' + instanceID + ' started with media');\n      reloadAllInstances();\n    };\n\n    //insert media\n    const showInsertMediaDialog = (instanceID) =>{\n      setInsertMediaDialogVisible(true);\n      setCurrentInstance(instanceID);\n    }\n\n    const closeInsertMediaDialog = () =>{\n      setInsertMediaDialogVisible(false);\n    }\n\n    const onInsertMediaSuccess = (instanceID) =>{\n      closeInsertMediaDialog();\n      showNotifyMessage('instance ' + instanceID + ' started with media');\n      reloadAllInstances();\n    };\n\n    //reset system\n    const showResetSystemDialog = (instanceID) =>{\n      setResetSystemDialogVisible(true);\n      setCurrentInstance(instanceID);\n    }\n\n    const closeResetSystemDialog = () =>{\n      setResetSystemDialogVisible(false);\n    }\n\n    const onResetSystemSuccess = (instanceID) =>{\n      closeResetSystemDialog();\n      showNotifyMessage('guest system of ' + instanceID + ' reset');\n    };\n\n    //build image\n    const showBuildImageDialog = (instanceID) =>{\n      setBuildImageDialogVisible(true);\n      setCurrentInstance(instanceID);\n    }\n\n    const closeBuildImageDialog = () =>{\n      setBuildImageDialogVisible(false);\n    }\n\n    const onBuildImageSuccess = (imageName) =>{\n      closeBuildImageDialog();\n      showNotifyMessage('new image ' + imageName + ' created from ' + currentInstance);\n    };\n\n    //migrate instance\n    const showMigrateDialog = (instanceID, pool, cell) =>{\n      setMigrateDialogVisible(true);\n      setCurrentInstance(instanceID);\n      setSourcePool(pool);\n      setSourceCell(cell);\n    }\n\n    const closeMigrateDialog = () =>{\n      setMigrateDialogVisible(false);\n    }\n\n    const onMigrateSuccess = (instanceID) =>{\n      closeMigrateDialog();\n      showNotifyMessage('instance ' + instanceID + ' migrated');\n      reloadAllInstances();\n    };\n\n    //create\n    const showCreateDialog = () =>{\n      setCreateDialogVisible(true);\n    };\n\n    const closeCreateDialog = () =>{\n      setCreateDialogVisible(false);\n    }\n\n    const onCreateSuccess = (id) =>{\n      closeCreateDialog();\n      showNotifyMessage('new instance ' + id + ' created');\n      reloadAllInstances();\n    };\n\n    //batch stopping\n    const showBatchStopDialog = () =>{\n      setBatchStopDialogVisible(true);\n    };\n\n    const closeBatchStopDialog = () =>{\n      setBatchStopDialogVisible(false);\n    }\n\n    const onBatchStopSuccess = () =>{\n      closeBatchStopDialog();\n      reloadAllInstances();\n    };\n\n    //batch deleting\n    const showBatchDeleteDialog = () =>{\n      setBatchDeleteDialogVisible(true);\n    };\n\n    const closeBatchDeleteDialog = () =>{\n      setBatchDeleteDialogVisible(false);\n    }\n\n    const onBatchDeleteSuccess = () =>{\n      closeBatchDeleteDialog();\n      reloadAllInstances();\n    };\n\n    //batch creating\n    const showBatchCreateDialog = () =>{\n      setBatchCreateDialogVisible(true);\n    };\n\n    const closeBatchCreateDialog = () =>{\n      setBatchCreateDialogVisible(false);\n    }\n\n    const onBatchCreateSuccess = () =>{\n      closeBatchCreateDialog();\n      reloadAllInstances();\n    };\n\n    const onStatusChange = () =>{\n      reloadAllInstances();\n    }\n\n    const enterBatchMode = () => {\n      var updated = new Map();\n      //uncheck all\n      for(var instanceID of checkedMap.keys()){\n        updated.set(instanceID, false);\n      }\n      setCheckedMap(updated);\n      setBatchMode(true);\n    }\n\n    const exitBatchMode = () => {\n      setBatchMode(false);\n    }\n    const handleInstanceChecked = (checked, instanceID) =>{\n      var checkedStatus = new Map(checkedMap);\n      checkedStatus.set(instanceID, checked);\n      setCheckedMap(checkedStatus);\n    }\n\n    const handleAllClicked = e =>{\n      const checked = e.target.checked;\n      var updated = new Map();\n      for(var instanceID of checkedMap.keys()){\n        updated.set(instanceID, checked);\n      }\n      setCheckedMap(updated);\n    }\n\n    React.useEffect(() =>{\n      var mounted = true\n      reloadAllInstances();\n      const updateInterval = 5 * 1000;\n      var timerID = setInterval(()=>{\n        if (mounted){\n          reloadAllInstances();\n        }\n      }, updateInterval);\n      return () =>{\n        mounted = false;\n        clearInterval(timerID);\n      }\n    }, [reloadAllInstances]);\n\n    if (!poolName){\n      console.log('pool name omit');\n      return redirectToLogin();\n    }\n\n    //reder begin\n    var session = getLoggedSession();\n    if (null === session){\n      return redirectToLogin();\n    }\n\n    const { lang } = props;\n    const texts = i18n[lang];\n    let content;\n    if (null === instanceList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === instanceList.length){\n      content = <Box textAlign=\"center\"><Info>{texts.noResource}</Info></Box>;\n    }else{\n      let nameHeader;\n      if(batchMode){\n        nameHeader = (\n          <Box display='flex' alignItems=\"center\">\n            <Box>\n              <Checkbox\n                onChange={handleAllClicked}\n                />\n            </Box>\n            <Box>\n              {texts.name}\n            </Box>\n          </Box>\n        );\n      }else{\n        nameHeader = texts.name;\n      }\n      content = (\n        <OperableTable\n          color=\"primary\"\n          headers={[nameHeader, texts.cell, texts.address, texts.core, texts.memory, texts.disk, texts.status, texts.operates]}\n          rows={\n            instanceList.map(instance =>{\n              const instanceID = instance.id;\n              return (\n                <InstanceRow\n                  key={instance.id}\n                  instance={instance}\n                  lang={lang}\n                  checked={checkedMap && checkedMap.has(instanceID) ? checkedMap.get(instanceID): false}\n                  checkable={batchMode}\n                  onCheckStatusChanged={handleInstanceChecked}\n                  onNotify={showNotifyMessage}\n                  onError={showErrorMessage}\n                  onDelete={showDeleteDialog}\n                  onMediaStart={showMediaStartDialog}\n                  onInsertMedia={showInsertMediaDialog}\n                  onResetSystem={showResetSystemDialog}\n                  onBuildImage={showBuildImageDialog}\n                  onStatusChange={onStatusChange}\n                  onMigrateInstance={showMigrateDialog}\n                  />\n              )\n            })}\n          />\n      );\n    }\n\n    var breadcrumbs = [<Link to='/admin/compute_pools/' key={texts.computePools}>{texts.computePools}</Link>];\n    if(cellName){\n      breadcrumbs.push(<Link to={'/admin/instances/range/?pool=' + poolName} key={poolName}>{poolName}</Link>);\n      breadcrumbs.push(<Typography color=\"textPrimary\" key={cellName}>{cellName}</Typography>);\n    }else{\n      breadcrumbs.push(<Typography color=\"textPrimary\" key={poolName}>{poolName}</Typography>);\n    }\n\n    var buttonProperties = [\n      {\n        label: texts.createButton,\n        icon: AddIcon,\n        color: \"info\",\n        onClick: showCreateDialog,\n      },\n      {\n        label: texts.batchCreate,\n        icon: PlaylistAddIcon,\n        color: \"info\",\n        onClick: showBatchCreateDialog,\n      }\n    ];\n    if (batchMode){\n      buttonProperties.push(\n        {\n          label: texts.batchDelete,\n          icon: DeleteIcon,\n          color: \"danger\",\n          onClick: showBatchDeleteDialog,\n        },\n        {\n          label: texts.batchStop,\n          icon: PowerSettingsNewIcon,\n          color: \"info\",\n          onClick: showBatchStopDialog,\n        },\n        {\n          label: texts.exitBatch,\n          icon: ExitToAppIcon,\n          color: \"success\",\n          onClick: exitBatchMode,\n        },\n      );\n    }else{\n      buttonProperties.push(\n        {\n          label: texts.enterBatch,\n          icon: ListIcon,\n          color: \"info\",\n          onClick: enterBatchMode,\n        }\n      );\n    }\n\n    var batchTargets = [];\n    if(checkedMap){\n      checkedMap.forEach((checked, id) =>{\n        if(checked){\n          batchTargets.push(id);\n        }\n      });\n      batchTargets.sort();\n    }\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\">\n            {breadcrumbs}\n          </Breadcrumbs>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n          <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box display='flex'>\n            {\n              buttonProperties.map(({label, color, icon, onClick}, key) =>(\n                <Box key={key} m={1}>\n                  <Button size=\"sm\" color={color} round onClick={onClick}>\n                    {React.createElement(icon)}\n                    {label}\n                  </Button>\n                </Box>\n              ))\n            }\n          </Box>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              <h4 className={classes.cardTitleWhite}>{texts.tableTitle}</h4>\n            </CardHeader>\n            <CardBody>\n              {content}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <CreateDialog\n            lang={lang}\n            open={createDialogVisible}\n            onSuccess={onCreateSuccess}\n            onCancel={closeCreateDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <DeleteDialog\n            lang={lang}\n            instanceID={currentInstance}\n            open={deleteDialogVisible}\n            onSuccess={onDeleteSuccess}\n            onCancel={closeDeleteDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <StartWithMediaDialog\n            lang={lang}\n            instanceID={currentInstance}\n            open={mediaStartDialogVisible}\n            onSuccess={onMediaStartSuccess}\n            onCancel={closeMediaStartDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <InsertMediaDialog\n            lang={lang}\n            instanceID={currentInstance}\n            open={insertMediaDialogVisible}\n            onSuccess={onInsertMediaSuccess}\n            onCancel={closeInsertMediaDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ResetSystemDialog\n            lang={lang}\n            instanceID={currentInstance}\n            open={resetSystemDialogVisible}\n            onSuccess={onResetSystemSuccess}\n            onCancel={closeResetSystemDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <BuildImageDialog\n            lang={lang}\n            instanceID={currentInstance}\n            open={buildImageDialogVisible}\n            onSuccess={onBuildImageSuccess}\n            onCancel={closeBuildImageDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <MigrateInstanceDialog\n            lang={lang}\n            instanceID={currentInstance}\n            sourcePool={sourcePool}\n            sourceCell={sourceCell}\n            open={migrateDialogVisible}\n            onSuccess={onMigrateSuccess}\n            onCancel={closeMigrateDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <BatchStopDialog\n            lang={lang}\n            open={batchStopDialogVisible}\n            targets={batchStopDialogVisible? batchTargets : []}\n            onSuccess={onBatchStopSuccess}\n            onCancel={closeBatchStopDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <BatchDeleteDialog\n            lang={lang}\n            open={batchDeleteDialogVisible}\n            targets={batchDeleteDialogVisible? batchTargets : []}\n            onSuccess={onBatchDeleteSuccess}\n            onCancel={closeBatchDeleteDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <BatchCreateDialog\n            lang={lang}\n            open={batchCreateDialogVisible}\n            onSuccess={onBatchCreateSuccess}\n            onCancel={closeBatchCreateDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Box from '@material-ui/core/Box';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport StopIcon from '@material-ui/icons/Stop';\nimport AllInclusiveIcon from '@material-ui/icons/AllInclusive';\nimport AlbumIcon from '@material-ui/icons/Album';\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport LineChart from \"views/Dashboard/LineChart.js\";\nimport StackedBarChart from \"views/Dashboard/StackedBarChart.js\";\nimport MultiBarChart from \"views/Dashboard/MultiBarChart.js\";\nimport dashboardStyles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\nimport fontStyles from \"assets/jss/material-dashboard-react/components/typographyStyle.js\";\n\nimport { truncateToRadix, bytesToString } from 'utils.js';\nimport { getInstanceStatus, getInstanceConfig } from \"nano_api.js\";\n\nimport {\n  primaryColor,\n  infoColor,\n  successColor,\n  warningColor,\n  grayColor,\n  whiteColor,\n  roseColor,\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst i18n = {\n  'en':{\n    title: 'Instance',\n    cores: 'Cores',\n    memory: 'Memory',\n    disks: 'Disk',\n    autoStartup: 'Auto Startup',\n    internalAddress: 'Internal Address',\n    externalAddress: 'External Address',\n    ioUsage: 'IO Usage',\n    stopped: 'Stopped ',\n    running: 'Running ',\n    used: 'Used ',\n    available: 'Available ',\n    coresUsed: 'Cores Used',\n    throughput: 'Throughput',\n    receive: 'Receive ',\n    send: 'Send ',\n    write: 'Write ',\n    read: 'Read ',\n    flags: 'Running Flags',\n    mediaAttached: 'Media Attached',\n  },\n  'cn':{\n    title: '云主机',\n    cores: '核心数',\n    memory: '内存',\n    disks: '磁盘',\n    autoStartup: '开机启动',\n    internalAddress: '内部地址',\n    externalAddress: '外部地址',\n    ioUsage: 'IO吞吐量',\n    stopped: '停止',\n    running: '运行',\n    used: '已用',\n    available: '可用',\n    coresUsed: '核心已占用',\n    throughput: '吞吐量',\n    receive: '接收',\n    send: '发送',\n    write: '写入',\n    read: '读取',\n    flags: '运行标志',\n    mediaAttached: '已挂载媒体',\n  }\n}\n\nconst shadowChartPanel = {\n  borderRadius: \"3px\",\n  marginTop: \"-20px\",\n  // marginLeft: \"10px\",\n  // marginRight: \"10px\",\n  padding: \"15px\",\n};\n\nconst styles = {\n  ...dashboardStyles,\n  ...fontStyles,\n  cardWithDivider: {\n    borderTop: \"1px solid \" + grayColor[10],\n  },\n  coresChart: {\n    ...shadowChartPanel,\n    background: successColor[0],\n  },\n  memoryChart: {\n    ...shadowChartPanel,\n    background: infoColor[0],\n  },\n  networkChart: {\n    ...shadowChartPanel,\n    background: warningColor[0],\n  },\n  diskChart: {\n    ...shadowChartPanel,\n    background: roseColor[0],\n  },\n  disableChart: {\n    ...shadowChartPanel,\n    background: grayColor[5],\n  }\n}\n\nconst useStyles = makeStyles(styles);\n\nconst SingleInstanceStatus = props => {\n  const { lang, status } = props;\n  const classes = useStyles();\n  const texts = i18n[lang];\n  let title;\n  if (!status.running){\n    title = (\n      <Typography component='span' className={classes.cardTitle}>\n        <StopIcon className={classes.mutedText}/>\n        {texts.title + ': ' + status.name + ' ( ' + texts.stopped + ' )'}\n      </Typography>\n    )\n  }else{\n    //online\n    title = (\n      <Typography component='span' className={classes.cardTitle}>\n        <PlayArrowIcon className={classes.successText}/>\n        {texts.title + ': ' + status.name + ' ( ' + texts.running + ' )'}\n      </Typography>\n    );\n  }\n\n  let content, dataLabels;\n  if (!status.running){\n    content = new Array(4).fill(\n      <GridItem xs={8} sm={6} md={3}>\n        <Box m={0} p={0} className={classes.disableChart} boxShadow={2}>\n        </Box>\n      </GridItem>\n    );\n    dataLabels = [];\n  }else{\n    const MiB = 1 << 20;\n\n    //core usage\n    var usedCores = {\n      label: texts.coresUsed,\n      color: whiteColor,\n      data: [],\n    }\n\n    var maxCores = 0;\n    status.coreRecords.forEach( data =>{\n      usedCores.data.push(data.current);\n      maxCores = Math.max(maxCores, data.max);\n    })\n\n    const coresChart = (\n      <GridItem xs={8} sm={6} md={3} key='cores-usage'>\n        <Box m={0} p={0} className={classes.coresChart} boxShadow={2}>\n          <LineChart\n            series={[usedCores]}\n            minTickStep={1}\n            maxValue={100}\n            maxTicks={5}\n            displayValue={tick => tick.toString() + '%'}\n            />\n        </Box>\n      </GridItem>\n    )\n    //memory\n    var usedMemory = {\n      label: texts.used + texts.memory,\n      color: grayColor[4],\n      data: [],\n    };\n    var availableMemory = {\n      label: texts.available + texts.memory,\n      color: successColor[1],\n      data: [],\n    };\n    status.memoryRecords.forEach( data =>{\n      usedMemory.data.push(data.used);\n      availableMemory.data.push(data.available)\n    })\n    const memoryChart = (\n      <GridItem xs={8} sm={6} md={3} key='memory-usage'>\n        <Box m={0} p={0} className={classes.memoryChart} boxShadow={2}>\n          <StackedBarChart\n            series={[usedMemory, availableMemory]}\n            minTickStep={1 << 10}\n            displayValue={ mib => {\n              const GiB = 1 << 10;\n              if (0 === mib){\n                return '0';\n              }else if (mib >= GiB){\n                if (0 === mib % GiB){\n                  return (mib / GiB).toString() + ' GB';\n                }else{\n                  return (mib / GiB).toFixed(2) + ' GB';\n                }\n              }else {\n                return mib.toString() + ' MB';\n              }\n            }}\n            />\n        </Box>\n      </GridItem>\n    )\n    //network\n    var networkReceive = {\n      label: texts.receive + texts.throughput,\n      color: infoColor[3],\n      data: [],\n    };\n    var networkSend = {\n      label: texts.send + texts.throughput,\n      color: primaryColor[1],\n      data: [],\n    };\n    status.networkSpeed.forEach( data =>{\n      networkReceive.data.push(truncateToRadix(data.receive/ MiB, 2) );\n      networkSend.data.push(truncateToRadix(data.send/ MiB, 2));\n    })\n    const displaySpeedByMB = speed => {\n      const gb = 1 << 10;\n      if (speed >= gb){\n        if (0 === speed % gb){\n          return (speed / gb).toString() + ' GB/s';\n        }else{\n          return (speed / gb).toFixed(2) + ' GB/s';\n        }\n      }else{\n        if (Number.isInteger(speed)){\n          return speed.toString() + ' MB/s';\n        }else{\n          return speed.toFixed(2) + ' MB/s';\n        }\n      }\n    }\n    const networkSeries = [ networkReceive, networkSend ];\n    const networkChart = (\n      <GridItem xs={8} sm={6} md={3} key='network-usage'>\n        <Box m={0} p={0} className={classes.networkChart} boxShadow={2}>\n          <MultiBarChart\n            series={networkSeries}\n            displayValue={displaySpeedByMB}\n            minTickStep={1}\n            />\n        </Box>\n      </GridItem>\n    )\n    //disk IO\n    var diskWrite = {\n      label: texts.write + texts.throughput,\n      color: successColor[1],\n      data: [],\n    };\n    var diskRead = {\n      label: texts.read + texts.throughput,\n      color: infoColor[3],\n      data: [],\n    };\n    status.diskSpeed.forEach( data =>{\n      diskWrite.data.push(truncateToRadix(data.write / MiB, 2));\n      diskRead.data.push(truncateToRadix(data.read / MiB, 2));\n    })\n    const diskSeries = [ diskWrite, diskRead ];\n    const diskIOChart = (\n      <GridItem xs={8} sm={6} md={3} key='io-usage'>\n        <Box m={0} p={0} className={classes.diskChart} boxShadow={2}>\n          <MultiBarChart\n            series={diskSeries}\n            displayValue={displaySpeedByMB}\n            minTickStep={1}\n            />\n        </Box>\n      </GridItem>\n    )\n    content = [\n      coresChart,\n      memoryChart,\n      networkChart,\n      diskIOChart,\n    ];\n\n    const coreLabel = (\n      <Box m={1} p={2} key='core-label'>\n        <Typography component='span' className={classes.cardTitle}>\n          {texts.cores + ': '}\n        </Typography>\n        <Typography component='span'>\n          {status.cores}\n        </Typography>\n      </Box>\n    );\n    const memoryLabel = (\n      <Box m={1} p={2} key='memory-label'>\n        <Typography component='span' className={classes.cardTitle}>\n          {texts.memory + ': '}\n        </Typography>\n        <Typography component='span'>\n          {bytesToString(status.memory)}\n        </Typography>\n      </Box>\n    );\n\n    var sizeLabels = [];\n    status.disks.forEach(size =>{\n      sizeLabels.push(bytesToString(size));\n    });\n    const diskLabel = (\n      <Box m={1} p={2} key='disk-label'>\n        <Typography component='span' className={classes.cardTitle}>\n          {texts.disks + ': '}\n        </Typography>\n        <Typography component='span'>\n          {sizeLabels.join(' / ')}\n        </Typography>\n      </Box>\n    );\n\n    const internalLabel = (\n      <Box m={1} p={2} key='internal-label'>\n        <Typography component='span' className={classes.cardTitle}>\n          {texts.internalAddress + ': '}\n        </Typography>\n        <Typography component='span'>\n          {status.internal&&status.internal.network_address? status.internal.network_address:''}\n        </Typography>\n      </Box>\n    );\n\n    const externalLabel = (\n      <Box m={1} p={2} key='external-label'>\n        <Typography component='span' className={classes.cardTitle}>\n          {texts.externalAddress + ': '}\n        </Typography>\n        <Typography component='span'>\n          {status.external&&status.external.network_address? status.external.network_address:''}\n        </Typography>\n      </Box>\n    );\n\n    var flags = [];\n    if(status.auto_start){\n      flags.push(\n        <Tooltip\n          title={texts.autoStartup}\n          placement=\"top\"\n          key={texts.autoStartup}\n          >\n          <AllInclusiveIcon className={classes.infoText}/>\n        </Tooltip>\n      );\n    }\n    if(status.media_attached){\n      flags.push(\n        <Tooltip\n          title={texts.mediaAttached}\n          placement=\"top\"\n          key={texts.mediaAttached}\n          >\n          <AlbumIcon className={classes.infoText}/>\n        </Tooltip>\n      );\n    }\n    const flagLabel = (\n      <Box m={1} p={2} key='flag-label'>\n        <Typography component='span' className={classes.cardTitle}>\n          {texts.flags + ': '}\n        </Typography>\n        {flags}\n      </Box>\n    );\n\n    dataLabels = [\n      coreLabel,\n      memoryLabel,\n      diskLabel,\n      internalLabel,\n      externalLabel,\n      flagLabel,\n    ];\n  }\n\n  return (\n    <Card chart>\n      <CardHeader>\n        <GridContainer>\n          {content}\n        </GridContainer>\n      </CardHeader>\n      <CardBody>\n        {title}\n        <Box m={0} p={0} className={classes.cardWithDivider} display='flex' alignItems='center'>\n          {dataLabels}\n        </Box>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default function InstanceStatus(props) {\n  const CoreArraySize = 5;\n  const MemoryArraySize = 5;\n  const NetworkIOArraySize = 5;\n  const DiskIOArraySize = 5;\n  const IntervalInSecond = 2;\n  const instanceID = props.match.params.id;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ instance, setInstance ] = React.useState(null);\n  const [ notifyMessage, setNotifyMessage ] = React.useState('');\n\n  const closeNotify = React.useCallback(() => {\n    setNotifyMessage(\"\");\n  }, [setNotifyMessage]);\n\n  const showErrorMessage = React.useCallback((msg) => {\n    if (!mounted){\n      return;\n    }\n    const notifyDuration = 3000;\n    setNotifyMessage(msg);\n    setTimeout(closeNotify, notifyDuration);\n  }, [setNotifyMessage, closeNotify, mounted]);\n\n  React.useEffect(() =>{\n    setMounted(true)\n\n    var coreRecords = new Array(CoreArraySize).fill({\n      current: 0,\n      max: 0,\n    });\n    var memoryRecords = new Array(MemoryArraySize).fill({\n      available: 0,\n      used: 0,\n    });\n    var networkRecords = new Array(NetworkIOArraySize).fill({\n      receive: 0,\n      send: 0,\n    });\n    var diskRecords = new Array(DiskIOArraySize).fill({\n      write: 0,\n      read: 0,\n    });\n\n    var networkSpeed = new Array(NetworkIOArraySize).fill({\n      receive: 0,\n      send: 0,\n    });\n    var diskSpeed = new Array(DiskIOArraySize).fill({\n      write: 0,\n      read: 0,\n    });\n\n    var speedReady = false;\n    let timerID, poolName, cellName;\n    const onGetStatusSuccess = status => {\n      if (!mounted){\n        return;\n      }\n      const MiB = 1 << 20;\n      coreRecords.shift();\n      coreRecords.push({\n        current: truncateToRadix(status.cpu_usage, 2),\n        max: status.cores,\n      });\n      let usedMemory, availableMemory;\n      if (status.memory_available > status.memory){\n        showErrorMessage(\"abnormal available memory, \" + status.memory_available + \" > allocated \" +  status.memory);\n        availableMemory = status.memory;\n        usedMemory = 0;\n      }else{\n        availableMemory = status.memory_available;\n        usedMemory = status.memory - status.memory_available;\n      }\n      memoryRecords.shift();\n      memoryRecords.push({\n        available: truncateToRadix(availableMemory/MiB, 2),\n        used: truncateToRadix( usedMemory/MiB, 2),\n      });\n      networkRecords.shift();\n      networkRecords.push({\n        receive: status.bytes_received,\n        send: status.bytes_sent,\n      });\n      diskRecords.shift();\n      diskRecords.push({\n        write: status.bytes_written,\n        read: status.bytes_read,\n      });\n\n      if(!speedReady){\n        speedReady = true;\n      }else{\n        const receiveSpeed = (networkRecords[networkRecords.length - 1].receive - networkRecords[networkRecords.length - 2].receive) / IntervalInSecond;\n        const sendSpeed = (networkRecords[networkRecords.length - 1].send - networkRecords[networkRecords.length - 2].send) / IntervalInSecond;\n        const writeSpeed = (diskRecords[diskRecords.length - 1].write - diskRecords[diskRecords.length - 2].write) / IntervalInSecond;\n        const readSpeed = (diskRecords[diskRecords.length - 1].read - diskRecords[diskRecords.length - 2].read) / IntervalInSecond;\n        networkSpeed.shift();\n        networkSpeed.push({\n          receive: receiveSpeed,\n          send: sendSpeed,\n        });\n        diskSpeed.shift();\n        diskSpeed.push({\n          write: writeSpeed,\n          read: readSpeed,\n        });\n      }\n\n      const updated = {\n        ...status,\n        pool: poolName,\n        cell: cellName,\n        coreRecords: coreRecords,\n        memoryRecords: memoryRecords,\n        networkRecords: networkRecords,\n        diskRecords: diskRecords,\n        networkSpeed: networkSpeed,\n        diskSpeed: diskSpeed,\n      };\n      setInstance(updated);\n      setInitialed(true);\n    }\n\n    const onGetConfigSuccess = config =>{\n      if (!mounted){\n        return;\n      }\n      poolName = config.pool;\n      cellName = config.cell;\n\n      getInstanceStatus(instanceID, onGetStatusSuccess, showErrorMessage);\n\n      const updateInterval = IntervalInSecond * 1000;\n      timerID = setInterval(()=>{\n        if (!mounted){\n          return;\n        }\n        getInstanceStatus(instanceID, onGetStatusSuccess, showErrorMessage);\n      }, updateInterval);\n    }\n\n    //get config\n    getInstanceConfig(instanceID, onGetConfigSuccess, showErrorMessage)\n\n    return () =>{\n      setMounted(false);\n      if(timerID){\n          clearInterval(timerID);\n      }\n    }\n  }, [instanceID, showErrorMessage, mounted, initialed]);\n\n  let content, headers;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    headers = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    content = (\n      <GridItem xs={12}>\n        <SingleInstanceStatus status={instance} lang={props.lang}/>\n      </GridItem>\n    );\n    // content = <div/>;\n    const breadcrumbs = [\n      <Link to={'/admin/instances/range/?pool=' + instance.pool} key={instance.pool}>{instance.pool}</Link>,\n      <Link to={'/admin/instances/range/?pool=' + instance.pool + '&cell=' + instance.cell} key={instance.cell}>{instance.cell}</Link>,\n      <Typography color=\"textPrimary\" key={instance.name}>{instance.name}</Typography>,\n    ];\n    headers = (\n      <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\">\n        {breadcrumbs}\n      </Breadcrumbs>\n    )\n  }\n\n  return (\n      <GridContainer>\n        <GridItem xs={12}>\n          {headers}\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n            <Divider/>\n          </Box>\n        </GridItem>\n        {content}\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color=\"warning\"\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n      </GridContainer>\n  )\n}\n","import React from \"react\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { createInstanceSnapshot } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Create Snapshot',\n    name: \"Name\",\n    description: 'Description',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '创建云主机快照',\n    name: \"名称\",\n    description: '描述',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function CreateSnapshotDialog(props){\n  const defaultValues = {\n    name: '',\n    description: '',\n  };\n  const { lang, open, instanceID, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onCreateFail = (msg) =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onCreateSuccess = snapshotName =>{\n    setOperatable(true);\n    resetDialog();\n    onSuccess(snapshotName);\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    if(!request.name){\n      onCreateFail('must specify snapshot name');\n      return;\n    }\n    if(!request.description){\n      onCreateFail('must specify description');\n      return;\n    }\n\n    createInstanceSnapshot(instanceID, request.name, request.description, onCreateSuccess, onCreateFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const inputs = [\n    {\n      type: \"text\",\n      label: texts.name,\n      onChange: handleRequestPropsChanged('name'),\n      value: request.name,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 6,\n      md: 4,\n    },\n    {\n      type: \"text\",\n      label: texts.description,\n      onChange: handleRequestPropsChanged('description'),\n      value: request.description,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 10,\n      md: 8,\n    },\n  ]\n\n  const content = <InputList inputs={inputs}/>\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { deleteInstanceSnapshot } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Delete Snapshot',\n    content: 'Are you sure to delete snapshot ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除云主机快照',\n    content: '是否删除云主机快照 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function DeleteSnapshotDialog(props){\n  const { lang, instanceID, snapshotName, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const content = texts.content + snapshotName;\n  const onDeleteFail = (msg) =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onDeleteSuccess = () =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(snapshotName);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    deleteInstanceSnapshot(instanceID, snapshotName, onDeleteSuccess, onDeleteFail);\n  }\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { restoreInstanceSnapshot } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Revert Snapshot',\n    content: 'Are you sure to revert snapshot ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '恢复云主机快照',\n    content: '是否恢复云主机快照 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function RevertSnapshotDialog(props){\n  const { lang, instanceID, snapshotName, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const content = texts.content + snapshotName;\n  const onRevertFail = (msg) =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onRevertSuccess = () =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(snapshotName);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    restoreInstanceSnapshot(instanceID, snapshotName, onRevertSuccess, onRevertFail);\n  }\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport TreeView from '@material-ui/lab/TreeView';\nimport TreeItem from '@material-ui/lab/TreeItem';\nimport Divider from '@material-ui/core/Divider';\nimport AddIcon from '@material-ui/icons/Add';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport CameraAltIcon from '@material-ui/icons/CameraAlt';\nimport SubdirectoryArrowRightIcon from '@material-ui/icons/SubdirectoryArrowRight';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport DoubleArrowIcon from '@material-ui/icons/DoubleArrow';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport RestoreIcon from '@material-ui/icons/Restore';\nimport grey from '@material-ui/core/colors/grey';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport CreateSnapshotDialog from \"views/Instances/CreateSnapshotDialog.js\";\nimport DeleteSnapshotDialog from \"views/Instances/DeleteSnapshotDialog.js\";\nimport RevertSnapshotDialog from \"views/Instances/RevertSnapshotDialog.js\";\nimport { getLoggedSession, redirectToLogin } from 'utils.js';\nimport { getInstanceConfig, queryInstanceSnapshots, getInstanceSnapshot, writeLog } from \"nano_api.js\";\n\nconst styles = {\n  panel: {\n    background: grey[100],\n  }\n}\n\nconst i18n = {\n  'en':{\n    title: 'Snapshots of ',\n    noResource: 'No snapshots created',\n    back: 'Back',\n    create: 'Create New Snapshot',\n    delete: 'Delete',\n    revert: 'Revert',\n    current: 'Current',\n    name: 'Name',\n    description: 'Description',\n    createdTime: 'Created Time',\n    type: 'Type',\n    offline: 'Offline Snapshot',\n    realtime: 'Realtime Snapshot',\n  },\n  'cn':{\n    title: '云主机快照:',\n    noResource: '尚未创建云主机快照',\n    back: '返回',\n    create: '创建新快照',\n    delete: '删除',\n    revert: '恢复',\n    current: '当前',\n    name: '快照名称',\n    description: '描述',\n    createdTime: '创建时间',\n    type: '类型',\n    offline: '离线快照',\n    realtime: '实时快照',\n  }\n}\n\nexport default function Snapshots(props){\n    const useStyles = makeStyles(styles);\n    const classes = useStyles();\n    const instanceID = props.match.params.id;\n    const [ snapshots, setSnapshots ] = React.useState(null);\n    const [ selectedSnapshot, setSelectedSnapshot] = React.useState(null);\n\n    //for dialog\n    const [ createDialogVisible, setCreateDialogVisible ] = React.useState(false);\n    const [ deleteDialogVisible, setDeleteDialogVisible ] = React.useState(false);\n    const [ revertDialogVisible, setRevertDialogVisible ] = React.useState(false);\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage]);\n\n    const showNotifyMessage = (msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    const onFail = React.useCallback(msg =>{\n      showErrorMessage(msg);\n    }, [showErrorMessage]);\n\n    const buildChildrenNode = React.useCallback((parent, current, dependent) =>{\n      var nodes = [];\n      var children = dependent.get(parent);\n      children.forEach( name => {\n        var node = {\n          name: name,\n        }\n        if (current === name){\n          node.isCurrent = true;\n        }\n        if (dependent.has(name)){\n          node.children = buildChildrenNode(name, current, dependent);\n        }\n        nodes.push(node);\n      });\n      return nodes;\n    }, []);\n\n    const reloadSnapshots = React.useCallback(instanceName => {\n      const onQuerySnapshotSuccess = data =>{\n        var rootName = '';\n        var current = '';\n        var rootNode = {};\n\n        //convert object to Map\n        var snapshotMap = new Map();\n        Object.keys(data).forEach((key) =>{\n          snapshotMap.set(key, data[key]);\n        });\n        if (0 !== snapshotMap.length){\n          var dependentMap = new Map();\n          //build tree\n          snapshotMap.forEach( (snapshot, name) =>{\n            if (snapshot.is_root){\n              rootName = name;\n            }\n            if (snapshot.is_current){\n              current = name;\n            }\n            if (snapshot.backing){\n              var parentName = snapshot.backing;\n              if (dependentMap.has(parentName)){\n                dependentMap.get(parentName).push(name);\n              }else{\n                dependentMap.set(parentName, [name]);\n              }\n            }\n          });\n          if('' !== rootName){\n            rootNode.name = rootName;\n            if(rootName === current){\n              rootNode.isCurrent = true;\n            }\n            if(dependentMap.has(rootName)){\n              rootNode.children = buildChildrenNode(rootName, current, dependentMap);\n            }\n          }\n        }\n\n        if(instanceName){\n          setSnapshots({\n            name: instanceName,\n            rootName: rootName,\n            current: current,\n            rootNode: rootNode,\n          });\n        }else{\n          setSnapshots(previous =>({\n            ...previous,\n            rootName: rootName,\n            current: current,\n            rootNode: rootNode,\n          }));\n        }\n\n      }\n      queryInstanceSnapshots(instanceID, onQuerySnapshotSuccess, onFail);\n    }, [instanceID, onFail, buildChildrenNode]);\n\n    //create\n    const showCreateDialog = () =>{\n      setCreateDialogVisible(true);\n    };\n\n    const closeCreateDialog = () =>{\n      setCreateDialogVisible(false);\n    }\n\n    const onCreateSuccess = snapshotName =>{\n      closeCreateDialog();\n      showNotifyMessage('new snapshot '+ snapshotName + ' created for ' + snapshots.name);\n      reloadSnapshots();\n    };\n\n    //delete\n    const showDeleteDialog = () =>{\n      setDeleteDialogVisible(true);\n    };\n\n    const closeDeleteDialog = () =>{\n      setDeleteDialogVisible(false);\n    }\n\n    const onDeleteSuccess = snapshotName =>{\n      closeDeleteDialog();\n      showNotifyMessage('snapshot '+ snapshotName + ' deleted');\n      reloadSnapshots();\n    };\n\n    //revert\n    const showRevertDialog = () =>{\n      setRevertDialogVisible(true);\n    };\n\n    const closeRevertDialog = () =>{\n      setRevertDialogVisible(false);\n    }\n\n    const onRevertSuccess = snapshotName =>{\n      closeRevertDialog();\n      showNotifyMessage('restored to snapshot '+ snapshotName);\n      reloadSnapshots();\n    };\n\n    const onSelectSnapshot = name =>{\n      const onQuerySuccess = snapshot =>{\n        setSelectedSnapshot({\n          ...snapshot,\n          name: name,\n        });\n      }\n      getInstanceSnapshot(instanceID, name, onQuerySuccess, onFail);\n    }\n\n    React.useEffect(() =>{\n      const onGetInstanceSuccess = status =>{\n        reloadSnapshots(status.name);\n      }\n      getInstanceConfig(instanceID, onGetInstanceSuccess, onFail);\n    }, [instanceID, onFail, reloadSnapshots]);\n\n\n    //reder begin\n    var session = getLoggedSession();\n    if (null === session){\n      return redirectToLogin();\n    }\n\n    const { lang } = props;\n    const texts = i18n[lang];\n    let content, title;\n    var buttons = [];\n    if (null === snapshots){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n      title = '';\n    }else{\n      if ('' === snapshots.rootName){\n        content = <Box display='flex' justifyContent=\"center\">{texts.noResource}</Box>;\n      }else{\n        var expanded = [];\n        const nodeToTree = node => {\n          let label;\n          if(node.isCurrent){\n            label = node.name + '( '+ texts.current +' )';\n          }else{\n            label = node.name;\n          }\n          expanded.push(node.name);\n          var props = {\n            nodeId: node.name,\n            label: label,\n            key: node.name,\n            onClick: e =>{\n              e.preventDefault();\n              onSelectSnapshot(node.name);\n            },\n          }\n          if(node.name === snapshots.rootName){\n            props.icon = <FolderIcon/>\n          }else if (node.name === snapshots.current){\n            props.icon = <DoubleArrowIcon/>\n          }\n          if(node.children){\n            var childrenNodes = [];\n            node.children.forEach(child =>{\n              childrenNodes.push(nodeToTree(child));\n            })\n            props.children = childrenNodes;\n          }\n          return React.createElement(TreeItem, props);\n        }\n\n        const rootFolder = nodeToTree(snapshots.rootNode);\n        const snapshotTree = (\n          <TreeView\n            defaultCollapseIcon={<SubdirectoryArrowRightIcon />}\n            defaultExpandIcon={<ChevronRightIcon />}\n            defaultEndIcon={<CameraAltIcon/>}\n            defaultExpanded={expanded}\n            >\n            {rootFolder}\n          </TreeView>);\n\n        let selectPanel;\n        if(selectedSnapshot){\n          var tableData = [\n            {\n              title: texts.name,\n              value: selectedSnapshot.name,\n            },\n            {\n              title: texts.description,\n              value: selectedSnapshot.description,\n            },\n            {\n              title: texts.createdTime,\n              value: selectedSnapshot.create_time,\n            },\n            {\n              title: texts.type,\n              value: selectedSnapshot.running? texts.realtime : texts.offline,\n            },\n          ];\n          const panelButtons = [\n            <Button size=\"sm\" color=\"info\" onClick={showRevertDialog}>\n              <RestoreIcon />{texts.revert}\n            </Button>,\n            <Button size=\"sm\" color=\"info\" onClick={showDeleteDialog}>\n              <DeleteIcon />{texts.delete}\n            </Button>,\n          ];\n\n          selectPanel = (\n            <Paper className={classes.panel}>\n              <Box p={2} m={1}>\n                <Table  size=\"small\">\n                  <TableBody>\n                    {\n                      tableData.map(row => (\n                        <TableRow key={row.title}>\n                          <TableCell component='th'>\n                            <Typography component='span' variant='subtitle1'>\n                              {row.title}\n                            </Typography>\n                          </TableCell>\n                          <TableCell>\n                            <Typography component='span'>\n                              {row.value}\n                            </Typography>\n                          </TableCell>\n                        </TableRow>\n                      ))\n                    }\n                  </TableBody>\n                </Table>\n              </Box>\n              <Box display='flex' m={2}>\n                {\n                  panelButtons.map((button, key) => (\n                    <Box key={key} m={2} p={1}>\n                      {button}\n                    </Box>\n                  ))\n                }\n              </Box>\n            </Paper>\n          )\n        }else{\n          selectPanel = <div/>\n        }\n        content = (\n          <GridContainer>\n            <GridItem xs={12} sm={6}>\n              {snapshotTree}\n            </GridItem>\n            <GridItem xs={12} sm={6}>\n              {selectPanel}\n            </GridItem>\n          </GridContainer>\n        );\n      }\n\n      title = texts.title + snapshots.name;\n      buttons = [\n        <Button size=\"sm\" color=\"info\" round onClick={() =>{\n          props.history.goBack();\n        }}><NavigateBeforeIcon />{texts.back}</Button>,\n        <Button size=\"sm\" color=\"info\" round onClick={showCreateDialog}><AddIcon />{texts.create}</Button>,\n      ];\n    }\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box display='flex'>\n          {\n            buttons.map((button, key) => (\n              <Box key={key} pl={2} pr={2}>\n                {button}\n              </Box>\n            ))\n          }\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n            <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              {title}\n            </CardHeader>\n            <CardBody>\n              {content}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <CreateSnapshotDialog\n            lang={lang}\n            open={createDialogVisible}\n            instanceID={instanceID}\n            onSuccess={onCreateSuccess}\n            onCancel={closeCreateDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <DeleteSnapshotDialog\n            lang={lang}\n            open={deleteDialogVisible}\n            instanceID={instanceID}\n            snapshotName={selectedSnapshot? selectedSnapshot.name: ''}\n            onSuccess={onDeleteSuccess}\n            onCancel={closeDeleteDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <RevertSnapshotDialog\n            lang={lang}\n            open={revertDialogVisible}\n            instanceID={instanceID}\n            snapshotName={selectedSnapshot? selectedSnapshot.name: ''}\n            onSuccess={onRevertSuccess}\n            onCancel={closeRevertDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { modifyInstanceName } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Instance Name',\n    current: 'Current Name',\n    new: 'New Name',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改云主机名称',\n    current: '当前云主机名',\n    new: '新主机名',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyNameDialog(props){\n  const defaultValues = {\n    name: '',\n  };\n  const { lang, open, instanceID, current, onSuccess, onCancel } = props;\n  const currentName = current ? current.name.slice(current.group.length + 1) : '';\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = instanceName =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(instanceName, instanceID);\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    if(!request.name){\n      onModifyFail('must specify new instance name');\n      return;\n    }\n    const newName = [current.group, request.name].join('.');\n\n    if(currentName === newName){\n      onModifyFail('no need to modify');\n      return;\n    }\n\n    modifyInstanceName(instanceID, newName, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n    setMounted(true);\n    return ()=> setMounted(false);\n  }, [open]);\n\n  const inputs = [\n    {\n      type: \"text\",\n      label: texts.current,\n      value: currentName,\n      disabled: true,\n      oneRow: true,\n      xs: 12,\n      sm: 6,\n      md: 4,\n    },\n    {\n      type: \"text\",\n      label: texts.new,\n      onChange: handleRequestPropsChanged('name'),\n      value: request.name,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 10,\n      md: 8,\n    },\n  ];\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  const content = <InputList inputs={inputs}/>\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { modifyInstanceCores } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Instance Cores',\n    current: 'Current Cores',\n    new: 'New Cores',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改核心数',\n    current: '当前核心数',\n    new: '新核心数',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyCoresDialog(props){\n  const defaultValues = {\n    cores: '',\n  };\n  const { lang, open, instanceID, current, onSuccess, onCancel } = props;\n  const currentCores = current ? current.cores : 0;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = cores =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(cores, instanceID);\n  }\n\n  const handleConfirm = () =>{\n    if(!request.cores){\n      onModifyFail('must specify new instance cores');\n      return;\n    }\n    const newCores = Number.parseInt(request.cores);\n    if(Number.isNaN(newCores)){\n      onModifyFail('invalid cores number: ' + request.cores);\n      return;\n    }\n\n    if(currentCores === newCores){\n      onModifyFail('no need to modify');\n      return;\n    }\n\n    setPrompt('');\n    setOperatable(false);\n    modifyInstanceCores(instanceID, newCores, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n    setMounted(true);\n    return ()=> setMounted(false);\n  }, [open]);\n\n  const inputs = [\n    {\n      type: \"text\",\n      label: texts.current,\n      value: currentCores.toString(),\n      disabled: true,\n      oneRow: true,\n      xs: 12,\n      sm: 6,\n      md: 4,\n    },\n    {\n      type: \"text\",\n      label: texts.new,\n      onChange: handleRequestPropsChanged('cores'),\n      value: request.cores,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 10,\n      md: 8,\n    },\n  ];\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  const content = <InputList inputs={inputs}/>\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n\n};\n","import React from \"react\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { modifyInstanceMemory } from 'nano_api.js';\nimport { bytesToString } from 'utils.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Memory of Instance',\n    current: 'Current Memory Size',\n    new: 'New Memory Size (MB)',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改内存大小',\n    current: '当前内存容量',\n    new: '新内存容量(MB)',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyMemoryDialog(props){\n  const defaultValues = {\n    memory: '',\n  };\n  const { lang, open, instanceID, current, onSuccess, onCancel } = props;\n  const currentMemory = current ? current.memory : 0;\n  const currentLabel = bytesToString(currentMemory);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = newMemory =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(newMemory, instanceID);\n  }\n\n  const handleConfirm = () =>{\n    if(!request.memory){\n      onModifyFail('must specify new memory size');\n      return;\n    }\n\n    const memoryInMB = Number.parseInt(request.memory);\n    if(Number.isNaN(memoryInMB)){\n      onModifyFail('invalid memory size: ' + request.memory);\n      return;\n    }\n\n    const newMemory = memoryInMB * (1 << 20);\n    if(currentMemory === newMemory){\n      onModifyFail('no need to modify');\n      return;\n    }\n\n    setPrompt('');\n    setOperatable(false);\n    modifyInstanceMemory(instanceID, newMemory, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n    setMounted(true);\n    return ()=> setMounted(false);\n  }, [open]);\n\n  const inputs = [\n    {\n      type: \"text\",\n      label: texts.current,\n      value: currentLabel,\n      disabled: true,\n      oneRow: true,\n      xs: 12,\n      sm: 6,\n      md: 4,\n    },\n    {\n      type: \"text\",\n      label: texts.new,\n      onChange: handleRequestPropsChanged('memory'),\n      value: request.memory,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 10,\n      md: 8,\n    },\n  ];\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  const content = <InputList inputs={inputs}/>\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { modifyInstanceAdminPassword, getInstanceAdminPassword } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Admin Password',\n    name: 'Admin Name',\n    new: 'New Password (generate a new one when blank)',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改管理员密码',\n    name: '当前管理员',\n    new: '新密码(留空则自动生成)',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyPasswordDialog(props){\n  const defaultValues = {\n    user: \"\",\n    password: \"\",\n  };\n  const { lang, open, instanceID, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = user =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(user, instanceID);\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    modifyInstanceAdminPassword(instanceID, request.user, request.password, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open || !instanceID){\n      return;\n    }\n    setMounted(true);\n    const onGetAdminSuccess = (user, password) =>{\n      if(!mounted){\n        return;\n      }\n      setRequest({\n        user: user,\n        password: password,\n      });\n      setInitialed(true);\n    }\n\n    getInstanceAdminPassword(instanceID,  onGetAdminSuccess, onModifyFail)\n\n    return () => {\n      setMounted(false);\n    }\n  }, [mounted, open, instanceID, onModifyFail]);\n\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.name,\n        value: request.user,\n        disabled: true,\n        oneRow: true,\n        xs: 12,\n        sm: 6,\n        md: 4,\n      },\n      {\n        type: \"password\",\n        label: texts.new,\n        value: request.password,\n        onChange: handleRequestPropsChanged('password'),\n        required: true,\n        oneRow: true,\n        xs: 12,\n        sm: 10,\n        md: 8,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n\n};\n","import React from \"react\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { resizeInstanceDisk } from 'nano_api.js';\nimport { bytesToString } from 'utils.js';\n\nconst i18n = {\n  'en':{\n    title: 'Extend Disk Size',\n    current: 'Current Disk Size',\n    new: 'New Disk Size (GB)',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '扩展磁盘容量',\n    current: '当前磁盘容量',\n    new: '新磁盘容量(GB)',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyDiskDialog(props){\n  const defaultValues = {\n    size: '',\n  };\n  const { lang, open, instanceID, current, index, onSuccess, onCancel } = props;\n  const currentDisk = current ? current.disks[index] : 0;\n  const currentLabel = bytesToString(currentDisk);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = (diskIndex, newDisk) =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(diskIndex, newDisk, instanceID);\n  }\n\n  const handleConfirm = () =>{\n    if(!request.size){\n      onModifyFail('must specify new disk size');\n      return;\n    }\n\n    const sizeInGB = Number.parseInt(request.size);\n    if(Number.isNaN(sizeInGB)){\n      onModifyFail('invalid disk size: ' + request.size);\n      return;\n    }\n\n    const newDisk = sizeInGB * (1 << 30);\n    if(currentDisk === newDisk){\n      onModifyFail('no need to modify');\n      return;\n    }\n    setPrompt('');\n    setOperatable(false);\n    resizeInstanceDisk(instanceID, index, newDisk, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n    setMounted(true);\n    return ()=> setMounted(false);\n  }, [open]);\n\n\n  const inputs = [\n    {\n      type: \"text\",\n      label: texts.current,\n      value: currentLabel,\n      disabled: true,\n      oneRow: true,\n      xs: 12,\n      sm: 6,\n      md: 4,\n    },\n    {\n      type: \"text\",\n      label: texts.new,\n      onChange: handleRequestPropsChanged('size'),\n      value: request.size,\n      required: true,\n      oneRow: true,\n      xs: 12,\n      sm: 10,\n      md: 8,\n    },\n  ];\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  const content = <InputList inputs={inputs}/>\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;    \n};\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { shrinkInstanceDisk } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Shrink Disk Size',\n    content1: 'Are you sure to shrink size of ',\n    content2: ' ? it will take a long time, please be patient and ignore the timeout warning.',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n    systemDisk: 'System Disk',\n    dataDisk: 'Data Disk',\n  },\n  'cn':{\n    title: '压缩磁盘容量',\n    content1: '是否压缩 ',\n    content2: ' 的磁盘空间，这会占用很长时间，请忽略超时提示并耐心等待',\n    cancel: '取消',\n    confirm: '确定',\n    systemDisk: '系统磁盘',\n    dataDisk: '数据磁盘',\n  },\n}\n\nexport default function ShrinkDiskSizeDialog(props){\n  const { lang, instanceID, index, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onShrinkFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const closeDialog = () =>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onShrinkSuccess = diskIndex =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(diskIndex, instanceID);\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    shrinkInstanceDisk(instanceID, index, onShrinkSuccess, onShrinkFail);\n  }\n\n  React.useEffect(()=>{\n    if (!open){\n      return;\n    }\n    setMounted(true);\n    return ()=> setMounted(false);\n  }, [open]);\n\n  let content;\n  if (0 === index){\n    content = texts.content1 + texts.systemDisk + texts.content2;\n  }else{\n    content = texts.content1 + texts.dataDisk + index.toString() + texts.content2;\n  }\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { modifyInstancePriority, getInstanceConfig } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify CPU Priority',\n    label: 'CPU Priority',\n    cpuPriorityHigh: 'High',\n    cpuPriorityMedium: 'Medium',\n    cpuPriorityLow: 'Low',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改CPU优先级',\n    label: 'CPU优先级',\n    cpuPriorityHigh: '高',\n    cpuPriorityMedium: '中',\n    cpuPriorityLow: '低',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyCPUPriorityDialog(props){\n  const { lang, open, instanceID, onSuccess, onCancel } = props;\n  const defaultValues = {\n    priority: \"medium\",\n  };\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = priority =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(priority, instanceID);\n  }\n\n  const handleConfirm = () =>{\n    if(!request.priority){\n      onModifyFail('invalid priority value');\n      return;\n    }\n\n    setPrompt('');\n    setOperatable(false);\n    modifyInstancePriority(instanceID, request.priority, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    if(!mounted){\n      return;\n    }\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open || !instanceID){\n      return;\n    }\n    setMounted(true);\n    const onGetSuccess = data =>{\n      if(!mounted){\n        return;\n      }\n      var priority = \"medium\";\n      if (data.qos ){\n        priority = data.qos.cpu_priority;\n      }\n      setRequest({\n        priority: priority,\n      })\n      setInitialed(true);\n    }\n    getInstanceConfig(instanceID, onGetSuccess, onModifyFail);\n\n    return ()=> setMounted(false);\n  }, [open, instanceID, mounted, onModifyFail]);\n\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const options = [\n      {\n        label: texts.cpuPriorityHigh,\n        value: \"high\",\n      },\n      {\n        label: texts.cpuPriorityMedium,\n        value: \"medium\",\n      },\n      {\n        label: texts.cpuPriorityLow,\n        value: \"low\",\n      },\n    ]\n\n    const inputs = [\n      {\n        type: \"radio\",\n        label: texts.label,\n        onChange: handleRequestPropsChanged('priority'),\n        value: request.priority,\n        options: options,\n        required: true,\n        xs: 12,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { modifyInstanceDiskIOPS, getInstanceConfig } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Disk IOPS',\n    label: 'IOPS',\n    noLimit: 'No Limit',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改磁盘读写限制',\n    label: '磁盘读写限制',\n    noLimit: '无限制',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyDiskIOPSDialog(props){\n  const defaultValues = {\n    iops: 0,\n  };\n  const { lang, open, instanceID, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = iops =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(iops, instanceID);\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    modifyInstanceDiskIOPS(instanceID, request.iops, onModifySuccess, onModifyFail);\n  }\n\n  const handleSliderValueChanged = name => (e, value) =>{\n    if(!mounted){\n      return;\n    }\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open || !instanceID){\n      return;\n    }\n    setMounted(true);\n    const onGetSuccess = data =>{\n      if(!mounted){\n        return;\n      }\n      var iops = 0;\n      if (data.qos ){\n        iops = data.qos.write_iops;\n      }\n      setRequest({\n        iops: iops,\n      })\n      setInitialed(true);\n    }\n    getInstanceConfig(instanceID, onGetSuccess, onModifyFail);\n\n    return ()=> setMounted(false);\n  }, [open, instanceID, mounted, onModifyFail]);\n\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const marks = [\n      {value: 0, label: texts.noLimit},\n      {value: 2000, label: 2000}\n    ];\n\n    const inputs = [\n      {\n        type: \"slider\",\n        label: texts.label,\n        onChange: handleSliderValueChanged('iops'),\n        value: request.iops,\n        marks: marks,\n        step: 10,\n        maxStep: 2000,\n        minStep: 0,\n        required: true,\n        xs: 12,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n\n  }  \n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { modifyInstanceBandwidth, getInstanceConfig } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Network Bandwidth',\n    outbound: 'Outband Bandwidth',\n    inbound: 'Inbound Bandwidth',\n    noLimit: 'No Limit',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改网络带宽限制',\n    outbound: '上行带宽',\n    inbound: '下行带宽',\n    noLimit: '无限制',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyNetworkBandwidthDialog(props){\n  const Mbit = 1 << (20 - 3);\n  const defaultValues = {\n    inbound: 0,\n    outbound: 0,\n  };\n  const { lang, open, instanceID, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const texts = i18n[lang];\n  const title = texts.title;\n\n  const onModifyFail =  React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = (inbound, outbound) =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    resetDialog();\n    onSuccess(inbound, outbound, instanceID);\n  }\n\n  const handleConfirm = () =>{\n    setPrompt('');\n    setOperatable(false);\n    modifyInstanceBandwidth(instanceID, request.inbound * Mbit, request.outbound * Mbit, onModifySuccess, onModifyFail);\n  }\n\n  const handleSliderValueChanged = name => (e, value) =>{\n    if(!mounted){\n      return;\n    }\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open || !instanceID){\n      return;\n    }\n    setMounted(true);\n    const onGetSuccess = data =>{\n      if(!mounted){\n        return;\n      }\n\n      var current = defaultValues;\n      if (data.qos&&data.qos.receive_speed ){\n        current.inbound = data.qos.receive_speed / Mbit;\n      }\n      if (data.qos&&data.qos.send_speed ){\n        current.outbound = data.qos.send_speed / Mbit;\n      }\n      setRequest(current)\n      setInitialed(true);\n    }\n    getInstanceConfig(instanceID, onGetSuccess, onModifyFail);\n\n    return ()=> setMounted(false);\n  }, [open, instanceID, mounted, onModifyFail, Mbit, defaultValues]);\n\n\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const marks = [\n      {value: 0, label: texts.noLimit},\n      {value: 20, label: '20 Mbit/s'}\n    ];\n\n    const inputs = [\n      {\n        type: \"slider\",\n        label: texts.inbound,\n        onChange: handleSliderValueChanged('inbound'),\n        value: request.inbound,\n        marks: marks,\n        step: 2,\n        maxStep: 20,\n        minStep: 0,\n        required: true,\n        xs: 12,\n      },\n      {\n        type: \"slider\",\n        label: texts.outbound,\n        onChange: handleSliderValueChanged('outbound'),\n        value: request.outbound,\n        marks: marks,\n        step: 2,\n        maxStep: 20,\n        minStep: 0,\n        required: true,\n        xs: 12,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { resetMonitorSecret } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Reset Monitor Secret',\n    content: 'Are you sure to reset monitor secret of instance ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '重置监控密码',\n    content: '是否重置云主机监控密码 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ResetMonitorSecretDialog(props){\n  const { lang, guestID, guestName, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const content = texts.content + guestName;\n  const onDeleteFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onDeleteSuccess = () =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(guestID);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n    resetMonitorSecret(guestID, onDeleteSuccess, onDeleteFail);\n  }\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleConfirm,\n    },\n  ];\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Divider from '@material-ui/core/Divider';\nimport Switch from '@material-ui/core/Switch';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport LockIcon from '@material-ui/icons/Lock';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport BuildIcon from '@material-ui/icons/Build';\nimport ZoomOutMapIcon from '@material-ui/icons/ZoomOutMap';\nimport SystemUpdateAltIcon from '@material-ui/icons/SystemUpdateAlt';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport IconButton from \"components/CustomButtons/IconButton\";\nimport ModifyNameDialog from 'views/Instances/ModifyNameDialog';\nimport ModifyCoresDialog from 'views/Instances/ModifyCoresDialog';\nimport ModifyMemoryDialog from 'views/Instances/ModifyMemoryDialog';\nimport ModifyPasswordDialog from 'views/Instances/ModifyPasswordDialog';\nimport ModifyDiskSizeDialog from 'views/Instances/ModifyDiskSizeDialog';\nimport ShrinkDiskSizeDialog from 'views/Instances/ShrinkDiskSizeDialog';\nimport ModifyCPUPriorityDialog from 'views/Instances/ModifyCPUPriorityDialog';\nimport ModifyDiskIOPSDialog from 'views/Instances/ModifyDiskIOPSDialog';\nimport ModifyNetworkBandwidthDialog from 'views/Instances/ModifyNetworkBandwidthDialog';\nimport ResetSecretDialog from \"views/Instances/ResetSecretDialog\";\nimport { bytesToString, bpsToString } from 'utils.js';\nimport { getInstanceConfig, getInstanceAdminPassword, writeLog, setAutoStart } from \"nano_api.js\";\n\nconst i18n = {\n  'en':{\n    title: 'Details of Instance ',\n    back: 'Back',\n    name: 'Name',\n    id: 'ID',\n    cores: 'Cores',\n    memory: 'Memory',\n    adminPassword: 'Admin Password',\n    monitorAddress: 'Monitor Address',\n    monitorSecret: 'Monitor Secret',\n    systemDisk: 'System Disk',\n    dataDisk: 'Data Disk',\n    ethernetAddress: 'Ethernet Address',\n    internalAddress: 'Internal Address',\n    allocatedAddress: 'Allocated Address',\n    externalAddress: 'External Address',\n    operatingSystem: 'Operating System',\n    autoStartup: 'Auto Startup',\n    enable: 'Enable',\n    disable: 'Disable',\n    pool: 'Host Pool',\n    cell: 'Host Cell',\n    owner: 'Owner',\n    group: 'Group',\n    cpuPriority: 'CPU Priority',\n    iops: 'Disk IOPS',\n    bandwidth: 'Inbound/Outbound Bandwidth',\n    noLimit: 'No Limit',\n    cpuPriorityHigh: 'High',\n    cpuPriorityMedium: 'Medium',\n    cpuPriorityLow: 'Low',\n    createdTime: 'Created Time',\n    disabledWhenRunning: 'Disabled When Running',\n    disabledWhenStopped: 'Disabled When Stopped',\n    status: 'Status',\n    running: 'Running',\n    stopped: 'Stopped',\n    display: 'Display',\n    hide: 'Hide',\n    modify: 'Modify',\n    extendDisk: 'Extend Disk Size',\n    shrinkDisk: 'Shrink Disk Size',\n    resetSecret: \"Reset Monitor Secret\",\n  },\n  'cn':{\n    title: '云主机详情 ',\n    back: '返回',\n    name: '主机名',\n    id: 'ID',\n    cores: '核心数',\n    memory: '内存',\n    adminPassword: '管理员密码',\n    monitorAddress: '监控地址',\n    monitorSecret: '监控密码',\n    systemDisk: '系统磁盘',\n    dataDisk: '数据磁盘',\n    ethernetAddress: 'MAC地址',\n    internalAddress: '内部地址',\n    allocatedAddress: '已分配地址',\n    externalAddress: '外部地址',\n    operatingSystem: '操作系统',\n    autoStartup: '开机启动',\n    enable: '启用',\n    disable: '未启用',\n    pool: '所属资源池',\n    cell: '承载资源节点',\n    owner: '所属用户',\n    group: '所属用户组',\n    cpuPriority: 'CPU优先级',\n    iops: '磁盘 IOPS',\n    bandwidth: '下/上行带宽',\n    noLimit: '无限制',\n    cpuPriorityHigh: '高',\n    cpuPriorityMedium: '中',\n    cpuPriorityLow: '低',\n    createdTime: '创建时间',\n    disabledWhenRunning: '运行时禁用',\n    disabledWhenStopped: '停机时禁用',\n    status: '状态',\n    running: '运行中',\n    stopped: '已停机',\n    display: '显示',\n    hide: '隐藏',\n    modify: '修改',\n    extendDisk: '扩展磁盘容量',\n    shrinkDisk: '缩减磁盘空间',\n    resetSecret: \"重置监控密码\",\n  }\n}\n\nexport default function Details(props){\n    const guestID = props.match.params.id;\n    const [ guest, setGuest] = React.useState(null);\n    const [ adminPassword, setAdminPassword ] = React.useState(null);\n    const [ secretVisiable, setSecretVisiable ] = React.useState(false);\n\n    //for dialog\n    const [ modifyNameVisiable, setModifyNameVisible ] = React.useState(false);\n    const [ modifyCoresVisiable, setModifyCoresVisible ] = React.useState(false);\n    const [ modifyMemoryVisiable, setModifyMemoryVisible ] = React.useState(false);\n    const [ modifyPasswordVisiable, setModifyPasswordVisible ] = React.useState(false);\n    const [ modifyDiskSizeVisiable, setModifyDiskSizeVisible ] = React.useState(false);\n    const [ shrinkDiskSizeVisiable, setShrinkDiskSizeVisible ] = React.useState(false);\n    const [ modifyCPUPriorityVisiable, setModifyCPUPriorityVisible ] = React.useState(false);\n    const [ modifyDiskIOPSVisiable, setModifyDiskIOPSVisible ] = React.useState(false);\n    const [ modifyNetworkBandwidthVisiable, setModifyNetworkBandwidthVisible ] = React.useState(false);\n    const [ resetSecretVisiable, setResetSecretVisible ] = React.useState(false);\n    const [ diskIndex, setDiskIndex ] = React.useState(0);\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage]);\n\n    const showNotifyMessage = (msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    const onFail = React.useCallback(msg =>{\n      showErrorMessage(msg);\n    }, [showErrorMessage]);\n\n    const reloadGuestConfig = React.useCallback(() => {\n      const onGetConfigSuccess = data =>{\n        setGuest(data);\n      }\n\n      getInstanceConfig(guestID, onGetConfigSuccess, onFail);\n\n    }, [guestID, onFail]);\n\n    //modify name\n    const showModifyNameDialog = () =>{\n      setModifyNameVisible(true);\n    };\n\n    const closeModifyNameDialog = () =>{\n      setModifyNameVisible(false);\n    }\n\n    const onModifyNameSuccess = newName =>{\n      closeModifyNameDialog();\n      showNotifyMessage('name of '+ guestID + ' changed to ' + newName);\n      reloadGuestConfig();\n    };\n\n    //modify cores\n    const showModifyCoresDialog = () =>{\n      setModifyCoresVisible(true);\n    };\n\n    const closeModifyCoresDialog = () =>{\n      setModifyCoresVisible(false);\n    }\n\n    const onModifyCoresSuccess = newCores =>{\n      closeModifyCoresDialog();\n      showNotifyMessage('cores of '+ guestID + ' changed to ' + newCores);\n      reloadGuestConfig();\n    };\n\n    //modify memory\n    const showModifyMemoryDialog = () =>{\n      setModifyMemoryVisible(true);\n    };\n\n    const closeModifyMemoryDialog = () =>{\n      setModifyMemoryVisible(false);\n    }\n\n    const onModifyMemorySuccess = newMemory =>{\n      closeModifyMemoryDialog();\n      showNotifyMessage('memory of '+ guestID + ' changed to ' + bytesToString(newMemory));\n      reloadGuestConfig();\n    };\n\n    //modify memory\n    const showModifyPasswordDialog = () =>{\n      setModifyPasswordVisible(true);\n    };\n\n    const closeModifyPasswordDialog = () =>{\n      setModifyPasswordVisible(false);\n    }\n\n    const onModifyPasswordSuccess = adminName =>{\n      closeModifyPasswordDialog();\n      showNotifyMessage('password of '+ adminName + ' modified');\n      reloadGuestConfig();\n    };\n\n    //modify disk Size\n    const showModifyDiskSizeDialog = index =>{\n      setModifyDiskSizeVisible(true);\n      setDiskIndex(index);\n    };\n\n    const closeModifyDiskSizeDialog = () =>{\n      setModifyDiskSizeVisible(false);\n    }\n\n    const onModifyDiskSizeSuccess = (index, size) =>{\n      closeModifyDiskSizeDialog();\n      showNotifyMessage('size of disk '+ index + ' changed to ' + bytesToString(size));\n      reloadGuestConfig();\n    };\n\n    //shrink disk Size\n    const showShrinkDiskSizeDialog = index =>{\n      setShrinkDiskSizeVisible(true);\n      setDiskIndex(index);\n    };\n\n    const closeShrinkDiskSizeDialog = () =>{\n      setShrinkDiskSizeVisible(false);\n    }\n\n    const onShrinkDiskSizeSuccess = index =>{\n      closeShrinkDiskSizeDialog();\n      showNotifyMessage('size of disk '+ index + ' shrunk');\n      reloadGuestConfig();\n    };\n\n    //modify CPU priority\n    const showModifyCPUPriorityDialog = () =>{\n      setModifyCPUPriorityVisible(true);\n    };\n\n    const closeModifyCPUPriorityDialog = () =>{\n      setModifyCPUPriorityVisible(false);\n    }\n\n    const onModifyCPUPrioritySuccess = priority =>{\n      closeModifyCPUPriorityDialog();\n      showNotifyMessage('CPU priority changed to '+ priority);\n      reloadGuestConfig();\n    };\n\n    //modify disk IOPS\n    const showModifyDiskIOPSDialog = () =>{\n      setModifyDiskIOPSVisible(true);\n    };\n\n    const closeModifyDiskIOPSDialog = () =>{\n      setModifyDiskIOPSVisible(false);\n    }\n\n    const onModifyDiskIOPSSuccess = iops =>{\n      closeModifyDiskIOPSDialog();\n      showNotifyMessage('Disk IOPS changed to '+ iops);\n      reloadGuestConfig();\n    };\n\n    //modify network bandwidth\n    const showModifyNetworkBandwidthDialog = () =>{\n      setModifyNetworkBandwidthVisible(true);\n    };\n\n    const closeModifyNetworkBandwidthDialog = () =>{\n      setModifyNetworkBandwidthVisible(false);\n    }\n\n    const onModifyNetworkBandwidthSuccess = (inbound, outbound) =>{\n      closeModifyNetworkBandwidthDialog();\n      var value = [bpsToString(inbound), bpsToString(outbound)].join('/');\n      showNotifyMessage('network bandwidth changed to ' + value);\n      reloadGuestConfig();\n    };\n\n    //reset monitor secret\n    const showResetSecretDialog = () =>{\n      setResetSecretVisible(true);\n    };\n\n    const closeResetSecretDialog = () =>{\n      setResetSecretVisible(false);\n    }\n\n    const onResetSecretSuccess = () =>{\n      closeResetSecretDialog();\n      showNotifyMessage(\"monitor secret reset\");\n      reloadGuestConfig();\n    };\n\n    const setAutoStartSuccess = () => {\n      reloadGuestConfig();\n    }\n\n    const setAutoStartFail = msg => {\n      showErrorMessage(\"set auto start fail: \" + msg);\n    }\n\n    const handleAutoStartChanged = e =>{\n      var enable = e.target.checked;\n      e.preventDefault();\n      setAutoStart(guestID, enable, setAutoStartSuccess, setAutoStartFail);\n    }\n\n    React.useEffect(() =>{\n      reloadGuestConfig();\n    }, [reloadGuestConfig]);\n\n    const { lang } = props;\n    const texts = i18n[lang];\n    let content, title;\n    var buttons = [];\n    if (null === guest){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n      title = '';\n    }else{\n      const disabledWhenRunningIcon = {\n        label: texts.disabledWhenRunning,\n        icon: LockIcon,\n      };\n      const disabledWhenStoppedIcon = {\n        label: texts.disabledWhenStopped,\n        icon: LockIcon,\n      };\n\n      let monitorAddress;\n      if(guest.display_protocol){\n        monitorAddress = guest.display_protocol + '://' + guest.internal.display_address;\n      }else{\n        monitorAddress = 'vnc://' + guest.internal.display_address\n      }\n      let inbound, outbound;\n      if (guest.qos&&guest.qos.send_speed&& 0 !== guest.qos.receive_speed){\n        inbound = bpsToString(guest.qos.receive_speed);\n      }else{\n        inbound = texts.noLimit;\n      }\n\n      if (guest.qos&&guest.qos.receive_speed&& 0 !== guest.qos.send_speed){\n        outbound = bpsToString(guest.qos.send_speed);\n      }else{\n        outbound = texts.noLimit;\n      }\n\n      const bandwidthLabel = [inbound, outbound].join(' / ');\n      const hideAdminPassword = () => setAdminPassword(null);\n      const showAdminPassword = () => {\n        const onQuerySuccess = (user, password) =>{\n          if(password){\n            setAdminPassword(password);\n          }else{\n            setAdminPassword('no password configured for user \"' + user + '\"');\n          }\n        }\n        getInstanceAdminPassword(guestID, onQuerySuccess, onFail);\n      };\n\n      var adminPasswordOperators = [];\n      if (adminPassword){\n        adminPasswordOperators.push({label:texts.hide, icon: VisibilityOffIcon, onClick: hideAdminPassword});\n      }else{\n        adminPasswordOperators.push({label:texts.display, icon: VisibilityIcon, onClick: showAdminPassword});\n      }\n      if (guest.running){\n        adminPasswordOperators.push({label:texts.modify, icon:BuildIcon, onClick:showModifyPasswordDialog});\n      }else{\n        adminPasswordOperators.push(disabledWhenStoppedIcon);\n      }\n\n      var tableData = [\n        {\n          title: texts.name,\n          value: guest.name,\n          operators: guest.running ? [disabledWhenRunningIcon] :\n            [{label:texts.modify, icon:BuildIcon, onClick:showModifyNameDialog}],\n        },\n        {\n          title: texts.id,\n          value: guestID,\n        },\n        {\n          title: texts.cores,\n          value: guest.cores,\n          operators: guest.running ? [disabledWhenRunningIcon] :\n            [{label:texts.modify, icon:BuildIcon, onClick:showModifyCoresDialog}],\n        },\n        {\n          title: texts.memory,\n          value: bytesToString(guest.memory),\n          operators: guest.running ? [disabledWhenRunningIcon] :\n            [{label:texts.modify, icon:BuildIcon, onClick:showModifyMemoryDialog}],\n        },\n        {\n          title: texts.status,\n          value: guest.running? texts.running : texts.stopped,\n        },\n        {\n          title: texts.ethernetAddress,\n          value: guest.ethernet_address,\n        },\n\n        {\n          title: texts.createdTime,\n          value: guest.create_time,\n        },\n        {\n          title: texts.adminPassword,\n          value: adminPassword ? adminPassword : '****************',\n          operators: adminPasswordOperators,\n        },\n        {\n          title: texts.monitorAddress,\n          value: guest.internal? monitorAddress : '',\n        },\n        {\n          title: texts.monitorSecret,\n          value: secretVisiable? guest.monitor_secret : new Array(guest.monitor_secret.length).fill('*'),\n          operators: secretVisiable? [\n            {label:texts.hide, icon:VisibilityOffIcon, onClick:() => setSecretVisiable(false)},\n            {label:texts.resetSecret, icon:AutorenewIcon, onClick:showResetSecretDialog}\n          ] : [\n            {label:texts.display, icon:VisibilityIcon, onClick:() => setSecretVisiable(true)},\n            {label:texts.resetSecret, icon:AutorenewIcon, onClick:showResetSecretDialog}\n          ],\n        },\n        {\n          title: texts.systemDisk,\n          value: bytesToString(guest.disks[0]),\n          operators: guest.running ? [disabledWhenRunningIcon] : [\n            {label:texts.extendDisk, icon:ZoomOutMapIcon, onClick:() => showModifyDiskSizeDialog(0)},\n            {label:texts.shrinkDisk, icon:SystemUpdateAltIcon, onClick:() => showShrinkDiskSizeDialog(0)},\n          ],\n        },\n      ];\n\n      if (guest.disks.length > 1){\n        for(var index = 1; index < guest.disks.length; index++){\n          const currentIndex = index;\n          tableData.push({\n            title: texts.dataDisk + index.toString(),\n            value: bytesToString(guest.disks[index]),\n            operators: guest.running ? [disabledWhenRunningIcon] : [\n              {label:texts.extendDisk, icon:ZoomOutMapIcon, onClick:() => showModifyDiskSizeDialog(currentIndex)},\n              {label:texts.shrinkDisk, icon:SystemUpdateAltIcon, onClick:() => showShrinkDiskSizeDialog(currentIndex)},\n            ],\n          })\n        }\n      }\n\n      let priorityLabel;\n      if (guest.qos&&guest.qos.cpu_priority){\n        switch (guest.qos.cpu_priority) {\n          case 'high':\n            priorityLabel = texts.cpuPriorityHigh;\n            break;\n          case 'medium':\n            priorityLabel = texts.cpuPriorityMedium;\n            break;\n          case 'low':\n            priorityLabel = texts.cpuPriorityLow;\n            break;\n          default:\n            priorityLabel = 'invalid priority ' + guest.qos.cpu_priority;\n        }\n      }else{\n        priorityLabel = texts.noLimit;\n      }\n\n\n      tableData = tableData.concat([\n        {\n          title: texts.internalAddress,\n          value: guest.internal&&guest.internal.network_address? guest.internal.network_address : '',\n        },\n        {\n          title: texts.allocatedAddress,\n          value: guest.internal&&guest.internal.allocated_address? guest.internal.allocated_address : '',\n        },\n        {\n          title: texts.externalAddress,\n          value: guest.external&&guest.external.network_address? guest.external.network_address : '',\n        },\n        {\n          title: texts.operatingSystem,\n          value: guest.system,\n        },\n        {\n          title: texts.autoStartup,\n          value: (\n            <div>\n              {texts.disable}\n              <Switch\n                checked={guest.auto_start}\n                onChange={handleAutoStartChanged}\n                color=\"primary\"\n              />\n              {texts.enable}\n            </div>\n          ),\n        },\n        {\n          title: texts.pool,\n          value: guest.pool,\n        },\n        {\n          title: texts.cell,\n          value: guest.cell,\n        },\n        {\n          title: texts.cpuPriority,\n          value: priorityLabel,\n          operators: [{label:texts.modify, icon:BuildIcon, onClick:showModifyCPUPriorityDialog}],\n        },\n        {\n          title: texts.iops,\n          value: guest.qos&&guest.qos.write_iops ? guest.qos.write_iops : texts.noLimit,\n          operators: guest.running ? [disabledWhenRunningIcon] : [\n            {label:texts.modify, icon:BuildIcon, onClick:showModifyDiskIOPSDialog},\n          ],\n        },\n        {\n          title: texts.bandwidth,\n          value: bandwidthLabel,\n          operators: [{label:texts.modify, icon:BuildIcon, onClick:showModifyNetworkBandwidthDialog}]\n        },\n      ]);\n      content = (\n        <Container maxWidth='md'>\n        <TableContainer component={Paper}>\n          <Table>\n            <TableBody>\n              {\n                tableData.map((row, key) => (\n                  <TableRow key={key}>\n                    <TableCell component='th' scope='row'>\n                      {row.title}\n                    </TableCell>\n                    <TableCell>\n                      {row.value}\n                    </TableCell>\n                    <TableCell>\n                      {\n                        row.operators?\n                        row.operators.map(({ label, icon, onClick }, key) => (\n                            <IconButton key={key} label={label} icon={icon} onClick={onClick}/>\n                        ))\n                        : ''\n                      }\n                    </TableCell>\n                  </TableRow>\n                ))\n              }\n            </TableBody>\n          </Table>\n        </TableContainer>\n        </Container>\n      )\n\n      title = texts.title + guest.name;\n      buttons = [\n        <Button size=\"sm\" color=\"info\" round href=\"/admin/instances/\">\n          <NavigateBeforeIcon />{texts.back}\n        </Button>,\n      ];\n    }\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box display='flex'>\n          {\n            buttons.map((button, key) => (\n              <Box key={key} pl={2} pr={2}>\n                {button}\n              </Box>\n            ))\n          }\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n            <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              {title}\n            </CardHeader>\n            <CardBody>\n              {content}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <ModifyNameDialog\n            lang={lang}\n            open={modifyNameVisiable}\n            instanceID={guestID}\n            current={guest}\n            onSuccess={onModifyNameSuccess}\n            onCancel={closeModifyNameDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyCoresDialog\n            lang={lang}\n            open={modifyCoresVisiable}\n            instanceID={guestID}\n            current={guest}\n            onSuccess={onModifyCoresSuccess}\n            onCancel={closeModifyCoresDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyMemoryDialog\n            lang={lang}\n            open={modifyMemoryVisiable}\n            instanceID={guestID}\n            current={guest}\n            onSuccess={onModifyMemorySuccess}\n            onCancel={closeModifyMemoryDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyPasswordDialog\n            lang={lang}\n            open={modifyPasswordVisiable}\n            instanceID={guestID}\n            onSuccess={onModifyPasswordSuccess}\n            onCancel={closeModifyPasswordDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyDiskSizeDialog\n            lang={lang}\n            open={modifyDiskSizeVisiable}\n            instanceID={guestID}\n            current={guest}\n            index={diskIndex}\n            onSuccess={onModifyDiskSizeSuccess}\n            onCancel={closeModifyDiskSizeDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ShrinkDiskSizeDialog\n            lang={lang}\n            open={shrinkDiskSizeVisiable}\n            instanceID={guestID}\n            current={guest}\n            index={diskIndex}\n            onSuccess={onShrinkDiskSizeSuccess}\n            onCancel={closeShrinkDiskSizeDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyCPUPriorityDialog\n            lang={lang}\n            open={modifyCPUPriorityVisiable}\n            instanceID={guestID}\n            current={guest}\n            onSuccess={onModifyCPUPrioritySuccess}\n            onCancel={closeModifyCPUPriorityDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyDiskIOPSDialog\n            lang={lang}\n            open={modifyDiskIOPSVisiable}\n            instanceID={guestID}\n            current={guest}\n            onSuccess={onModifyDiskIOPSSuccess}\n            onCancel={closeModifyDiskIOPSDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyNetworkBandwidthDialog\n            lang={lang}\n            open={modifyNetworkBandwidthVisiable}\n            instanceID={guestID}\n            current={guest}\n            onSuccess={onModifyNetworkBandwidthSuccess}\n            onCancel={closeModifyNetworkBandwidthDialog}\n            />\n        </GridItem>\n        <ResetSecretDialog\n          lang={lang}\n          open={resetSecretVisiable}\n          guestID={guestID}\n          guestName={guest? guest.name : \"\"}\n          onSuccess={onResetSecretSuccess}\n          onCancel={closeResetSecretDialog}\n          />\n      </GridContainer>\n    );\n}\n","import React from \"react\";\n// @material-ui/core components\nimport { useLocation } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Pagination from '@material-ui/lab/Pagination';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport PlaylistAddIcon from '@material-ui/icons/PlaylistAdd';\nimport ListIcon from '@material-ui/icons/List';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport OperableTable from \"components/Table/OperableTable.js\";\n\nimport InstanceRow from \"views/Instances/InstanceRow.js\";\nimport DeleteDialog from \"views/Instances/DeleteDialog.js\";\nimport CreateDialog from \"views/Instances/CreateDialog.js\";\nimport StartWithMediaDialog from \"views/Instances/StartWithMediaDialog.js\";\nimport InsertMediaDialog from \"views/Instances/InsertMediaDialog.js\";\nimport BuildImageDialog from \"views/Instances/BuildImageDialog.js\";\nimport ResetSystemDialog from \"views/Instances/ResetSystemDialog.js\";\nimport MigrateInstanceDialog from \"views/Instances/MigrateInstanceDialog.js\";\nimport BatchStopDialog from \"views/Instances/BatchStopDialog\";\nimport BatchDeleteDialog from \"views/Instances/BatchDeleteDialog\";\nimport BatchCreateDialog from \"views/Instances/BatchCreateDialog\";\n\nimport dashboardStyles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\nimport { getLoggedSession, logoutSession, redirectToLogin } from 'utils.js';\nimport { searchGuests, queryComputeCellsInPool, getAllComputePools, writeLog } from \"nano_api.js\";\n\nconst styles = {\n  ...dashboardStyles,\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    createButton: \"Create New Instance\",\n    batchCreate: 'Batch Create',\n    batchDelete: 'Batch Delete',\n    batchStop: 'Batch Stop',\n    enterBatch: 'Enter Batch Mode',\n    exitBatch: 'Exit Batch Mode',\n    tableTitle: \"Cloud Instances\",\n    name: \"Name\",\n    cell: \"Host Cell\",\n    address: \"Address\",\n    core: \"Core\",\n    memory: \"Memory\",\n    disk: \"Disk\",\n    status: \"Status\",\n    operates: \"Operates\",\n    noResource: \"No instances available\",\n    pool: 'Compute Pool',\n    disabled: 'Disabled',\n    offline: \"Offline\",\n    allCells: 'All Cells',\n    allPools: 'All Pools',\n    keyword: 'Key Word',\n    search: 'Search',\n    notMatch: 'No instance match keyword: ',\n  },\n  'cn':{\n    createButton: \"创建云主机\",\n    batchCreate: '批量创建',\n    batchDelete: '批量删除',\n    batchStop: '批量停止',\n    enterBatch: '进入批量模式',\n    exitBatch: '退出批量模式',\n    tableTitle: \"云主机实例\",\n    name: \"名称\",\n    cell: \"承载节点\",\n    address: \"地址\",\n    core: \"核心\",\n    memory: \"内存\",\n    disk: \"磁盘\",\n    status: \"状态\",\n    operates: \"操作\",\n    noResource: \"没有云主机实例\",\n    pool: '计算资源池',\n    disabled: '已禁用',\n    offline: \"离线\",\n    allCells: '所有节点',\n    allPools: '所有资源池',\n    keyword: '关键词',\n    search: '搜索',\n    notMatch: '没有云主机匹配关键词: ',\n  }\n}\n\nexport default function AllInstances(props){\n    const recordPerPage = 10;\n    const classes = useStyles();\n    const location = useLocation();\n    const queryParams = new URLSearchParams(location.search);\n    const defaultPoolName = queryParams.get(\"pool\");\n    const defaultCellName = queryParams.get(\"cell\");\n    const [ initialed, setInitialed ] = React.useState(false);\n    const [ instanceList, setInstanceList ] = React.useState(null);\n    const [ checkedMap, setCheckedMap ] = React.useState(new Map());\n    const [ batchMode, setBatchMode ] = React.useState(false);\n    const [ scope, setScope ] = React.useState({\n      pool: '',\n      cell: '',\n    })\n    const [ pools, setPools ] = React.useState([]);\n    const [ cells, setCells ] = React.useState([]);\n    const [ offset, setOffset] = React.useState(0);\n    const [ keyword, setKeyword] = React.useState('');\n    const [ keywordInput, setKeywordInput] = React.useState('');\n    const [ totalCount, setTotalCount ] = React.useState(0);\n\n    //for dialog\n    const [ createDialogVisible, setCreateDialogVisible ] = React.useState(false);\n    const [ deleteDialogVisible, setDeleteDialogVisible ] = React.useState(false);\n    const [ mediaStartDialogVisible, setMediaStartDialogVisible ] = React.useState(false);\n    const [ insertMediaDialogVisible, setInsertMediaDialogVisible ] = React.useState(false);\n    const [ resetSystemDialogVisible, setResetSystemDialogVisible ] = React.useState(false);\n    const [ buildImageDialogVisible, setBuildImageDialogVisible ] = React.useState(false);\n    const [ migrateDialogVisible, setMigrateDialogVisible ] = React.useState(false);\n    const [ batchStopDialogVisible, setBatchStopDialogVisible ] = React.useState(false);\n    const [ batchDeleteDialogVisible, setBatchDeleteDialogVisible ] = React.useState(false);\n    const [ batchCreateDialogVisible, setBatchCreateDialogVisible ] = React.useState(false);\n    const [ currentInstance, setCurrentInstance ] = React.useState('');\n    const [ sourcePool, setSourcePool ] = React.useState('');\n    const [ sourceCell, setSourceCell ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage]);\n\n    const showNotifyMessage = (msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    const onPageChanged = (e, page) => {\n      setOffset((page - 1) * recordPerPage);\n    }\n\n    const handleKeywordChange = e =>{\n      var value = e.target.value;\n      setKeywordInput(value);\n    }\n\n    const clearState = () => {\n      setKeyword('');\n      setKeywordInput('');\n      setOffset(0);\n    }\n\n    const doSearch = () =>{\n      setKeywordInput('');//clear input field\n      setKeyword(keywordInput);\n      setOffset(0);\n      reloadAllInstances();\n    }\n\n    const reloadAllInstances = React.useCallback(() => {\n      const onLoadFail = (err) =>{\n        showErrorMessage(err);\n        logoutSession();\n      }\n      const onLoadSuccess = r => {\n        var dataList = r.result;\n        var updated = checkedMap;\n        var modified = false;\n        setTotalCount(r.total);\n        if (!dataList){\n          setInstanceList([]);\n          if (0 !== updated.size){\n            updated.clear();\n            modified = true;\n          }\n        }else{\n          setInstanceList(dataList);\n          var removeTargets = [];\n          updated.forEach((checked, id) =>{\n            if(!dataList.some(instance => instance.id === id)){\n              //not exists\n              removeTargets.push(id);\n            }\n          });\n          dataList.forEach(instance =>{\n            const instanceID = instance.id;\n            if (!updated.has(instanceID)){\n              //new entry\n              updated.set(instanceID, false);\n              if(!modified){\n                modified = true;\n              }\n            }\n          })\n          if (0 !== removeTargets.length){\n            removeTargets.forEach(id =>{\n              updated.delete(id);\n              if(!modified){\n                modified = true;\n              }\n            })\n          }\n        }\n        if(modified){\n          setCheckedMap(new Map(updated));\n        }\n      }\n      searchGuests(recordPerPage, offset, scope.pool, scope.cell, keyword, onLoadSuccess, onLoadFail);\n    }, [scope, checkedMap, showErrorMessage, offset, keyword]);\n\n    //delete\n    const showDeleteDialog = (instanceID) =>{\n      setDeleteDialogVisible(true);\n      setCurrentInstance(instanceID);\n    }\n\n    const closeDeleteDialog = () =>{\n      setDeleteDialogVisible(false);\n    }\n\n    const onDeleteSuccess = (instanceID) =>{\n      closeDeleteDialog();\n      showNotifyMessage('instance ' + instanceID + ' deleted');\n      reloadAllInstances();\n    };\n\n    //start with media\n    const showMediaStartDialog = (instanceID) =>{\n      setMediaStartDialogVisible(true);\n      setCurrentInstance(instanceID);\n    }\n\n    const closeMediaStartDialog = () =>{\n      setMediaStartDialogVisible(false);\n    }\n\n    const onMediaStartSuccess = (instanceID) =>{\n      closeMediaStartDialog();\n      showNotifyMessage('instance ' + instanceID + ' started with media');\n      reloadAllInstances();\n    };\n\n    //insert media\n    const showInsertMediaDialog = (instanceID) =>{\n      setInsertMediaDialogVisible(true);\n      setCurrentInstance(instanceID);\n    }\n\n    const closeInsertMediaDialog = () =>{\n      setInsertMediaDialogVisible(false);\n    }\n\n    const onInsertMediaSuccess = (instanceID) =>{\n      closeInsertMediaDialog();\n      showNotifyMessage('instance ' + instanceID + ' started with media');\n      reloadAllInstances();\n    };\n\n    //reset system\n    const showResetSystemDialog = (instanceID) =>{\n      setResetSystemDialogVisible(true);\n      setCurrentInstance(instanceID);\n    }\n\n    const closeResetSystemDialog = () =>{\n      setResetSystemDialogVisible(false);\n    }\n\n    const onResetSystemSuccess = (instanceID) =>{\n      closeResetSystemDialog();\n      showNotifyMessage('guest system of ' + instanceID + ' reset');\n    };\n\n    //build image\n    const showBuildImageDialog = (instanceID) =>{\n      setBuildImageDialogVisible(true);\n      setCurrentInstance(instanceID);\n    }\n\n    const closeBuildImageDialog = () =>{\n      setBuildImageDialogVisible(false);\n    }\n\n    const onBuildImageSuccess = (imageName) =>{\n      closeBuildImageDialog();\n      showNotifyMessage('new image ' + imageName + ' created from ' + currentInstance);\n    };\n\n    //migrate instance\n    const showMigrateDialog = (instanceID, pool, cell) =>{\n      setMigrateDialogVisible(true);\n      setCurrentInstance(instanceID);\n      setSourcePool(pool);\n      setSourceCell(cell);\n    }\n\n    const closeMigrateDialog = () =>{\n      setMigrateDialogVisible(false);\n    }\n\n    const onMigrateSuccess = (instanceID) =>{\n      closeMigrateDialog();\n      showNotifyMessage('instance ' + instanceID + ' migrated');\n      reloadAllInstances();\n    };\n\n    //create\n    const showCreateDialog = () =>{\n      setCreateDialogVisible(true);\n    };\n\n    const closeCreateDialog = () =>{\n      setCreateDialogVisible(false);\n    }\n\n    const onCreateSuccess = (id) =>{\n      closeCreateDialog();\n      showNotifyMessage('new instance ' + id + ' created');\n      reloadAllInstances();\n    };\n\n    //batch stopping\n    const showBatchStopDialog = () =>{\n      setBatchStopDialogVisible(true);\n    };\n\n    const closeBatchStopDialog = () =>{\n      setBatchStopDialogVisible(false);\n    }\n\n    const onBatchStopSuccess = () =>{\n      closeBatchStopDialog();\n      reloadAllInstances();\n    };\n\n    //batch deleting\n    const showBatchDeleteDialog = () =>{\n      setBatchDeleteDialogVisible(true);\n    };\n\n    const closeBatchDeleteDialog = () =>{\n      setBatchDeleteDialogVisible(false);\n    }\n\n    const onBatchDeleteSuccess = () =>{\n      closeBatchDeleteDialog();\n      reloadAllInstances();\n    };\n\n    //batch creating\n    const showBatchCreateDialog = () =>{\n      setBatchCreateDialogVisible(true);\n    };\n\n    const closeBatchCreateDialog = () =>{\n      setBatchCreateDialogVisible(false);\n    }\n\n    const onBatchCreateSuccess = () =>{\n      closeBatchCreateDialog();\n      reloadAllInstances();\n    };\n\n    const onStatusChange = () =>{\n      reloadAllInstances();\n    }\n\n    const enterBatchMode = () => {\n      var updated = new Map();\n      //uncheck all\n      for(var instanceID of checkedMap.keys()){\n        updated.set(instanceID, false);\n      }\n      setCheckedMap(updated);\n      setBatchMode(true);\n    }\n\n    const exitBatchMode = () => {\n      setBatchMode(false);\n    }\n\n    const handleInstanceChecked = (checked, instanceID) =>{\n      var checkedStatus = new Map(checkedMap);\n      checkedStatus.set(instanceID, checked);\n      setCheckedMap(checkedStatus);\n    }\n\n    const handleAllClicked = e =>{\n      const checked = e.target.checked;\n      var updated = new Map();\n      for(var instanceID of checkedMap.keys()){\n        updated.set(instanceID, checked);\n      }\n      setCheckedMap(updated);\n    }\n\n    const handlePoolChanged = e => {\n      const poolName = e.target.value;\n      var cellList = [];\n      const onQueryCellsSuccess = dataList =>{\n        dataList.forEach(cell =>{\n          cellList.push(cell)\n        });\n        setCells(cellList);\n        setScope({\n          pool: poolName,\n          cell: '',\n        });\n        clearState();\n      }\n      queryComputeCellsInPool(poolName, onQueryCellsSuccess, showErrorMessage);\n    }\n\n    const handleCellChanged = e => {\n      const cellName = e.target.value;\n      setScope(previous => ({\n        ...previous,\n        cell: cellName,\n      }));\n      clearState();\n    }\n\n    React.useEffect(() =>{\n      if (!initialed){\n        //initial\n        const onQueryPoolsSuccess = dataList => {\n          var poolList = [];\n          dataList.forEach( pool => {\n            poolList.push(pool.name);\n          })\n          if(0 === poolList.length){\n            showErrorMessage('no compute pools available');\n            return;\n          }\n          setPools(poolList);\n          setCells([]);\n          setScope({\n            pool: defaultPoolName? defaultPoolName : '',\n            cell: defaultCellName? defaultCellName : '',\n          });\n          setInitialed(true);\n        }\n        getAllComputePools(onQueryPoolsSuccess, showErrorMessage);\n\n      }else {\n        var mounted = true\n        reloadAllInstances();\n        const updateInterval = 5 * 1000;\n        var timerID = setInterval(()=>{\n          if (mounted){\n            reloadAllInstances();\n          }\n        }, updateInterval);\n        return () =>{\n          mounted = false;\n          clearInterval(timerID);\n        }\n      }\n    }, [reloadAllInstances, initialed, showErrorMessage, defaultPoolName, defaultCellName]);\n\n    //reder begin\n    var session = getLoggedSession();\n    if (null === session){\n      return redirectToLogin();\n    }\n\n    const { lang } = props;\n    const texts = i18n[lang];\n    let content;\n    if (!initialed || !instanceList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === instanceList.length){\n      if ('' !== keyword){\n        content = <Box textAlign=\"center\"><Info>{texts.notMatch + keyword}</Info></Box>;\n      }else{\n        content = <Box textAlign=\"center\"><Info>{texts.noResource}</Info></Box>;\n      }\n\n    }else{\n      let nameHeader;\n      if(batchMode){\n        nameHeader = (\n          <Box display='flex' alignItems=\"center\">\n            <Box>\n              <Checkbox\n                onChange={handleAllClicked}\n                />\n            </Box>\n            <Box>\n              {texts.name}\n            </Box>\n          </Box>\n        );\n      }else{\n        nameHeader = texts.name;\n      }\n      let pagination;\n      if (totalCount > recordPerPage){\n        let totalPages, currentPage;\n        if (0 === totalCount % recordPerPage){\n          totalPages = totalCount / recordPerPage;\n        }else{\n          totalPages = (totalCount - totalCount % recordPerPage) / recordPerPage + 1;\n        }\n        if (0 === offset % recordPerPage){\n          currentPage = offset / recordPerPage + 1;\n        }else{\n          currentPage = (offset - offset % recordPerPage ) / recordPerPage + 1;\n        }\n        pagination = (\n          <Box justifyContent=\"center\" display=\"flex\">\n            <Box m={1}>\n            <Pagination\n                count={totalPages}\n                page={currentPage}\n                onChange={onPageChanged}\n                color='primary'\n                boundaryCount={3}\n                // hidePrevButton={1 === currentPage}\n                // hideNextButton={currentPage === totalPages}\n                showFirstButton\n                showLastButton\n                />\n            </Box>\n          </Box>\n        );\n      }else{\n        pagination = <div/>;\n      }\n\n      content = (\n        <div>\n          <OperableTable\n            color=\"primary\"\n            headers={[nameHeader, texts.cell, texts.address, texts.core, texts.memory, texts.disk, texts.status, texts.operates]}\n            rows={\n              instanceList.map(instance =>{\n                const instanceID = instance.id;\n                return (\n                  <InstanceRow\n                    key={instance.id}\n                    instance={instance}\n                    lang={lang}\n                    checked={checkedMap && checkedMap.has(instanceID) ? checkedMap.get(instanceID): false}\n                    checkable={batchMode}\n                    onCheckStatusChanged={handleInstanceChecked}\n                    onNotify={showNotifyMessage}\n                    onError={showErrorMessage}\n                    onDelete={showDeleteDialog}\n                    onMediaStart={showMediaStartDialog}\n                    onInsertMedia={showInsertMediaDialog}\n                    onResetSystem={showResetSystemDialog}\n                    onBuildImage={showBuildImageDialog}\n                    onStatusChange={onStatusChange}\n                    onMigrateInstance={showMigrateDialog}\n                    />\n                )\n              })}\n            />\n          {pagination}\n        </div>\n      );\n    }\n\n    var buttonProperties = [\n      {\n        label: texts.createButton,\n        icon: AddIcon,\n        color: \"info\",\n        onClick: showCreateDialog,\n      },\n      {\n        label: texts.batchCreate,\n        icon: PlaylistAddIcon,\n        color: \"info\",\n        onClick: showBatchCreateDialog,\n      }\n    ];\n    if (batchMode){\n      buttonProperties.push(\n        {\n          label: texts.batchDelete,\n          icon: DeleteIcon,\n          color: \"danger\",\n          onClick: showBatchDeleteDialog,\n        },\n        {\n          label: texts.batchStop,\n          icon: PowerSettingsNewIcon,\n          color: \"info\",\n          onClick: showBatchStopDialog,\n        },\n        {\n          label: texts.exitBatch,\n          icon: ExitToAppIcon,\n          color: \"success\",\n          onClick: exitBatchMode,\n        },\n      );\n    }else{\n      buttonProperties.push(\n        {\n          label: texts.enterBatch,\n          icon: ListIcon,\n          color: \"info\",\n          onClick: enterBatchMode,\n        }\n      );\n    }\n\n    var poolOptions = [\n      {\n        label: texts.allPools,\n        value: '',\n      }\n    ];\n\n    pools.forEach( poolName => {\n      poolOptions.push({\n        label: poolName,\n        value: poolName,\n      })\n    });\n\n    var cellOptions = [\n      {\n        label: texts.allCells,\n        value: '',\n      }\n    ];\n\n    cells.forEach( cell =>{\n      var label = cell.name;\n      if (cell.address){\n        label += '('+ cell.address +')';\n      }\n      if (!cell.alive){\n        label += '-' + texts.offline;\n      }\n      if (!cell.enabled){\n        label += '-' + texts.disabled;\n      }\n      cellOptions.push({\n        label: label,\n        value: cell.name,\n      })\n    });\n\n    const poolSelector = (\n      <Box m={0} pb={2}>\n        <InputLabel htmlFor=\"pool\" className={classes.cardCategory}>\n          {texts.pool}\n        </InputLabel>\n        <Select\n          value={scope.pool}\n          onChange={handlePoolChanged}\n          inputProps={{\n            name: 'pool',\n            id: 'pool',\n          }}\n          fullWidth\n          >\n          {\n            poolOptions.map( (option, key) => (\n              <MenuItem value={option.value} key={key}>{option.label}</MenuItem>\n            ))\n          }\n        </Select>\n      </Box>\n    );\n\n    const cellSelector = (\n      <Box m={0} pb={2}>\n        <InputLabel htmlFor=\"cell\" className={classes.cardCategory}>{texts.cell}</InputLabel>\n        <Select\n          value={scope.cell}\n          onChange={handleCellChanged}\n          inputProps={{\n            name: 'cell',\n            id: 'cell',\n          }}\n          fullWidth\n          >\n          {\n            cellOptions.map( (option, key) => (\n              <MenuItem value={option.value} key={key}>{option.label}</MenuItem>\n            ))\n          }\n        </Select>\n      </Box>\n    );\n\n    var batchTargets = [];\n    if(checkedMap){\n      checkedMap.forEach((checked, id) =>{\n        if(checked){\n          batchTargets.push(id);\n        }\n      });\n      batchTargets.sort();\n    }\n\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box display='flex'>\n            {\n              buttonProperties.map(({label, color, icon, onClick}, key) =>(\n                <Box key={key} m={1}>\n                  <Button size=\"sm\" color={color} round onClick={onClick}>\n                    {React.createElement(icon)}\n                    {label}\n                  </Button>\n                </Box>\n              ))\n            }\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n            <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box ml={1}>\n          <GridContainer>\n            <GridItem xs={5} sm={3} md={2}>\n              <Box pt={1}>\n                {poolSelector}\n              </Box>\n            </GridItem>\n            <GridItem xs={6} sm={4} md={2}>\n              <Box pt={1}>\n                {cellSelector}\n              </Box>\n            </GridItem>\n            <GridItem xs={10} sm={6} md={4}>\n              <TextField\n                value={keywordInput}\n                label={texts.keyword}\n                onChange={handleKeywordChange}\n                margin=\"normal\"\n                fullWidth\n              />\n            </GridItem>\n            <GridItem xs={2} sm={1}>\n              <Box pt={4}>\n                <Button size=\"sm\" color='info' round onClick={doSearch}>\n                  {texts.search}\n                </Button>\n              </Box>\n            </GridItem>\n          </GridContainer>\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              <h4 className={classes.cardTitleWhite}>{texts.tableTitle}</h4>\n            </CardHeader>\n            <CardBody>\n              {content}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <CreateDialog\n            lang={lang}\n            open={createDialogVisible}\n            onSuccess={onCreateSuccess}\n            onCancel={closeCreateDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <DeleteDialog\n            lang={lang}\n            instanceID={currentInstance}\n            open={deleteDialogVisible}\n            onSuccess={onDeleteSuccess}\n            onCancel={closeDeleteDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <StartWithMediaDialog\n            lang={lang}\n            instanceID={currentInstance}\n            open={mediaStartDialogVisible}\n            onSuccess={onMediaStartSuccess}\n            onCancel={closeMediaStartDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <InsertMediaDialog\n            lang={lang}\n            instanceID={currentInstance}\n            open={insertMediaDialogVisible}\n            onSuccess={onInsertMediaSuccess}\n            onCancel={closeInsertMediaDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ResetSystemDialog\n            lang={lang}\n            instanceID={currentInstance}\n            open={resetSystemDialogVisible}\n            onSuccess={onResetSystemSuccess}\n            onCancel={closeResetSystemDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <BuildImageDialog\n            lang={lang}\n            instanceID={currentInstance}\n            open={buildImageDialogVisible}\n            onSuccess={onBuildImageSuccess}\n            onCancel={closeBuildImageDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <MigrateInstanceDialog\n            lang={lang}\n            instanceID={currentInstance}\n            sourcePool={sourcePool}\n            sourceCell={sourceCell}\n            open={migrateDialogVisible}\n            onSuccess={onMigrateSuccess}\n            onCancel={closeMigrateDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <BatchStopDialog\n            lang={lang}\n            open={batchStopDialogVisible}\n            targets={batchStopDialogVisible? batchTargets : []}\n            onSuccess={onBatchStopSuccess}\n            onCancel={closeBatchStopDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <BatchDeleteDialog\n            lang={lang}\n            open={batchDeleteDialogVisible}\n            targets={batchDeleteDialogVisible? batchTargets : []}\n            onSuccess={onBatchDeleteSuccess}\n            onCancel={closeBatchDeleteDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <BatchCreateDialog\n            lang={lang}\n            open={batchCreateDialogVisible}\n            onSuccess={onBatchCreateSuccess}\n            onCancel={closeBatchCreateDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { removeGuestSecurityRule } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Remove Security Policy Rule',\n    content: 'Are you sure to remove ',\n    content2: 'th rule',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除安全规则',\n    content: '是否删除第 ',\n    content2: '个安全规则',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function RemoveDialog(props){\n  const { lang, open, guestID, index, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onRemoveFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onRemoveSuccess = () =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(guestID, index);\n  }\n\n  const handleRemove = () =>{\n    setOperatable(false);\n    removeGuestSecurityRule(guestID, index, onRemoveSuccess, onRemoveFail);\n  }\n\n  const content = texts.content + (index + 1) + texts.content2;\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleRemove,\n    },\n  ];\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { addGuestSecurityRule } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Add Security Policy Rule',\n    action: 'Action',\n    accept: 'Accept',\n    reject: 'Reject',\n    protocol: 'Protocol',\n    sourceAddress: 'Source Address',\n    targetPort: 'Target Port',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '添加安全规则',\n    action: '处理',\n    accept: '接受',\n    reject: '拒绝',\n    protocol: '协议',\n    sourceAddress: '来源地址',\n    targetPort: '目标端口',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function AddRuleDialog(props){\n\n  const protocolOptions = [\n    {\n      label: 'TCP',\n      value: 'tcp',\n    },\n    {\n      label: 'UDP',\n      value: 'udp',\n    }];\n  const defaultValues = {\n    action: 'accept',\n    protocol: '',\n    port: '',\n  };\n  const { lang, guestID, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const texts = i18n[lang];\n  const title = texts.title;\n  const actionOptions = [\n    {\n      label: texts.accept,\n      value: 'accept',\n    },\n    {\n      label: texts.reject,\n      value: 'reject',\n    },\n  ];\n  const onAddFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onAddSuccess = id =>{\n    setOperatable(true);\n    resetDialog();\n    onSuccess(id);\n  }\n\n  const handleAdd = () =>{\n    setOperatable(false);\n\n    if(!request.action){\n      onAddFail('must specify action');\n      return;\n    }\n    if(!request.protocol){\n      onAddFail('must specify protocol');\n      return;\n    }\n    if(!request.port){\n      onAddFail('must specify target port');\n      return;\n    }\n    var targetPort = Number.parseInt(request.port);\n    if(Number.isNaN(targetPort)){\n      onAddFail('invalid target port: ' + request.port);\n      return;\n    }\n\n    addGuestSecurityRule(guestID, request.action, request.protocol, targetPort, onAddSuccess, onAddFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n\n  //begin render\n  const inputs = [\n    {\n      type: \"radio\",\n      label: texts.action,\n      onChange: handleRequestPropsChanged('action'),\n      value: request.action,\n      options: actionOptions,\n      required: true,\n      oneRow: true,\n      xs: 10,\n      sm: 8,\n      md: 6,\n    },\n    {\n      type: \"select\",\n      label: texts.protocol,\n      onChange: handleRequestPropsChanged('protocol'),\n      value: request.protocol,\n      options: protocolOptions,\n      required: true,\n      oneRow: true,\n      xs: 8,\n      sm: 6,\n      md: 4,\n    },\n    {\n      type: \"text\",\n      label: texts.targetPort,\n      onChange: handleRequestPropsChanged('port'),\n      value: request.port,\n      required: true,\n      oneRow: true,\n      xs: 8,\n      sm: 6,\n      md: 4,\n    },\n  ];\n\n  const content = <InputList inputs={inputs}/>\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleAdd,\n    },\n  ];\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { modifyGuestSecurityRule } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Security Policy Rule',\n    action: 'Action',\n    accept: 'Accept',\n    reject: 'Reject',\n    protocol: 'Protocol',\n    sourceModifyress: 'Source Address',\n    targetPort: 'Target Port',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改安全规则',\n    action: '处理',\n    accept: '接受',\n    reject: '拒绝',\n    protocol: '协议',\n    sourceModifyress: '来源地址',\n    targetPort: '目标端口',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyRuleDialog(props){\n  const { lang, guestID, rule, open, onSuccess, onCancel } = props;\n  const protocolOptions = [\n    {\n      label: 'TCP',\n      value: 'tcp',\n    },\n    {\n      label: 'UDP',\n      value: 'udp',\n    }];\n  const defaultValues = {\n    action: rule.action,\n    protocol: rule.protocol,\n    port: rule.to_port,\n  };\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const texts = i18n[lang];\n  const title = texts.title;\n  const actionOptions = [\n    {\n      label: texts.accept,\n      value: 'accept',\n    },\n    {\n      label: texts.reject,\n      value: 'reject',\n    },\n  ];\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = id =>{\n    setOperatable(true);\n    resetDialog();\n    onSuccess(id);\n  }\n\n  const handleModify = () =>{\n    setOperatable(false);\n\n    if(!request.action){\n      onModifyFail('must specify action');\n      return;\n    }\n    if(!request.protocol){\n      onModifyFail('must specify protocol');\n      return;\n    }\n    if(!request.port){\n      onModifyFail('must specify target port');\n      return;\n    }\n    var targetPort = Number.parseInt(request.port);\n    if(Number.isNaN(targetPort)){\n      onModifyFail('invalid target port: ' + request.port);\n      return;\n    }\n\n    modifyGuestSecurityRule(guestID, rule.index, request.action, request.protocol, targetPort, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n\n    React.useEffect(()=>{\n      if (!guestID || !rule ){\n        return;\n      }\n\n      setMounted(true);\n      setRequest({\n        action: rule.action,\n        protocol: rule.protocol,\n        port: rule.to_port,\n      })\n      setInitialed(true);\n      return () => {\n        setMounted(false);\n      }\n    }, [mounted, open, guestID, rule, onModifyFail]);\n\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"radio\",\n        label: texts.action,\n        onChange: handleRequestPropsChanged('action'),\n        value: request.action,\n        options: actionOptions,\n        required: true,\n        oneRow: true,\n        xs: 10,\n        sm: 8,\n        md: 6,\n      },\n      {\n        type: \"select\",\n        label: texts.protocol,\n        onChange: handleRequestPropsChanged('protocol'),\n        value: request.protocol,\n        options: protocolOptions,\n        required: true,\n        oneRow: true,\n        xs: 8,\n        sm: 6,\n        md: 4,\n      },\n      {\n        type: \"text\",\n        label: texts.targetPort,\n        onChange: handleRequestPropsChanged('port'),\n        value: request.port,\n        required: true,\n        oneRow: true,\n        xs: 8,\n        sm: 6,\n        md: 4,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n    buttons.push({\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleModify,\n      });\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport Divider from '@material-ui/core/Divider';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport BuildIcon from '@material-ui/icons/Build';\nimport CheckIcon from '@material-ui/icons/Check';\nimport BlockIcon from '@material-ui/icons/Block';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport Box from '@material-ui/core/Box';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Table from \"components/Table/ObjectTable.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport RemoveDialog from \"views/Instances/RemoveRuleDialog.js\";\nimport AddDialog from \"views/Instances/AddRuleDialog.js\";\nimport ModifyDialog from \"views/Instances/ModifyRuleDialog.js\";\nimport fontStyles from \"assets/jss/material-dashboard-react/components/typographyStyle.js\";\nimport { getGuestSecurityPolicy, moveUpGuestSecurityRule,\n  moveDownGuestSecurityRule, changeGuestSecurityPolicyAction, writeLog } from \"nano_api.js\";\n\nconst styles = {\n  ...fontStyles,\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    createButton: \"Add New Rule\",\n    tableTitle: \"Security Policy Rules\",\n    rule: 'Rule',\n    action: 'Action',\n    protocol: 'Protocol',\n    sourceAddress: 'Source Address',\n    targetPort: 'Target Port',\n    default: 'Default Action',\n    accept: 'Accept',\n    reject: 'Reject',\n    operates: \"Operates\",\n    noResource: \"No security policy available\",\n    modify: 'Modify',\n    remove: 'Remove',\n    moveUp: 'Move Up',\n    moveDown: 'Move Down',\n    back: 'Back',\n  },\n  'cn':{\n    createButton: \"添加新规则\",\n    tableTitle: \"安全规则\",\n    rule: '规则',\n    action: '处理',\n    protocol: '协议',\n    sourceAddress: '来源地址',\n    targetPort: '目标端口',\n    default: '默认处理',\n    accept: '接受',\n    reject: '拒绝',\n    operates: \"操作\",\n    noResource: \"没有安全策略组\",\n    modify: '修改',\n    remove: '移除',\n    moveUp: '上移',\n    moveDown: '下移',\n    back: '返回',\n  }\n}\n\nexport default function SystemTemplates(props){\n    const guestID = props.match.params.id;\n    const { lang } = props;\n    const texts = i18n[lang];\n    const classes = useStyles();\n    const [ mounted, setMounted ] = React.useState(false);\n    const [ data, setData ] = React.useState(null);\n    //for dialog\n    const [ addDialogVisible, setAddDialogVisible ] = React.useState(false);\n    const [ modifyDialogVisible, setModifyDialogVisible ] = React.useState(false);\n    const [ remoeDialogVisible, setRemoveDialogVisible ] = React.useState(false);\n    const [ selected, setSelected ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage, mounted]);\n\n    const reloadAllData = React.useCallback(() => {\n      if (!mounted){\n        return;\n      }\n      getGuestSecurityPolicy(guestID, setData, showErrorMessage);\n    }, [guestID, showErrorMessage, mounted]);\n\n    const showNotifyMessage = msg => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    //modify\n    const showModifyDialog = rule =>{\n      setModifyDialogVisible(true);\n      setSelected(rule);\n    }\n\n    const closeModifyDialog = () =>{\n      setModifyDialogVisible(false);\n    }\n\n    const onModifySuccess = index =>{\n      closeModifyDialog();\n      showNotifyMessage(index + 'th rule modified');\n      reloadAllData();\n    };\n\n    //delete\n    const showRemoveDialog = rule =>{\n      setRemoveDialogVisible(true);\n      setSelected(rule);\n    }\n\n    const closeRemoveDialog = () =>{\n      setRemoveDialogVisible(false);\n    }\n\n    const onRemoveSuccess = (id, index) =>{\n      closeRemoveDialog();\n      showNotifyMessage(index + 'the rule removed');\n      reloadAllData();\n    };\n\n    //create\n    const showAddDialog = () =>{\n      setAddDialogVisible(true);\n    };\n\n    const closeAddDialog = () =>{\n      setAddDialogVisible(false);\n    }\n\n    const onAddSuccess = () =>{\n      closeAddDialog();\n      showNotifyMessage('new security policy rule added');\n      reloadAllData();\n    };\n\n    //move rule\n    const moveUp = rule =>{\n      const onMoveUpSuccess = (id, i) =>{\n        showNotifyMessage(i + 'th rule moved up');\n        reloadAllData();\n      }\n      moveUpGuestSecurityRule(guestID, rule.index, onMoveUpSuccess, showErrorMessage);\n    }\n\n    const moveDown = rule =>{\n      const onMoveDownSuccess = (id, i) =>{\n        showNotifyMessage(i + 'th rule moved down');\n        reloadAllData();\n      }\n      moveDownGuestSecurityRule(guestID, rule.index, onMoveDownSuccess, showErrorMessage);\n    }\n\n    const changeDefaultAction = e =>{\n      var action = e.target.value\n      const onChangeSuccess = () =>{\n        showNotifyMessage('default action changed to ' + action);\n        reloadAllData();\n      }\n      changeGuestSecurityPolicyAction(guestID, action, onChangeSuccess, showErrorMessage);\n    }\n\n    React.useEffect(() =>{\n      setMounted(true);\n      reloadAllData();\n      return () =>{\n        setMounted(false);\n      }\n    }, [reloadAllData]);\n\n    function dataToNodes(index, data, buttons){\n      const operates = buttons.map((button, key) => (\n        <IconButton label={button.label} icon={button.icon} onClick={button.onClick} key={key}/>\n      ))\n      const { action, protocol, from_address, to_port } = data;\n      let actionIcon;\n      if ('accept' === action){\n        actionIcon = (\n          <Tooltip title={texts.accept} placement=\"top\">\n            <CheckIcon className={classes.successText}/>\n          </Tooltip>);\n      }else{\n        actionIcon = (\n          <Tooltip title={texts.reject} placement=\"top\">\n            <BlockIcon className={classes.dangerText}/>\n          </Tooltip>);\n      }\n      return [ index, actionIcon, protocol, from_address, to_port, operates];\n    }\n\n    //begin rendering\n    let content;\n    if (null === data){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else{\n      var defaultAction = (\n        <FormControl component=\"fieldset\" fullWidth disabled>\n          <RadioGroup name=\"type\" value={data.default_action} onChange={changeDefaultAction} row>\n            <Box display='flex' alignItems='center'>\n              <Box><FormControlLabel value='accept' control={<Radio />} label={texts.accept}/></Box>\n              <Box><FormControlLabel value='reject' control={<Radio />} label={texts.reject}/></Box>\n            </Box>\n          </RadioGroup>\n        </FormControl>\n      )\n      var rows = [[texts.default, defaultAction]];\n      if (!data.rules || 0 === data.rules.length){\n        rows.push([<Box display=\"flex\" justifyContent=\"center\"><Info>{texts.noResource}</Info></Box>]);\n      }else{\n        data.rules.forEach( (rule, index) => {\n          var item = {\n            index: index,\n            action: rule.action,\n            protocol: rule.protocol,\n            to_port: rule.to_port,\n          }\n          var buttons = [\n            {\n              onClick: e => showModifyDialog(item),\n              icon: BuildIcon,\n              label: texts.modify,\n            },\n            {\n              onClick: e => showRemoveDialog(item),\n              icon: DeleteIcon,\n              label: texts.remove,\n            },\n          ];\n          if (data.rules.length - 1 !== index){\n            buttons.push({\n              onClick: e => moveDown(item),\n              icon: ArrowDownwardIcon,\n              label: texts.moveDown,\n            });\n          }\n          if (0 !== index){\n            buttons.push({\n              onClick: e => moveUp(item),\n              icon: ArrowUpwardIcon,\n              label: texts.moveUp,\n            });\n          }\n\n          rows.push(dataToNodes(index, rule, buttons));\n        });\n      }\n\n      content = (\n        <Table\n          color=\"primary\"\n          headers={[texts.rule, texts.action, texts.protocol, texts.sourceAddress, texts.targetPort, texts.operates]}\n          rows={rows}/>\n      );\n\n    }\n\n    var buttonProps = [\n      {\n        href: '/admin/instances/',\n        icon: NavigateBeforeIcon,\n        label: texts.back,\n      },\n      {\n        onClick: showAddDialog,\n        icon: AddIcon,\n        label: texts.createButton,\n      },\n    ];\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n          <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <GridContainer>\n            <GridItem xs={12} sm={6} md={4}>\n              <Box display=\"flex\">\n              {\n                buttonProps.map((p,key) => {\n                  if (p.href){\n                    return (\n                      <Box p={1} key={key}>\n                        <Button size=\"sm\" color=\"info\" round href={p.href}>\n                          {React.createElement(p.icon)}{p.label}\n                        </Button>\n                      </Box>\n                    );\n                  }else{\n                    return (\n                      <Box p={1} key={key}>\n                        <Button size=\"sm\" color=\"info\" round onClick={p.onClick}>\n                          {React.createElement(p.icon)}{p.label}\n                        </Button>\n                      </Box>\n                    );\n                  }\n                })\n              }\n              </Box>\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              <h4 className={classes.cardTitleWhite}>{texts.tableTitle}</h4>\n            </CardHeader>\n            <CardBody>\n              {content}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <Snackbar\n          place=\"tr\"\n          color={notifyColor}\n          message={notifyMessage}\n          open={\"\" !== notifyMessage}\n          closeNotification={closeNotify}\n          close\n        />\n        <AddDialog\n          lang={lang}\n          open={addDialogVisible}\n          guestID={guestID}\n          onSuccess={onAddSuccess}\n          onCancel={closeAddDialog}\n          />\n        <ModifyDialog\n          lang={lang}\n          open={modifyDialogVisible}\n          guestID={guestID}\n          rule={selected}\n          onSuccess={onModifySuccess}\n          onCancel={closeModifyDialog}\n          />\n        <RemoveDialog\n          lang={lang}\n          open={remoeDialogVisible}\n          guestID={guestID}\n          index={selected.index}\n          onSuccess={onRemoveSuccess}\n          onCancel={closeRemoveDialog}\n          />\n      </GridContainer>\n    );\n}\n","import { hexToRgb, whiteColor } from \"assets/jss/material-dashboard-react.js\";\n\nconst customTabsStyle = {\n  cardTitle: {\n    float: \"left\",\n    padding: \"10px 10px 10px 0px\",\n    lineHeight: \"24px\"\n  },\n  cardTitleRTL: {\n    float: \"right\",\n    padding: \"10px 0px 10px 10px !important\"\n  },\n  displayNone: {\n    display: \"none !important\"\n  },\n  tabsRoot: {\n    minHeight: \"unset !important\",\n    overflowX: \"visible\",\n    \"& $tabRootButton\": {\n      fontSize: \"0.875rem\"\n    }\n  },\n  tabRootButton: {\n    minHeight: \"unset !important\",\n    minWidth: \"unset !important\",\n    width: \"unset !important\",\n    height: \"unset !important\",\n    maxWidth: \"unset !important\",\n    maxHeight: \"unset !important\",\n    padding: \"10px 15px\",\n    borderRadius: \"3px\",\n    lineHeight: \"24px\",\n    border: \"0 !important\",\n    color: whiteColor + \" !important\",\n    marginLeft: \"4px\",\n    \"&:last-child\": {\n      marginLeft: \"0px\"\n    }\n  },\n  tabSelected: {\n    backgroundColor: \"rgba(\" + hexToRgb(whiteColor) + \", 0.2)\",\n    transition: \"0.2s background-color 0.1s\"\n  },\n  tabWrapper: {\n    display: \"inline-block\",\n    minHeight: \"unset !important\",\n    minWidth: \"unset !important\",\n    width: \"unset !important\",\n    height: \"unset !important\",\n    maxWidth: \"unset !important\",\n    maxHeight: \"unset !important\",\n    fontWeight: \"500\",\n    fontSize: \"12px\",\n    marginTop: \"1px\",\n    \"& > svg,& > .material-icons\": {\n      verticalAlign: \"middle\",\n      margin: \"-1px 5px 0 0 !important\"\n    }\n  }\n};\n\nexport default customTabsStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n\n// material-ui components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\n// core components\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\n\nimport styles from \"assets/jss/material-dashboard-react/components/customTabsStyle.js\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function CustomTabs(props) {\n  const [value, setValue] = React.useState(0);\n  const handleChange = (event, value) => {\n    setValue(value);\n  };\n  const classes = useStyles();\n  const { headerColor, plainTabs, tabs, title, rtlActive } = props;\n  const cardTitle = classNames({\n    [classes.cardTitle]: true,\n    [classes.cardTitleRTL]: rtlActive\n  });\n  return (\n    <Card plain={plainTabs}>\n      <CardHeader color={headerColor} plain={plainTabs}>\n        {title !== undefined ? <div className={cardTitle}>{title}</div> : null}\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          classes={{\n            root: classes.tabsRoot,\n            indicator: classes.displayNone,\n            scrollButtons: classes.displayNone\n          }}\n          variant=\"scrollable\"\n          scrollButtons=\"auto\"\n        >\n          {tabs.map((prop, key) => {\n            var icon = {};\n            if (prop.tabIcon) {\n              icon = {\n                icon: <prop.tabIcon />\n              };\n            }\n            return (\n              <Tab\n                classes={{\n                  root: classes.tabRootButton,\n                  selected: classes.tabSelected,\n                  wrapper: classes.tabWrapper\n                }}\n                key={key}\n                label={prop.tabName}\n                {...icon}\n              />\n            );\n          })}\n        </Tabs>\n      </CardHeader>\n      <CardBody>\n        {tabs.map((prop, key) => {\n          if (key === value) {\n            return <div key={key}>{prop.tabContent}</div>;\n          }\n          return null;\n        })}\n      </CardBody>\n    </Card>\n  );\n}\n\nCustomTabs.propTypes = {\n  headerColor: PropTypes.oneOf([\n    \"warning\",\n    \"success\",\n    \"danger\",\n    \"info\",\n    \"primary\",\n    \"rose\"\n  ]),\n  title: PropTypes.string,\n  tabs: PropTypes.arrayOf(\n    PropTypes.shape({\n      tabName: PropTypes.string.isRequired,\n      tabIcon: PropTypes.object,\n      tabContent: PropTypes.node.isRequired\n    })\n  ),\n  rtlActive: PropTypes.bool,\n  plainTabs: PropTypes.bool\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from '@material-ui/core/Box';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SingleRow from \"components/Grid/SingleRow.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { createUser } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Create User',\n    user: 'Username',\n    password: 'Password',\n    password2: 'Confirm Password',\n    nick: 'Nickname',\n    mail: 'Mail',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '创建用户',\n    user: '用户名',\n    password: '密码',\n    password2: '确认密码',\n    nick: '昵称',\n    mail: '邮箱',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function CreateUserDialog(props){\n  const defaultValues = {\n    user: '',\n    password: '',\n    password2: '',\n    nick: '',\n    mail: '',\n  };\n  const { lang, open, onSuccess, onCancel } = props;\n  const [ error, setError ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const texts = i18n[lang];\n  const onCreateFail = (msg) =>{\n    setError(msg);\n  }\n  const resetDialog = () =>{\n    setError('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onCreateSuccess = username =>{\n    resetDialog();\n    onSuccess(username);\n  }\n\n  const confirmCreate = () =>{\n    const namePattern = new RegExp('[^\\\\w-.]');\n\n    if(!request.user){\n      onCreateFail('must specify user name');\n      return;\n    }else if (namePattern.test(request.user)){\n      onCreateFail(\"only letter/digit/'-'/'_'/'.' allowed in username\");\n      return;\n    }\n\n    if(!request.password){\n      onCreateFail('please input password');\n      return;\n    }else if (request.password2 !== request.password){\n      onCreateFail('password mismatch');\n      return;\n    }\n\n    createUser(request.user, request.password, request.nick, request.mail, onCreateSuccess, onCreateFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  //begin render\n  const content = (\n      <Grid container>\n        <SingleRow>\n          <GridItem xs={12} sm={6} md={4}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.user}\n                onChange={handleRequestPropsChanged('user')}\n                value={request.user}\n                margin=\"normal\"\n                required\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n        <SingleRow>\n          <GridItem xs={12} sm={10} md={8}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.password}\n                onChange={handleRequestPropsChanged('password')}\n                value={request.password}\n                margin=\"normal\"\n                type='password'\n                required\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n        <SingleRow>\n          <GridItem xs={12} sm={10} md={8}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.password2}\n                onChange={handleRequestPropsChanged('password2')}\n                value={request.password2}\n                margin=\"normal\"\n                type='password'\n                required\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n        <SingleRow>\n          <GridItem xs={12} sm={10} md={8}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.nick}\n                onChange={handleRequestPropsChanged('nick')}\n                value={request.nick}\n                margin=\"normal\"\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n        <SingleRow>\n          <GridItem xs={12} sm={10} md={8}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.mail}\n                onChange={handleRequestPropsChanged('mail')}\n                value={request.mail}\n                margin=\"normal\"\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n      </Grid>\n    );\n\n  let prompt;\n  if (!error || '' === error){\n    prompt = <GridItem xs={12}/>;\n  }else{\n    prompt = (\n      <GridItem xs={12}>\n        <SnackbarContent message={error} color=\"danger\"/>\n      </GridItem>\n    );\n  }\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby={texts.title}\n      maxWidth=\"sm\"\n      fullWidth\n    >\n      <DialogTitle>{texts.title}</DialogTitle>\n      <DialogContent>\n        <Grid container>\n          <GridItem xs={12}>\n            {content}\n          </GridItem>\n          {prompt}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"transparent\" autoFocus>\n          {texts.cancel}\n        </Button>\n        <Button onClick={confirmCreate} color=\"info\">\n          {texts.confirm}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from '@material-ui/core/Box';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SingleRow from \"components/Grid/SingleRow.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { getUser, modifyUser } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify User',\n    user: 'Username',\n    nick: 'Nickname',\n    mail: 'Mail',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改用户',\n    user: '用户名',\n    nick: '昵称',\n    mail: '邮箱',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyUserDialog(props){\n  const defaultValues = {\n    user: '',\n    nick: '',\n    mail: '',\n  };\n  const { lang, name, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ error, setError ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const texts = i18n[lang];\n  const onModifyFail = (msg) =>{\n    setError(msg);\n  }\n  const resetDialog = () =>{\n    setError('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = username =>{\n    resetDialog();\n    onSuccess(username);\n  }\n\n  const confirmModify = () =>{\n    modifyUser(request.user, request.nick, request.mail, onModifySuccess, onModifyFail);\n  }\n\n  React.useEffect(()=>{\n    if (!name || !open || initialed ){\n      return;\n    }\n\n    const onGetUserSuccess = user =>{\n      setRequest({\n        user: name,\n        nick: user.nick ? user.nick : '',\n        mail: user.mail ? user.mail : '',\n      })\n      setInitialed(true);\n    };\n\n    getUser(name, onGetUserSuccess, onModifyFail);\n\n  }, [initialed, open, name]);\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  //begin render\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    content = (\n      <Grid container>\n        <SingleRow>\n          <GridItem xs={12} sm={6} md={4}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.user}\n                value={request.user}\n                margin=\"normal\"\n                disabled\n                required\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n        <SingleRow>\n          <GridItem xs={12} sm={10} md={8}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.nick}\n                onChange={handleRequestPropsChanged('nick')}\n                value={request.nick}\n                margin=\"normal\"\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n        <SingleRow>\n          <GridItem xs={12} sm={10} md={8}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.mail}\n                onChange={handleRequestPropsChanged('mail')}\n                value={request.mail}\n                margin=\"normal\"\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n      </Grid>\n    );\n  }\n\n  let prompt;\n  if (!error || '' === error){\n    prompt = <GridItem xs={12}/>;\n  }else{\n    prompt = (\n      <GridItem xs={12}>\n        <SnackbarContent message={error} color=\"danger\"/>\n      </GridItem>\n    );\n  }\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby={texts.title}\n      maxWidth=\"sm\"\n      fullWidth\n    >\n      <DialogTitle>{texts.title}</DialogTitle>\n      <DialogContent>\n        <Grid container>\n          <GridItem xs={12}>\n            {content}\n          </GridItem>\n          {prompt}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"transparent\" autoFocus>\n          {texts.cancel}\n        </Button>\n        <Button onClick={confirmModify} color=\"info\">\n          {texts.confirm}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { deleteUser } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Delete User',\n    content: 'Are you sure to delete user ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除用户',\n    content: '是否删除用户 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function DeleteUserDialog(props){\n  const { lang, name, open, onSuccess, onCancel } = props;\n  const [ error, setError ] = React.useState('');\n  const texts = i18n[lang];\n  const onDeleteFail = (msg) =>{\n    setError(msg);\n  }\n\n  const closeDialog = ()=>{\n    setError('');\n    onCancel();\n  }\n\n  const onDeleteSuccess = (name) =>{\n    setError('');\n    onSuccess(name);\n  }\n\n  const confirmDelete = () =>{\n    deleteUser(name, onDeleteSuccess, onDeleteFail);\n  }\n\n\n  //begin render\n  let prompt;\n  if (!error || '' === error){\n    prompt = <GridItem xs={12}/>;\n  }else{\n    prompt = (\n      <GridItem xs={12}>\n        <SnackbarContent message={error} color=\"danger\"/>\n      </GridItem>\n    );\n  }\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby={texts.title}\n      maxWidth=\"xs\"\n      fullWidth\n    >\n      <DialogTitle>{texts.title}</DialogTitle>\n      <DialogContent>\n        <Grid container>\n          <GridItem xs={12}>\n            {texts.content + name}\n          </GridItem>\n          {prompt}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"transparent\" autoFocus>\n          {texts.cancel}\n        </Button>\n        <Button onClick={confirmDelete} color=\"info\">\n          {texts.confirm}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from '@material-ui/core/Container';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport CreateIcon from '@material-ui/icons/Create';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport OperableTable from \"components/Table/OperableTable.js\";\nimport CreateUserDialog from \"views/Users/CreateUserDialog\";\nimport ModifyUserDialog from \"views/Users/ModifyUserDialog\";\nimport DeleteUserDialog from \"views/Users/DeleteUserDialog\";\nimport { getLoggedSession, logoutSession, redirectToLogin } from 'utils.js';\nimport { queryAllUsers, writeLog } from \"nano_api.js\";\nimport tableStyles from \"assets/jss/material-dashboard-react/components/tableStyle.js\";\n\nconst styles = {\n  ...tableStyles,\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    createButton: \"Create New User\",\n    name: 'User Name',\n    modify: 'Modify',\n    delete: 'Delete',\n    operates: 'Operates',\n    noResource: 'No User Available',\n  },\n  'cn':{\n    createButton: \"创建新用户\",\n    name: '用户名',\n    modify: '修改',\n    delete: '删除',\n    operates: '操作',\n    noResource: '尚未创建用户',\n  }\n}\n\nexport default function UserTab(props){\n    const classes = useStyles();\n    const [ userList, setUserList ] = React.useState(null);\n\n    //for dialog\n    const [ createDialogVisible, setCreateDialogVisible ] = React.useState(false);\n    const [ deleteDialogVisible, setDeleteDialogVisible ] = React.useState(false);\n    const [ modifyDialogVisible, setModifyDialogVisible ] = React.useState(false);\n    const [ currentUser, setCurrentUser ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage]);\n\n    const reloadAllUsers = React.useCallback(() => {\n      const onLoadFail = (err) =>{\n        showErrorMessage(err);\n        logoutSession();\n      }\n      queryAllUsers(setUserList, onLoadFail);\n    }, [ showErrorMessage]);\n\n    const showNotifyMessage = (msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    //detail\n    const showModifyDialog = username =>{\n      setModifyDialogVisible(true);\n      setCurrentUser(username);\n    }\n\n    const closeModifyDialog = () =>{\n      setModifyDialogVisible(false);\n    }\n\n    const onModifySuccess = username =>{\n      closeModifyDialog();\n      showNotifyMessage('user '+ username + ' modified');\n      reloadAllUsers();\n    };\n\n    //delete\n    const showDeleteDialog = username =>{\n      setDeleteDialogVisible(true);\n      setCurrentUser(username);\n    }\n\n    const closeDeleteDialog = () =>{\n      setDeleteDialogVisible(false);\n    }\n\n    const onDeleteSuccess = username =>{\n      closeDeleteDialog();\n      showNotifyMessage('user '+ username + ' deleted');\n      reloadAllUsers();\n    };\n\n    //create\n    const showCreateDialog = () =>{\n      setCreateDialogVisible(true);\n    };\n\n    const closeCreateDialog = () =>{\n      setCreateDialogVisible(false);\n    }\n\n    const onCreateSuccess = username =>{\n      closeCreateDialog();\n      showNotifyMessage('user '+ username + ' created');\n      reloadAllUsers();\n    };\n\n    React.useEffect(() =>{\n      reloadAllUsers();\n    }, [reloadAllUsers]);\n\n\n    //reder begin\n    var session = getLoggedSession();\n    if (null === session){\n      return redirectToLogin();\n    }\n\n    const { lang } = props;\n    const texts = i18n[lang];\n    let content;\n    if (null === userList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === userList.length){\n      content = <Info>{texts.noResource}</Info>;\n    }else{\n      content = (\n        <OperableTable\n          color=\"primary\"\n          headers={[texts.name, texts.operates]}\n          rows={\n            userList.map((username, key) => {\n              const name = username;\n              var operators = [<IconButton key='modify' label={texts.modify} icon={EditIcon} onClick={() => showModifyDialog(name)}/>]\n              if (name !== session.user){\n                operators.push(<IconButton key='delete' label={texts.delete} icon={DeleteIcon} onClick={() => showDeleteDialog(name)}/>)\n              }\n              return (\n                <TableRow className={classes.tableBodyRow} key={key}>\n                  <TableCell className={classes.tableCell}>\n                    {username}\n                  </TableCell>\n                  <TableCell className={classes.tableCell}>\n                    {operators}\n                  </TableCell>\n                </TableRow>\n              )\n            })}\n          />\n      );\n    }\n\n    const buttons = [\n      <Button size=\"sm\" color=\"info\" round onClick={showCreateDialog}><CreateIcon />{texts.createButton}</Button>,\n    ];\n\n    return (\n\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box display='flex'>\n            {\n              buttons.map((button, key) =>(\n                <Box key={key} m={1}>\n                  {button}\n                </Box>\n              ))\n            }\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n            <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Container maxWidth='sm'>\n            {content}\n          </Container>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <CreateUserDialog\n            lang={lang}\n            open={createDialogVisible}\n            onSuccess={onCreateSuccess}\n            onCancel={closeCreateDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyUserDialog\n            lang={lang}\n            name={currentUser}\n            open={modifyDialogVisible}\n            onSuccess={onModifySuccess}\n            onCancel={closeModifyDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <DeleteUserDialog\n            lang={lang}\n            name={currentUser}\n            open={deleteDialogVisible}\n            onSuccess={onDeleteSuccess}\n            onCancel={closeDeleteDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from '@material-ui/core/Box';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SingleRow from \"components/Grid/SingleRow.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { addGroup, queryAllRoles } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Add Group',\n    name: 'Group Name',\n    display: 'Display Name',\n    role: 'Roles',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '添加用户组',\n    name: '组名称',\n    display: '显示名称',\n    role: '角色清单',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function AddGroupDialog(props){\n  const defaultValues = {\n    name: '',\n    display: '',\n    checked: new Set(),\n  };\n  const { lang, open, onSuccess, onCancel } = props;\n  const texts = i18n[lang];\n  const [ options, setOptions]  = React.useState([]);\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ error, setError ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const onAddFail = (msg) =>{\n    setError(msg);\n  }\n\n  const resetDialog = () =>{\n    setError('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onAddSuccess = name =>{\n    resetDialog();\n    onSuccess(name);\n  }\n\n  const confirmAdd = () => {\n    if(!request.name){\n      onAddFail('Group name required');\n      return;\n    }\n    if(!request.display){\n      onAddFail('Display name required');\n      return;\n    }\n    if(!request.checked || 0 === request.checked.size){\n      onAddFail('Select at least one role');\n      return;\n    }\n\n    //push by order\n    var roles = [];\n    options.forEach(rolename => {\n      if(request.checked.has(rolename)){\n        roles.push(rolename);\n      }\n    })\n    addGroup(request.name, request.display, roles, onAddSuccess, onAddFail);\n  }\n\n  React.useEffect(()=>{\n    if (!open || initialed ){\n      return;\n    }\n\n    const onQueryRolesSuccess = dataList => {\n      setOptions(dataList);\n      setInitialed(true);\n    }\n\n    queryAllRoles(onQueryRolesSuccess, onAddFail);\n\n  }, [initialed, open]);\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleTagsChanged = e =>{\n    const value = e.target.value;\n    var checked = e.target.checked;\n    var previous = {\n      ...request,\n    };\n\n    if(checked){\n      previous.checked.add(value);\n    }else{\n      previous.checked.delete(value);\n    }\n    setRequest(previous);\n  };\n\n  //begin render\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    content = (\n      <Grid container>\n        <SingleRow>\n          <GridItem xs={12} sm={6} md={4}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.name}\n                onChange={handleRequestPropsChanged('name')}\n                value={request.name}\n                margin=\"normal\"\n                required\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n        <SingleRow>\n          <GridItem xs={12} sm={10} md={8}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.display}\n                onChange={handleRequestPropsChanged('display')}\n                value={request.display}\n                margin=\"normal\"\n                required\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n        <SingleRow>\n          <GridItem xs={12}>\n            <Box m={0} pt={2}>\n              <FormControl component=\"fieldset\" fullWidth>\n                <FormLabel component=\"legend\">{texts.role}</FormLabel>\n                <FormGroup>\n                  <Grid container>\n                    {\n                        options.map((rolename, key) => {\n                          let checked;\n                          if (request.checked.has(rolename)){\n                            checked = true;\n                          }else{\n                            checked = false;\n                          }\n                          return (\n                            <GridItem xs={6} sm={3} key={key}>\n                              <FormControlLabel\n                                control={<Checkbox checked={checked} onChange={handleTagsChanged} value={rolename}/>}\n                                label={rolename}\n                              />\n                            </GridItem>\n                          )\n                        })\n                    }\n                  </Grid>\n                </FormGroup>\n              </FormControl>\n            </Box>\n          </GridItem>\n        </SingleRow>\n      </Grid>\n    );\n  }\n\n  let prompt;\n  if (!error || '' === error){\n    prompt = <GridItem xs={12}/>;\n  }else{\n    prompt = (\n      <GridItem xs={12}>\n        <SnackbarContent message={error} color=\"danger\"/>\n      </GridItem>\n    );\n  }\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby={texts.title}\n      maxWidth=\"md\"\n      fullWidth\n    >\n      <DialogTitle>{texts.title}</DialogTitle>\n      <DialogContent>\n        <Grid container>\n          <GridItem xs={12}>\n            {content}\n          </GridItem>\n          {prompt}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"transparent\" autoFocus>\n          {texts.cancel}\n        </Button>\n        <Button onClick={confirmAdd} color=\"info\">\n          {texts.confirm}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from '@material-ui/core/Box';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SingleRow from \"components/Grid/SingleRow.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { getGroup, modifyGroup, queryAllRoles } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Group',\n    name: 'Group Name',\n    display: 'Display Name',\n    role: 'Roles',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改用户组',\n    name: '组名称',\n    display: '显示名称',\n    role: '角色清单',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyGroupDialog(props){\n  const defaultValues = {\n    display: '',\n    checked: new Set(),\n  };\n  const { lang, name, open, onSuccess, onCancel } = props;\n  const texts = i18n[lang];\n  const [ options, setOptions]  = React.useState([]);\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ error, setError ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const onModifyFail = (msg) =>{\n    setError(msg);\n  }\n  const resetDialog = () =>{\n    setError('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = () =>{\n    resetDialog();\n    onSuccess(name);\n  }\n\n  const confirmModify = () => {\n    if(!request.checked || 0 === request.checked.size){\n      onModifyFail('Select at least one role');\n      return;\n    }\n    if(!request.display){\n      onModifyFail('Display name required');\n      return;\n    }\n    //push by order\n    var roles = [];\n    options.forEach(rolename => {\n      if(request.checked.has(rolename)){\n        roles.push(rolename);\n      }\n    })\n    modifyGroup(name, request.display, roles, onModifySuccess, onModifyFail);\n  }\n\n  React.useEffect(()=>{\n    if (!name || !open || initialed ){\n      return;\n    }\n    var roleList = [];\n    const onGetGroupSuccess = data =>{\n      const { display, role } = data;\n      var checked = new Set();\n      role.forEach( rolename => {\n        checked.add(rolename);\n      })\n      setRequest({\n        display: display,\n        checked: checked,\n      })\n      setOptions(roleList);\n      setInitialed(true);\n    };\n\n    const onQueryRolesSuccess = dataList => {\n      roleList = dataList;\n      getGroup(name, onGetGroupSuccess, onModifyFail);\n    }\n\n    queryAllRoles(onQueryRolesSuccess, onModifyFail);\n\n  }, [initialed, open, name]);\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n  \n  const handleTagsChanged = e =>{\n    const value = e.target.value;\n    var checked = e.target.checked;\n    var previous = {\n      ...request,\n    };\n\n    if(checked){\n      previous.checked.add(value);\n    }else{\n      previous.checked.delete(value);\n    }\n    setRequest(previous);\n  };\n\n  //begin render\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    content = (\n      <Grid container>\n        <SingleRow>\n          <GridItem xs={12} sm={6} md={4}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.name}\n                value={name}\n                margin=\"normal\"\n                disabled\n                required\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n        <SingleRow>\n          <GridItem xs={12} sm={10} md={8}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.display}\n                onChange={handleRequestPropsChanged('display')}\n                value={request.display}\n                margin=\"normal\"\n                required\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n        <SingleRow>\n          <GridItem xs={12}>\n            <Box m={0} pt={2}>\n              <FormControl component=\"fieldset\" fullWidth>\n                <FormLabel component=\"legend\">{texts.role}</FormLabel>\n                <FormGroup>\n                  <Grid container>\n                    {\n                        options.map((rolename, key) => {\n                          let checked;\n                          if (request.checked.has(rolename)){\n                            checked = true;\n                          }else{\n                            checked = false;\n                          }\n                          return (\n                            <GridItem xs={6} sm={3} key={key}>\n                              <FormControlLabel\n                                control={<Checkbox checked={checked} onChange={handleTagsChanged} value={rolename}/>}\n                                label={rolename}\n                              />\n                            </GridItem>\n                          )\n                        })\n                    }\n                  </Grid>\n                </FormGroup>\n              </FormControl>\n            </Box>\n          </GridItem>\n        </SingleRow>\n      </Grid>\n    );\n  }\n\n  let prompt;\n  if (!error || '' === error){\n    prompt = <GridItem xs={12}/>;\n  }else{\n    prompt = (\n      <GridItem xs={12}>\n        <SnackbarContent message={error} color=\"danger\"/>\n      </GridItem>\n    );\n  }\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby={texts.title}\n      maxWidth=\"md\"\n      fullWidth\n    >\n      <DialogTitle>{texts.title}</DialogTitle>\n      <DialogContent>\n        <Grid container>\n          <GridItem xs={12}>\n            {content}\n          </GridItem>\n          {prompt}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"transparent\" autoFocus>\n          {texts.cancel}\n        </Button>\n        <Button onClick={confirmModify} color=\"info\">\n          {texts.confirm}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { removeGroup } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Remove Group',\n    content: 'Are you sure to remove group ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除用户组',\n    content: '是否删除用户组 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function RemoveGroupDialog(props){\n  const { lang, name, open, onSuccess, onCancel } = props;\n  const [ error, setError ] = React.useState('');\n  const texts = i18n[lang];\n  const onRemoveFail = (msg) =>{\n    setError(msg);\n  }\n\n  const closeDialog = ()=>{\n    setError('');\n    onCancel();\n  }\n\n  const onRemoveSuccess = name =>{\n    setError('');\n    onSuccess(name);\n  }\n\n  const confirmRemove = () =>{\n    removeGroup(name, onRemoveSuccess, onRemoveFail);\n  }\n\n  //begin render\n  let prompt;\n  if (!error || '' === error){\n    prompt = <GridItem xs={12}/>;\n  }else{\n    prompt = (\n      <GridItem xs={12}>\n        <SnackbarContent message={error} color=\"danger\"/>\n      </GridItem>\n    );\n  }\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby={texts.title}\n      maxWidth=\"xs\"\n      fullWidth\n    >\n      <DialogTitle>{texts.title}</DialogTitle>\n      <DialogContent>\n        <Grid container>\n          <GridItem xs={12}>\n            {texts.content + name}\n          </GridItem>\n          {prompt}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"transparent\" autoFocus>\n          {texts.cancel}\n        </Button>\n        <Button onClick={confirmRemove} color=\"info\">\n          {texts.confirm}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from '@material-ui/core/Container';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport GroupIcon from '@material-ui/icons/Group';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport OperableTable from \"components/Table/OperableTable.js\";\nimport AddGroupDialog from \"views/Users/AddGroupDialog\";\nimport ModifyGroupDialog from \"views/Users/ModifyGroupDialog\";\nimport RemoveGroupDialog from \"views/Users/RemoveGroupDialog\";\nimport { getLoggedSession, logoutSession, redirectToLogin } from 'utils.js';\nimport { queryAllGroups, writeLog } from \"nano_api.js\";\nimport tableStyles from \"assets/jss/material-dashboard-react/components/tableStyle.js\";\n\nconst styles = {\n  ...tableStyles,\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    createButton: \"Add New Group\",\n    name: 'Group Name',\n    display: 'Display Name',\n    modify: 'Modify',\n    remove: 'Remove',\n    member: 'Members',\n    operates: 'Operates',\n    noResource: 'No Group Available',\n  },\n  'cn':{\n    createButton: \"创建新用户组\",\n    name: '用户组名',\n    display: '显示名称',\n    modify: '修改',\n    remove: '删除',\n    member: '成员',\n    operates: '操作',\n    noResource: '尚未创建用户组',\n  }\n}\n\nexport default function GroupTab(props){\n    const { lang } = props;\n    const showMembers = props.setGroup;\n    const classes = useStyles();\n    const [ groupList, setGroupList ] = React.useState(null);\n\n    //for dialog\n    const [ addDialogVisible, setAddDialogVisible ] = React.useState(false);\n    const [ removeDialogVisible, setRemoveDialogVisible ] = React.useState(false);\n    const [ modifyDialogVisible, setModifyDialogVisible ] = React.useState(false);\n    const [ currentGroup, setCurrentGroup ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage]);\n\n    const reloadAllGroups = React.useCallback(() => {\n      const onLoadFail = (err) =>{\n        showErrorMessage(err);\n        logoutSession();\n      }\n      queryAllGroups(setGroupList, onLoadFail);\n    }, [ showErrorMessage]);\n\n    const showNotifyMessage = (msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    //detail\n    const showModifyDialog = groupName =>{\n      setModifyDialogVisible(true);\n      setCurrentGroup(groupName);\n    }\n\n    const closeModifyDialog = () =>{\n      setModifyDialogVisible(false);\n    }\n\n    const onModifySuccess = groupName =>{\n      closeModifyDialog();\n      showNotifyMessage('group '+ groupName + ' modified');\n      reloadAllGroups();\n    };\n\n    //remove\n    const showRemoveDialog = groupName =>{\n      setRemoveDialogVisible(true);\n      setCurrentGroup(groupName);\n    }\n\n    const closeRemoveDialog = () =>{\n      setRemoveDialogVisible(false);\n    }\n\n    const onRemoveSuccess = groupName =>{\n      closeRemoveDialog();\n      showNotifyMessage('group '+ groupName + ' removed');\n      reloadAllGroups();\n    };\n\n    //create\n    const showAddDialog = () =>{\n      setAddDialogVisible(true);\n    };\n\n    const closeAddDialog = () =>{\n      setAddDialogVisible(false);\n    }\n\n    const onAddSuccess = groupName =>{\n      closeAddDialog();\n      showNotifyMessage('new group '+ groupName + ' added');\n      reloadAllGroups();\n    };\n\n    React.useEffect(() =>{\n      reloadAllGroups();\n    }, [reloadAllGroups]);\n\n\n    //reder begin\n    var session = getLoggedSession();\n    if (null === session){\n      return redirectToLogin();\n    }\n\n    const texts = i18n[lang];\n    let content;\n    if (null === groupList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === groupList.length){\n      content = <Info>{texts.noResource}</Info>;\n    }else{\n      content = (\n        <OperableTable\n          color=\"primary\"\n          headers={[texts.name, texts.display, texts.member, texts.operates]}\n          rows={\n            groupList.map((group, key) => {\n              const name = group.name;\n              var operators = [\n                <IconButton key='modify' label={texts.modify} icon={EditIcon} onClick={() => showModifyDialog(name)}/>,\n                <IconButton key='member' label={texts.member} icon={GroupIcon} onClick={() => showMembers(name)}/>,\n              ];\n              if (name !== session.group){\n                operators.push(<IconButton key='remove' label={texts.remove} icon={DeleteIcon} onClick={() => showRemoveDialog(name)}/>)\n              }\n              return (\n                <TableRow className={classes.tableBodyRow} key={key}>\n                  <TableCell className={classes.tableCell}>\n                    {name}\n                  </TableCell>\n                  <TableCell className={classes.tableCell}>\n                    {group.display}\n                  </TableCell>\n                  <TableCell className={classes.tableCell}>\n                    {group.member.toString()}\n                  </TableCell>\n                  <TableCell className={classes.tableCell}>\n                    {operators}\n                  </TableCell>\n                </TableRow>\n              )\n            })}\n          />\n      );\n    }\n\n    const buttons = [\n      <Button size=\"sm\" color=\"info\" round onClick={showAddDialog}><AddIcon />{texts.createButton}</Button>,\n    ];\n\n    return (\n\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box display='flex'>\n            {\n              buttons.map((button, key) =>(\n                <Box key={key} m={1}>\n                  {button}\n                </Box>\n              ))\n            }\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n            <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Container maxWidth='sm'>\n            {content}\n          </Container>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <AddGroupDialog\n            lang={lang}\n            open={addDialogVisible}\n            onSuccess={onAddSuccess}\n            onCancel={closeAddDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyGroupDialog\n            lang={lang}\n            name={currentGroup}\n            open={modifyDialogVisible}\n            onSuccess={onModifySuccess}\n            onCancel={closeModifyDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <RemoveGroupDialog\n            lang={lang}\n            name={currentGroup}\n            open={removeDialogVisible}\n            onSuccess={onRemoveSuccess}\n            onCancel={closeRemoveDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from '@material-ui/core/Box';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { searchUsers, addGroupMember } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Add Group Member ',\n    name: 'User',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '添加新成员 ',\n    name: '用户名',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function AddMemberDialog(props){\n  const defaultValues = {\n    member: '',\n  };\n  const { lang, group, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ error, setError ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const [ options, setOptions ] = React.useState([]);\n\n  const texts = i18n[lang];\n  const onAddFail = (msg) =>{\n    setError(msg);\n  }\n  const resetDialog = () => {\n    setError('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  }\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onAddSuccess = member =>{\n    resetDialog();\n    onSuccess(member, group);\n  }\n\n  const confirmAdd = () =>{\n    if(!request.member || '' === request.member){\n      onAddFail('must select an user');\n    }\n    addGroupMember(group, request.member, onAddSuccess, onAddFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!open || initialed){\n      return;\n    }\n\n    const onQueryUserSuccess = dataList => {\n      if (0 === dataList.length){\n        onAddFail('no unallocated users available');\n        return;\n      }\n      setOptions(dataList);\n      setInitialed(true);\n    };\n\n    searchUsers(null, onQueryUserSuccess, onAddFail);\n  }, [initialed, open]);\n\n  //begin render\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    content = (\n      <Grid container>\n        <GridItem xs={8}>\n          <Box m={1} p={2}>\n          <InputLabel htmlFor=\"member\">{texts.name}</InputLabel>\n          <Select\n            value={request.member}\n            onChange={handleRequestPropsChanged('member')}\n            inputProps={{\n              name: 'member',\n              id: 'member',\n            }}\n            fullWidth\n          >\n            {\n              options.map(username =>(\n                <MenuItem value={username} key={username}>{username}</MenuItem>\n              ))\n            }\n          </Select>\n          </Box>\n        </GridItem>\n      </Grid>\n    );\n  }\n\n  let prompt;\n  if (!error || '' === error){\n    prompt = <GridItem xs={12}/>;\n  }else{\n    prompt = (\n      <GridItem xs={12}>\n        <SnackbarContent message={error} color=\"danger\"/>\n      </GridItem>\n    );\n  }\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby={texts.title}\n      maxWidth=\"sm\"\n      fullWidth\n    >\n      <DialogTitle>{texts.title}</DialogTitle>\n      <DialogContent>\n        <Grid container>\n          <GridItem xs={12}>\n            {content}\n          </GridItem>\n          {prompt}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"transparent\" autoFocus>\n          {texts.cancel}\n        </Button>\n        <Button onClick={confirmAdd} color=\"info\">\n          {texts.confirm}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { removeGroupMember } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Remove Group Member',\n    content: 'Are you sure to remove member ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除成员',\n    content: '是否删除用户组成员 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function RemoveMemberDialog(props){\n  const { lang, group, member, open, onSuccess, onCancel } = props;\n  const [ error, setError ] = React.useState('');\n  const texts = i18n[lang];\n  const onRemoveFail = (msg) =>{\n    setError(msg);\n  }\n\n  const closeDialog = ()=>{\n    setError('');\n    onCancel();\n  }\n\n  const onRemoveSuccess = () =>{\n    setError('');\n    onSuccess(member, group);\n  }\n\n  const confirmRemove = () =>{\n    removeGroupMember(group, member, onRemoveSuccess, onRemoveFail);\n  }\n\n  //begin render\n  let prompt;\n  if (!error || '' === error){\n    prompt = <GridItem xs={12}/>;\n  }else{\n    prompt = (\n      <GridItem xs={12}>\n        <SnackbarContent message={error} color=\"danger\"/>\n      </GridItem>\n    );\n  }\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby={texts.title}\n      maxWidth=\"xs\"\n      fullWidth\n    >\n      <DialogTitle>{texts.title}</DialogTitle>\n      <DialogContent>\n        <Grid container>\n          <GridItem xs={12}>\n            {texts.content + member}\n          </GridItem>\n          {prompt}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"transparent\" autoFocus>\n          {texts.cancel}\n        </Button>\n        <Button onClick={confirmRemove} color=\"info\">\n          {texts.confirm}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from '@material-ui/core/Container';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport OperableTable from \"components/Table/OperableTable.js\";\nimport AddMemberDialog from \"views/Users/AddMemberDialog\";\nimport RemoveMemberDialog from \"views/Users/RemoveMemberDialog\";\nimport { getLoggedSession, logoutSession, redirectToLogin } from 'utils.js';\nimport { queryGroupMembers,writeLog } from \"nano_api.js\";\nimport tableStyles from \"assets/jss/material-dashboard-react/components/tableStyle.js\";\n\nconst styles = {\n  ...tableStyles,\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    addButton: \"Add Group Member\",\n    backButton: \"Back\",\n    remove: 'Remove',\n    member: 'Member',\n    operates: 'Operates',\n    noResource: 'No Member Available',\n  },\n  'cn':{\n    addButton: \"增加新成员\",\n    backButton: \"返回\",\n    remove: '删除',\n    member: '成员',\n    operates: '操作',\n    noResource: '尚未添加成员',\n  }\n}\n\nexport default function GroupMemberTab(props){\n    const { lang, group, onBack } = props;\n    const classes = useStyles();\n    const [ memberList, setMemberList ] = React.useState(null);\n\n    //for dialog\n    const [ addDialogVisible, setAddDialogVisible ] = React.useState(false);\n    const [ removeDialogVisible, setRemoveDialogVisible ] = React.useState(false);\n    const [ currentMember, setCurrentMember ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage]);\n\n    const reloadAllMembers = React.useCallback(() => {\n      const onLoadFail = (err) =>{\n        showErrorMessage(err);\n        logoutSession();\n      }\n      queryGroupMembers(group, setMemberList, onLoadFail);\n    }, [ showErrorMessage, group]);\n\n    const showNotifyMessage = (msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    //remove\n    const showRemoveDialog = name =>{\n      setRemoveDialogVisible(true);\n      setCurrentMember(name);\n    }\n\n    const closeRemoveDialog = () =>{\n      setRemoveDialogVisible(false);\n    }\n\n    const onRemoveSuccess = name =>{\n      closeRemoveDialog();\n      showNotifyMessage('member '+ name + ' removed');\n      reloadAllMembers();\n    };\n\n    //create\n    const showAddDialog = () =>{\n      setAddDialogVisible(true);\n    };\n\n    const closeAddDialog = () =>{\n      setAddDialogVisible(false);\n    }\n\n    const onAddSuccess = name =>{\n      closeAddDialog();\n      showNotifyMessage('member '+ name + ' added');\n      reloadAllMembers();\n    };\n\n    React.useEffect(() =>{\n      reloadAllMembers();\n    }, [reloadAllMembers]);\n\n\n    //reder begin\n    var session = getLoggedSession();\n    if (null === session){\n      return redirectToLogin();\n    }\n\n    const texts = i18n[lang];\n    let content;\n    if (null === memberList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === memberList.length){\n      content = <Info>{texts.noResource}</Info>;\n    }else{\n      content = (\n        <OperableTable\n          color=\"primary\"\n          headers={[texts.member, texts.operates]}\n          rows={\n            memberList.map((member, key) => {\n              var operators = [\n                <IconButton key='remove' label={texts.remove} icon={DeleteIcon} onClick={() => showRemoveDialog(member)}/>,\n              ];\n\n              return (\n                <TableRow className={classes.tableBodyRow} key={key}>\n                  <TableCell className={classes.tableCell}>\n                    {member}\n                  </TableCell>\n                  <TableCell className={classes.tableCell}>\n                    {operators}\n                  </TableCell>\n                </TableRow>\n              )\n            })}\n          />\n      );\n    }\n\n    const buttons = [\n      <Button size=\"sm\" color=\"info\" round onClick={onBack}><NavigateBeforeIcon />{texts.backButton}</Button>,\n      <Button size=\"sm\" color=\"info\" round onClick={showAddDialog}><AddIcon />{texts.addButton}</Button>,\n    ];\n\n    return (\n\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box display='flex'>\n            {\n              buttons.map((button, key) =>(\n                <Box key={key} m={1}>\n                  {button}\n                </Box>\n              ))\n            }\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n            <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Container maxWidth='sm'>\n            {content}\n          </Container>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <AddMemberDialog\n            lang={lang}\n            group={group}\n            open={addDialogVisible}\n            onSuccess={onAddSuccess}\n            onCancel={closeAddDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <RemoveMemberDialog\n            lang={lang}\n            group={group}\n            member={currentMember}\n            open={removeDialogVisible}\n            onSuccess={onRemoveSuccess}\n            onCancel={closeRemoveDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from '@material-ui/core/Box';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SingleRow from \"components/Grid/SingleRow.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { addRole, getAllMenus } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Add Role',\n    name: 'Name',\n    menu: 'Menus',\n    dashboard: 'Dashboard',\n    computePool: 'Compute Pools',\n    addressPool: 'Address Pools',\n    storagePool: 'Storage Pools',\n    instance: 'Instances',\n    diskImage: 'Disk Image',\n    mediaImage: 'Media Image',\n    user: 'Users',\n    log: 'Logs',\n    visibility: 'Resource Visibility',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '新增角色',\n    name: '名称',\n    menu: '可用菜单',\n    dashboard: '仪表盘',\n    computePool: '计算资源池',\n    addressPool: '地址资源池',\n    storagePool: '存储资源池',\n    instance: '云主机实例',\n    diskImage: '磁盘镜像',\n    mediaImage: '光盘镜像',\n    user: '用户',\n    log: '日志',\n    visibility: '资源可见性',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function AddRoleDialog(props){\n  const defaultValues = {\n    name: '',\n    checked: new Set(),\n  };\n  const { lang, open, onSuccess, onCancel } = props;\n  const texts = i18n[lang];\n  const options = getAllMenus(lang);\n  const [ error, setError ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const onAddFail = (msg) =>{\n    setError(msg);\n  }\n  const resetDialog = () =>{\n    setError('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onAddSuccess = rolename =>{\n    resetDialog();\n    onSuccess(rolename);\n  }\n\n  const confirmAdd = () =>{\n    if(!request.name){\n      onAddFail('must specify role name');\n      return;\n    }\n\n    if(!request.checked || 0 === request.checked.size){\n      onAddFail('Select at least one menu item');\n      return;\n    }\n    //puy by order\n    var menus = [];\n    options.forEach(menu => {\n      if(request.checked.has(menu.value)){\n        menus.push(menu.value);\n      }\n    })\n    addRole(request.name, menus, onAddSuccess, onAddFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleTagsChanged = e =>{\n    const value = e.target.value;\n    var checked = e.target.checked;\n    var previous = {\n      ...request,\n    };\n\n    if(checked){\n      previous.checked.add(value);\n    }else{\n      previous.checked.delete(value);\n    }\n    setRequest(previous);\n  };\n\n  //begin render\n  const content = (\n      <Grid container>\n        <SingleRow>\n          <GridItem xs={12} sm={6} md={4}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.name}\n                onChange={handleRequestPropsChanged('name')}\n                value={request.name}\n                margin=\"normal\"\n                required\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n        <SingleRow>\n          <GridItem xs={12}>\n            <Box m={0} pt={2}>\n            <FormControl component=\"fieldset\" fullWidth>\n              <FormLabel component=\"legend\">{texts.menu}</FormLabel>\n              <FormGroup>\n                <Grid container>\n                  {\n                      options.map((tag, key) => {\n                        const { value, label } = tag;\n                        let checked;\n                        if (request.checked.has(value)){\n                          checked = true;\n                        }else{\n                          checked = false;\n                        }\n                        return (\n                          <GridItem xs={6} sm={3} key={key}>\n                            <FormControlLabel\n                              control={<Checkbox checked={checked} onChange={handleTagsChanged} value={value}/>}\n                              label={label}\n                            />\n                          </GridItem>\n                        )\n                      })\n                  }\n                </Grid>\n              </FormGroup>\n            </FormControl>\n            </Box>\n          </GridItem>\n        </SingleRow>\n      </Grid>\n    );\n\n  let prompt;\n  if (!error || '' === error){\n    prompt = <GridItem xs={12}/>;\n  }else{\n    prompt = (\n      <GridItem xs={12}>\n        <SnackbarContent message={error} color=\"danger\"/>\n      </GridItem>\n    );\n  }\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby={texts.title}\n      maxWidth=\"md\"\n      fullWidth\n    >\n      <DialogTitle>{texts.title}</DialogTitle>\n      <DialogContent>\n        <Grid container>\n          <GridItem xs={12}>\n            {content}\n          </GridItem>\n          {prompt}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"transparent\" autoFocus>\n          {texts.cancel}\n        </Button>\n        <Button onClick={confirmAdd} color=\"info\">\n          {texts.confirm}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from '@material-ui/core/Box';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SingleRow from \"components/Grid/SingleRow.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { getRole, modifyRole, getAllMenus } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Role',\n    name: 'Name',\n    menu: 'Menus',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改角色权限',\n    name: '名称',\n    menu: '可用菜单',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyRoleDialog(props){\n  const defaultValues = {\n    checked: new Set(),\n  };\n  const { lang, name, open, onSuccess, onCancel } = props;\n  const texts = i18n[lang];\n  const options = getAllMenus(lang);\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ error, setError ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n\n  const onModifyFail = (msg) =>{\n    setError(msg);\n  }\n  const resetDialog = () =>{\n    setError('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = () =>{\n    resetDialog();\n    onSuccess(name);\n  }\n\n  const confirmModify = () => {\n    if(!request.checked || 0 === request.checked.size){\n      onModifyFail('Select at least one menu item');\n      return;\n    }\n    //puy by order\n    var menus = [];\n    options.forEach(menu => {\n      if(request.checked.has(menu.value)){\n        menus.push(menu.value);\n      }\n    })\n    modifyRole(name, menus, onModifySuccess, onModifyFail);\n  }\n\n  React.useEffect(()=>{\n    if (!name || !open || initialed ){\n      return;\n    }\n\n    const onGetRoleSuccess = data =>{\n      const { menu } = data;\n      var updated = new Set();\n      menu.forEach(itemValue => {\n        updated.add(itemValue);\n      })\n      setRequest({\n        checked: updated,\n      })\n      setInitialed(true);\n    };\n\n    getRole(name, onGetRoleSuccess, onModifyFail);\n\n  }, [initialed, open, name]);\n\n  const handleTagsChanged = e =>{\n    const value = e.target.value;\n    var checked = e.target.checked;\n    var previous = {\n      ...request,\n    };\n\n    if(checked){\n      previous.checked.add(value);\n    }else{\n      previous.checked.delete(value);\n    }\n    setRequest(previous);\n  };\n\n  //begin render\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    content = (\n      <Grid container>\n        <SingleRow>\n          <GridItem xs={12} sm={6} md={4}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.name}\n                value={name}\n                margin=\"normal\"\n                disabled\n                required\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n        </SingleRow>\n        <SingleRow>\n          <GridItem xs={12}>\n            <Box m={0} pt={2}>\n              <FormControl component=\"fieldset\" fullWidth>\n                <FormLabel component=\"legend\">{texts.menu}</FormLabel>\n                <FormGroup>\n                  <Grid container>\n                    {\n                        options.map((tag, key) => {\n                          const { value, label } = tag;\n                          let checked;\n                          if (request.checked.has(value)){\n                            checked = true;\n                          }else{\n                            checked = false;\n                          }\n                          return (\n                            <GridItem xs={6} sm={3} key={key}>\n                              <FormControlLabel\n                                control={<Checkbox checked={checked} onChange={handleTagsChanged} value={value}/>}\n                                label={label}\n                              />\n                            </GridItem>\n                          )\n                        })\n                    }\n                  </Grid>\n                </FormGroup>\n              </FormControl>\n            </Box>\n          </GridItem>\n        </SingleRow>\n      </Grid>\n    );\n  }\n\n  let prompt;\n  if (!error || '' === error){\n    prompt = <GridItem xs={12}/>;\n  }else{\n    prompt = (\n      <GridItem xs={12}>\n        <SnackbarContent message={error} color=\"danger\"/>\n      </GridItem>\n    );\n  }\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby={texts.title}\n      maxWidth=\"md\"\n      fullWidth\n    >\n      <DialogTitle>{texts.title}</DialogTitle>\n      <DialogContent>\n        <Grid container>\n          <GridItem xs={12}>\n            {content}\n          </GridItem>\n          {prompt}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"transparent\" autoFocus>\n          {texts.cancel}\n        </Button>\n        <Button onClick={confirmModify} color=\"info\">\n          {texts.confirm}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { removeRole } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Remove Role',\n    content: 'Are you sure to remove role ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除角色',\n    content: '是否删除角色 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function RemoveRoleDialog(props){\n  const { lang, name, open, onSuccess, onCancel } = props;\n  const [ error, setError ] = React.useState('');\n  const texts = i18n[lang];\n  const onRemoveFail = (msg) =>{\n    setError(msg);\n  }\n\n  const closeDialog = ()=>{\n    setError('');\n    onCancel();\n  }\n\n  const onRemoveSuccess = (name) =>{\n    setError('');\n    onSuccess(name);\n  }\n\n  const confirmRemove = () =>{\n    removeRole(name, onRemoveSuccess, onRemoveFail);\n  }\n\n\n  //begin render\n  let prompt;\n  if (!error || '' === error){\n    prompt = <GridItem xs={12}/>;\n  }else{\n    prompt = (\n      <GridItem xs={12}>\n        <SnackbarContent message={error} color=\"danger\"/>\n      </GridItem>\n    );\n  }\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby={texts.title}\n      maxWidth=\"xs\"\n      fullWidth\n    >\n      <DialogTitle>{texts.title}</DialogTitle>\n      <DialogContent>\n        <Grid container>\n          <GridItem xs={12}>\n            {texts.content + name}\n          </GridItem>\n          {prompt}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"transparent\" autoFocus>\n          {texts.cancel}\n        </Button>\n        <Button onClick={confirmRemove} color=\"info\">\n          {texts.confirm}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from '@material-ui/core/Container';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport OperableTable from \"components/Table/OperableTable.js\";\nimport AddRoleDialog from \"views/Users/AddRoleDialog\";\nimport ModifyRoleDialog from \"views/Users/ModifyRoleDialog\";\nimport RemoveRoleDialog from \"views/Users/RemoveRoleDialog\";\nimport { getLoggedSession, logoutSession, redirectToLogin } from 'utils.js';\nimport { queryAllRoles, writeLog } from \"nano_api.js\";\nimport tableStyles from \"assets/jss/material-dashboard-react/components/tableStyle.js\";\n\nconst styles = {\n  ...tableStyles,\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    createButton: \"Add New Role\",\n    name: 'Role Name',\n    modify: 'Modify',\n    delete: 'Remove',\n    operates: 'Operates',\n    noResource: 'No Role Available',\n  },\n  'cn':{\n    createButton: \"增加新角色\",\n    name: '角色名',\n    modify: '修改',\n    delete: '删除',\n    operates: '操作',\n    noResource: '尚未创建角色',\n  }\n}\n\nexport default function RoleTab(props){\n    const classes = useStyles();\n    const [ roleList, setRoleList ] = React.useState(null);\n\n    //for dialog\n    const [ addDialogVisible, setAddDialogVisible ] = React.useState(false);\n    const [ removeDialogVisible, setRemoveDialogVisible ] = React.useState(false);\n    const [ modifyDialogVisible, setModifyDialogVisible ] = React.useState(false);\n    const [ currentRole, setCurrentRole ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage]);\n\n    const reloadAllRoles = React.useCallback(() => {\n      const onLoadFail = (err) =>{\n        showErrorMessage(err);\n        logoutSession();\n      }\n      queryAllRoles(setRoleList, onLoadFail);\n    }, [ showErrorMessage]);\n\n    const showNotifyMessage = (msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    //detail\n    const showModifyDialog = rolename =>{\n      setModifyDialogVisible(true);\n      setCurrentRole(rolename);\n    }\n\n    const closeModifyDialog = () =>{\n      setModifyDialogVisible(false);\n    }\n\n    const onModifySuccess = rolename =>{\n      closeModifyDialog();\n      showNotifyMessage('role '+ rolename + ' modified');\n      reloadAllRoles();\n    };\n\n    //delete\n    const showRemoveDialog = rolename =>{\n      setRemoveDialogVisible(true);\n      setCurrentRole(rolename);\n    }\n\n    const closeRemoveDialog = () =>{\n      setRemoveDialogVisible(false);\n    }\n\n    const onRemoveSuccess = rolename =>{\n      closeRemoveDialog();\n      showNotifyMessage('role '+ rolename + ' removed');\n      reloadAllRoles();\n    };\n\n    //create\n    const showAddDialog = () =>{\n      setAddDialogVisible(true);\n    };\n\n    const closeAddDialog = () =>{\n      setAddDialogVisible(false);\n    }\n\n    const onAddSuccess = rolename =>{\n      closeAddDialog();\n      showNotifyMessage('role '+ rolename + ' added');\n      reloadAllRoles();\n    };\n\n    React.useEffect(() =>{\n      reloadAllRoles();\n    }, [reloadAllRoles]);\n\n\n    //reder begin\n    var session = getLoggedSession();\n    if (null === session){\n      return redirectToLogin();\n    }\n\n    const { lang } = props;\n    const texts = i18n[lang];\n    let content;\n    if (null === roleList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === roleList.length){\n      content = <Info>{texts.noResource}</Info>;\n    }else{\n      content = (\n        <OperableTable\n          color=\"primary\"\n          headers={[texts.name, texts.operates]}\n          rows={\n            roleList.map((rolename, key) => {\n              const name = rolename;\n              var operators = [\n                <IconButton key='modify' label={texts.modify} icon={EditIcon} onClick={() => showModifyDialog(name)}/>,\n                <IconButton key='remove' label={texts.delete} icon={DeleteIcon} onClick={() => showRemoveDialog(name)}/>,\n              ];\n\n              return (\n                <TableRow className={classes.tableBodyRow} key={key}>\n                  <TableCell className={classes.tableCell}>\n                    {rolename}\n                  </TableCell>\n                  <TableCell className={classes.tableCell}>\n                    {operators}\n                  </TableCell>\n                </TableRow>\n              )\n            })}\n          />\n      );\n    }\n\n    const buttons = [\n      <Button size=\"sm\" color=\"info\" round onClick={showAddDialog}><AddIcon />{texts.createButton}</Button>,\n    ];\n\n    return (\n\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box display='flex'>\n            {\n              buttons.map((button, key) =>(\n                <Box key={key} m={1}>\n                  {button}\n                </Box>\n              ))\n            }\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n            <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Container maxWidth='sm'>\n            {content}\n          </Container>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <AddRoleDialog\n            lang={lang}\n            open={addDialogVisible}\n            onSuccess={onAddSuccess}\n            onCancel={closeAddDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <ModifyRoleDialog\n            lang={lang}\n            name={currentRole}\n            open={modifyDialogVisible}\n            onSuccess={onModifySuccess}\n            onCancel={closeModifyDialog}\n            />\n        </GridItem>\n        <GridItem>\n          <RemoveRoleDialog\n            lang={lang}\n            name={currentRole}\n            open={removeDialogVisible}\n            onSuccess={onRemoveSuccess}\n            onCancel={closeRemoveDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport PersonIcon from '@material-ui/icons/Person';\nimport GroupIcon from '@material-ui/icons/Group';\nimport ListAltIcon from '@material-ui/icons/ListAlt';\n\nimport Tabs from \"components/CustomTabs/CustomTabs.js\";\nimport UserTab from \"views/Users/UserTab\";\nimport GroupTab from \"views/Users/GroupTab\";\nimport GroupMemberTab from \"views/Users/GroupMemberTab\";\nimport RoleTab from \"views/Users/RoleTab\";\n\nconst i18n = {\n  'en':{\n    title: 'Permissions',\n    user: 'Users',\n    group: 'User Groups',\n    role: 'Roles',\n  },\n  'cn':{\n    title: '权限管理',\n    user: '用户',\n    group: '用户组',\n    role: '角色',\n  },\n}\n\nconst MutableGroupTab = props => {\n  const { lang } = props;\n  const [ group, setGroup ] = React.useState('');\n  if(group){\n    return <GroupMemberTab lang={lang} group={group} onBack={() => setGroup('')}/>;\n  }else{\n    return <GroupTab lang={lang} setGroup={setGroup}/>;\n  }\n}\n\nexport default function Main(props){\n  const { lang } = props;\n  const texts = i18n[lang];\n  return (\n    <Tabs\n      title={texts.title}\n      headerColor=\"primary\"\n      tabs={[\n        {\n          tabName: texts.user,\n          tabIcon: PersonIcon,\n          tabContent: <UserTab lang={lang}/>,\n        },\n        {\n          tabName: texts.group,\n          tabIcon: GroupIcon,\n          tabContent: <MutableGroupTab lang={lang}/>,\n        },\n        {\n          tabName: texts.role,\n          tabIcon: ListAltIcon,\n          tabContent: <RoleTab lang={lang}/>,\n        },\n      ]}\n    />\n  )\n\n}\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport BuildIcon from '@material-ui/icons/Build';\nimport Box from '@material-ui/core/Box';\nimport Checkbox from '@material-ui/core/Checkbox';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport OperableTable from \"components/Table/OperableTable.js\";\nimport tableStyles from \"assets/jss/material-dashboard-react/components/tableStyle.js\";\nimport { getLoggedSession, redirectToLogin } from 'utils.js';\nimport { getVisibilities, setVisiblities, writeLog } from \"nano_api.js\";\n\nconst styles = {\n  ...tableStyles,\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    modify: 'Modify',\n    visibility: 'Group Resource Visibility',\n    description: 'Description',\n    instance: 'Instances Visible',\n    instanceDescription: 'User can browse instances created by other users in the same group when enabled. Otherwise, an instance is only visible to its creator by default.',\n    disk: 'Disk Images Visible',\n    diskDescription: 'User can browse disk images created by other users in the same group when enabled. Otherwise, an image is only visible to its creator by default.',\n    media: 'Media Images Visible',\n    mediaDescription: 'User can browse media images created by other users in the same group when enabled. Otherwise, an image is only visible to its creator by default.',\n  },\n  'cn':{\n    modify: '修改',\n    visibility: '组资源可见性',\n    description: '描述',\n    instance: '云主机实例组内可见',\n    instanceDescription: '勾选后，用户可以查看同一组内其他用户创建的云主机实例(默认仅对创建者可见)',\n    disk: '磁盘镜像组内可见',\n    diskDescription: '勾选后，用户可以查看同一组内其他用户创建的磁盘镜像(默认仅对创建者可见)',\n    media: '光盘镜像组内可见',\n    mediaDescription: '勾选后，用户可以查看同一组内其他用户创建的光盘镜像(默认仅对创建者可见)',\n  }\n}\n\nconst VisibilityRow = props => {\n  const { checked, onChange, label, description, classes } = props;\n  return (\n    <TableRow className={classes.tableBodyRow}>\n      <TableCell className={classes.tableCell}>\n        <Box display='flex' alignItems=\"center\">\n          <Box>\n            <Checkbox\n              checked={checked}\n              onChange={onChange}\n              />\n          </Box>\n          <Box>\n            {label}\n          </Box>\n        </Box>\n      </TableCell>\n      <TableCell className={classes.tableCell}>\n        {description}\n      </TableCell>\n    </TableRow>\n  );\n}\n\nexport default function Visibilities(props){\n    const defaultValues = {\n      instanceVisible: false,\n      diskImageVisible: false,\n      mediaImageVisible: false,\n    }\n    const { lang } = props;\n    const texts = i18n[lang];\n    const classes = useStyles();\n    const [ initialed, setInitialed ] = React.useState(false);\n    const [ request, setRequest ] = React.useState(defaultValues);\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage]);\n\n    const reloadVisibility = React.useCallback(() => {\n      const onLoadFail = (err) =>{\n        showErrorMessage(err);\n      }\n      const onLoadSuccess = data => {\n        var updated = {\n        }\n        if(data.instance_visible){\n          updated.instanceVisible = true;\n        }\n        if(data.disk_image_visible){\n          updated.diskImageVisible = true;\n        }\n        if(data.media_image_visible){\n          updated.mediaImageVisible = true;\n        }\n        setRequest(updated);\n        setInitialed(true);\n      }\n      getVisibilities(onLoadSuccess, onLoadFail);\n    }, [showErrorMessage]);\n\n    const showNotifyMessage = (msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    const handleRequestPropsChanged = name => e =>{\n      var checked = e.target.checked\n      setRequest(previous => ({\n        ...previous,\n        [name]: checked,\n      }));\n    };\n\n    const modify = () =>{\n      const onOperateSuccess = () =>{\n        showNotifyMessage('Visibilities updated');\n        writeLog('Visibilities updated');\n      }\n      setVisiblities(request.instanceVisible, request.diskImageVisible, request.mediaImageVisible, onOperateSuccess, showErrorMessage);\n    }\n\n    React.useEffect(() =>{\n      reloadVisibility();\n    }, [reloadVisibility]);\n\n\n    //reder begin\n    var session = getLoggedSession();\n    if (null === session){\n      return redirectToLogin();\n    }\n    let content;\n    if (!initialed){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else{\n      content = (\n        <OperableTable\n          color=\"primary\"\n          headers={[texts.visibility, texts.visibility]}\n          rows={[\n            <VisibilityRow key='instance'\n              checked={request.instanceVisible}\n              onChange={handleRequestPropsChanged('instanceVisible')}\n              label={texts.instance}\n              description={texts.instanceDescription}\n              classes={classes}/>\n            ,\n            <VisibilityRow key='disk'\n              checked={request.diskImageVisible}\n              onChange={handleRequestPropsChanged('diskImageVisible')}\n              label={texts.disk}\n              description={texts.diskDescription}\n              classes={classes}/>\n            ,\n            <VisibilityRow key='media'\n              checked={request.mediaImageVisible}\n              onChange={handleRequestPropsChanged('mediaImageVisible')}\n              label={texts.media}\n              description={texts.mediaDescription}\n              classes={classes}/>\n            ,\n          ]}\n          />\n      );\n    }\n\n    const buttons = [\n      <Button key='modify' color=\"info\" onClick={modify}>\n        <BuildIcon />{texts.modify}\n      </Button>,\n    ];\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          {content}\n        </GridItem>\n        <GridItem xs={12}>\n          <Box display='flex'>\n            {\n              buttons.map((button, key) =>(\n                <Box key={key} m={1}>\n                  {button}\n                </Box>\n              ))\n            }\n          </Box>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { deleteSecurityPolicyGroup } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Delete Security Policy',\n    content: 'Are you sure to delete security policy ',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除安全策略',\n    content: '是否删除安全策略 ',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function DeletePolicyDialog(props){\n  const { lang, policyID, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onDeleteFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onDeleteSuccess = () =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(policyID);\n  }\n\n  const handleDelete = () =>{\n    setOperatable(false);\n    deleteSecurityPolicyGroup(policyID, onDeleteSuccess, onDeleteFail);\n  }\n\n  const content = texts.content + policyID;\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleDelete,\n    },\n  ];\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { createSecurityPolicyGroup } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Create New Security Policy',\n    name: 'Name',\n    description: 'Description',\n    enable: 'Enable',\n    enabled: 'Enabled',\n    disabled: 'Disabled',\n    global: 'Global',\n    yes: 'Yes',\n    no: 'No',\n    defaultAction: 'Default Action',\n    accept: 'Accept',\n    reject: 'Reject',\n    format: \"only letter/digit/'_' allowed\",\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '创建新安全策略',\n    name: \"名称\",\n    description: '描述',\n    enable: '是否启用',\n    enabled: '已启用',\n    disabled: '已禁用',\n    global: '全局可见',\n    yes: '是',\n    no: '否',\n    defaultAction: '默认处理',\n    accept: '接受',\n    reject: '拒绝',\n    format: \"仅允许字母数字与下划线_\",\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function CreatePolicyDialog(props){\n  const defaultValues = {\n    name: '',\n    description: '',\n    action: 'accept',\n    enabled: true,\n    global: false,\n  };\n  const { lang, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const texts = i18n[lang];\n  const title = texts.title;\n  const actionOptions = [\n    {\n      label: texts.accept,\n      value: 'accept',\n    },\n    {\n      label: texts.reject,\n      value: 'reject',\n    },\n  ];\n  const onCreateFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onCreateSuccess = id =>{\n    setOperatable(true);\n    resetDialog();\n    onSuccess(id);\n  }\n\n  const handleCreate = () =>{\n    setOperatable(false);\n\n    if(!request.action){\n      onCreateFail('must specify action');\n      return;\n    }\n\n    const namePattern = new RegExp('[^\\\\w]');\n    if(!request.name){\n      onCreateFail('must specify policy name');\n      return;\n    }if (namePattern.test(request.name)){\n      onCreateFail(texts.format);\n      return;\n    }\n\n    createSecurityPolicyGroup(request.name, request.description, request.enabled,\n      request.global, request.action, onCreateSuccess, onCreateFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleRequestSwitchChanged = name => e =>{\n    var value = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  //begin render\n  const inputs = [\n    {\n      type: \"text\",\n      label: texts.name,\n      onChange: handleRequestPropsChanged('name'),\n      value: request.name,\n      required: true,\n      oneRow: true,\n      xs: 8,\n      sm: 6,\n      md: 4,\n    },\n    {\n      type: \"radio\",\n      label: texts.defaultAction,\n      onChange: handleRequestPropsChanged('action'),\n      value: request.action,\n      options: actionOptions,\n      disabled: true,\n      oneRow: true,\n      xs: 10,\n      sm: 8,\n      md: 6,\n    },\n    {\n      type: \"switch\",\n      label: texts.enable,\n      onChange: handleRequestSwitchChanged('enabled'),\n      value: request.enabled,\n      on: texts.enabled,\n      off: texts.disabled,\n      oneRow: true,\n      xs: 6,\n    },\n    {\n      type: \"switch\",\n      label: texts.global,\n      onChange: handleRequestSwitchChanged('global'),\n      value: request.global,\n      on: texts.yes,\n      off: texts.no,\n      oneRow: true,\n      xs: 6,\n    },\n    {\n      type: \"textarea\",\n      label: texts.description,\n      onChange: handleRequestPropsChanged('description'),\n      value: request.description,\n      oneRow: true,\n      rows: 3,\n      xs: 10,\n    },\n  ];\n\n  const content = <InputList inputs={inputs}/>\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleCreate,\n    },\n  ];\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { modifySecurityPolicyGroup, getSecurityPolicyGroup } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Security Policy',\n    name: 'Name',\n    description: 'Description',\n    enable: 'Enable',\n    enabled: 'Enabled',\n    disabled: 'Disabled',\n    global: 'Global',\n    yes: 'Yes',\n    no: 'No',\n    defaultAction: 'Default Action',\n    accept: 'Accept',\n    reject: 'Reject',\n    format: \"only letter/digit/'_' allowed\",\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改安全策略',\n    name: \"名称\",\n    description: '描述',\n    enable: '是否启用',\n    enabled: '已启用',\n    disabled: '已禁用',\n    global: '全局可见',\n    yes: '是',\n    no: '否',\n    defaultAction: '默认处理',\n    accept: '接受',\n    reject: '拒绝',\n    format: \"仅允许字母数字与下划线_\",\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyPolicyDialog(props){\n  const defaultValues = {\n    name: '',\n    description: '',\n    action: 'accept',\n    enabled: true,\n    global: false,\n  };\n  const { lang, policyID, open, onSuccess, onCancel } = props;\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const texts = i18n[lang];\n  const title = texts.title;\n  const actionOptions = [\n    {\n      label: texts.accept,\n      value: 'accept',\n    },\n    {\n      label: texts.reject,\n      value: 'reject',\n    },\n  ];\n\n  const onModifyFail =React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = () =>{\n    setOperatable(true);\n    resetDialog();\n    onSuccess(policyID);\n  }\n\n  const handleConfirm = () =>{\n    setOperatable(false);\n\n    if(!request.action){\n      onModifyFail('must specify action');\n      return;\n    }\n\n    const namePattern = new RegExp('[^\\\\w]');\n    if(!request.name){\n      onModifyFail('must specify policy name');\n      return;\n    }if (namePattern.test(request.name)){\n      onModifyFail(texts.format);\n      return;\n    }\n\n    modifySecurityPolicyGroup(policyID, request.name, request.description, request.enabled,\n      request.global, request.action, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const handleRequestSwitchChanged = name => e =>{\n    var value = e.target.checked\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  React.useEffect(()=>{\n    if (!policyID || !open ){\n      return;\n    }\n\n    setMounted(true);\n    const onGetPolicySuccess = policy =>{\n      if(!mounted){\n        return;\n      }\n      setRequest({\n        name: policy.name,\n        description: policy.description,\n        action: policy.default_action,\n        enabled: policy.enabled,\n        global: policy.global,\n      })\n      setInitialed(true);\n    };\n\n    getSecurityPolicyGroup(policyID, onGetPolicySuccess, onModifyFail);\n    return () => {\n      setMounted(false);\n    }\n  }, [mounted, open, policyID, onModifyFail]);\n\n  //begin render\n\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"text\",\n        label: texts.name,\n        onChange: handleRequestPropsChanged('name'),\n        value: request.name,\n        required: true,\n        oneRow: true,\n        xs: 8,\n        sm: 6,\n        md: 4,\n      },\n      {\n        type: \"radio\",\n        label: texts.defaultAction,\n        onChange: handleRequestPropsChanged('action'),\n        value: request.action,\n        options: actionOptions,\n        disabled: true,\n        oneRow: true,\n        xs: 10,\n        sm: 8,\n        md: 6,\n      },\n      {\n        type: \"switch\",\n        label: texts.enable,\n        onChange: handleRequestSwitchChanged('enabled'),\n        value: request.enabled,\n        on: texts.enabled,\n        off: texts.disabled,\n        oneRow: true,\n        xs: 6,\n      },\n      {\n        type: \"switch\",\n        label: texts.global,\n        onChange: handleRequestSwitchChanged('global'),\n        value: request.global,\n        on: texts.yes,\n        off: texts.no,\n        oneRow: true,\n        xs: 6,\n      },\n      {\n        type: \"textarea\",\n        label: texts.description,\n        onChange: handleRequestPropsChanged('description'),\n        value: request.description,\n        oneRow: true,\n        rows: 3,\n        xs: 10,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n    buttons.push(\n      {\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleConfirm,\n      }\n    );\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n      title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport Divider from '@material-ui/core/Divider';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport BuildIcon from '@material-ui/icons/Build';\nimport PlaylistAddCheckIcon from '@material-ui/icons/PlaylistAddCheck';\nimport Box from '@material-ui/core/Box';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Table from \"components/Table/ObjectTable.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport DeleteDialog from \"views/PolicyGroups/DeletePolicyDialog.js\";\nimport CreateDialog from \"views/PolicyGroups/CreatePolicyDialog.js\";\nimport ModifyDialog from \"views/PolicyGroups/ModifyPolicyDialog.js\";\nimport { getLoggedSession } from 'utils.js';\nimport { searchSecurityPolicyGroups, writeLog } from \"nano_api.js\";\n\nconst styles = {\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    createButton: \"Create New Group\",\n    tableTitle: \"Security Policy Groups\",\n    name: \"Name\",\n    enable: 'Enable',\n    enabled: 'Enabled',\n    disabled: 'Disabled',\n    global: 'Global',\n    yes: 'Yes',\n    no: 'No',\n    defaultAction: 'Default Action',\n    accept: 'Accept',\n    reject: 'Reject',\n    operates: \"Operates\",\n    noResource: \"No security policy available\",\n    modify: 'Modify',\n    delete: 'Delete',\n    rules: 'Rules',\n  },\n  'cn':{\n    createButton: \"创建新策略组\",\n    tableTitle: \"安全策略组\",\n    name: \"名称\",\n    enable: '是否启用',\n    enabled: '已启用',\n    disabled: '已禁用',\n    global: '全局可见',\n    yes: '是',\n    no: '否',\n    defaultAction: '默认处理',\n    accept: '接受',\n    reject: '拒绝',\n    operates: \"操作\",\n    noResource: \"没有安全策略组\",\n    modify: '修改',\n    delete: '删除',\n    rules: '规则',\n  }\n}\n\nexport default function SystemTemplates(props){\n    const { lang } = props;\n    const texts = i18n[lang];\n    const classes = useStyles();\n    const [ mounted, setMounted ] = React.useState(false);\n    const [ dataList, setDataList ] = React.useState(null);\n    //for dialog\n    const [ createDialogVisible, setCreateDialogVisible ] = React.useState(false);\n    const [ modifyDialogVisible, setModifyDialogVisible ] = React.useState(false);\n    const [ deleteDialogVisible, setDeleteDialogVisible ] = React.useState(false);\n    const [ selected, setSelected ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage, mounted]);\n\n    const reloadAllData = React.useCallback(() => {\n      if (!mounted){\n        return;\n      }\n      var session = getLoggedSession();\n      if (null === session){\n        showErrorMessage('session expired');\n        return;\n      }\n\n      searchSecurityPolicyGroups(session.user, session.group, false, false,\n        setDataList, showErrorMessage);\n    }, [showErrorMessage, mounted]);\n\n    const showNotifyMessage = msg => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    //modify\n    const showModifyDialog = policyID =>{\n      setModifyDialogVisible(true);\n      setSelected(policyID);\n    }\n\n    const closeModifyDialog = () =>{\n      setModifyDialogVisible(false);\n    }\n\n    const onModifySuccess = policyID =>{\n      closeModifyDialog();\n      showNotifyMessage('policy ' + policyID + ' modified');\n      reloadAllData();\n    };\n\n    //delete\n    const showDeleteDialog = policyID =>{\n      setDeleteDialogVisible(true);\n      setSelected(policyID);\n    }\n\n    const closeDeleteDialog = () =>{\n      setDeleteDialogVisible(false);\n    }\n\n    const onDeleteSuccess = policyID =>{\n      closeDeleteDialog();\n      showNotifyMessage('policy ' + policyID + ' deleted');\n      reloadAllData();\n    };\n\n    //create\n    const showCreateDialog = () =>{\n      setCreateDialogVisible(true);\n    };\n\n    const closeCreateDialog = () =>{\n      setCreateDialogVisible(false);\n    }\n\n    const onCreateSuccess = policyID =>{\n      closeCreateDialog();\n      showNotifyMessage('new policy ' + policyID + ' created');\n      reloadAllData();\n    };\n\n    function dataToNodes(data, buttons){\n      const operates = buttons.map((button, key) => (\n        <IconButton label={button.label} icon={button.icon} onClick={button.onClick} href={button.href} key={key}/>\n      ))\n      const { name, default_action, enabled, global } = data;\n      return [ name, default_action === 'accept'?texts.accept: texts.reject, enabled? texts.enabled:texts.disabled, global? texts.yes:texts.no, operates];\n    }\n\n    React.useEffect(() =>{\n      setMounted(true);\n      reloadAllData();\n      return () =>{\n        setMounted(false);\n      }\n    }, [reloadAllData]);\n\n    //begin rendering\n    let content;\n    if (null === dataList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === dataList.length){\n      content = <Box display=\"flex\" justifyContent=\"center\"><Info>{texts.noResource}</Info></Box>;\n    }else{\n      var rows = [];\n      dataList.forEach( data => {\n        const buttons = [\n          {\n            onClick: e => showModifyDialog(data.id),\n            icon: BuildIcon,\n            label: texts.modify,\n          },\n          {\n            onClick: e => showDeleteDialog(data.id),\n            icon: DeleteIcon,\n            label: texts.delete,\n          },\n          {\n            href: '/admin/security_policies/' + data.id + '/rules/',\n            icon: PlaylistAddCheckIcon,\n            label: texts.rules,\n          }\n        ];\n        rows.push(dataToNodes(data, buttons));\n      });\n      content = (\n        <Table\n          color=\"primary\"\n          headers={[texts.name, texts.defaultAction, texts.enable, texts.global, texts.operates]}\n          rows={rows}/>\n      );\n\n    }\n\n    var buttonProps = [\n      {\n        onClick: showCreateDialog,\n        icon: AddIcon,\n        label: texts.createButton,\n      },\n    ];\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n          <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <GridContainer>\n            <GridItem xs={12} sm={6} md={4}>\n              <Box display=\"flex\">\n              {\n                buttonProps.map((p, key) => {\n                  if (p.href){\n                    return (\n                      <Box p={1} key={key}>\n                        <Button size=\"sm\" color=\"info\" round href={p.href}>\n                          {React.createElement(p.icon)}{p.label}\n                        </Button>\n                      </Box>\n                    );\n                  }else{\n                    return (\n                      <Box p={1} key={key}>\n                        <Button size=\"sm\" color=\"info\" round onClick={p.onClick}>\n                          {React.createElement(p.icon)}{p.label}\n                        </Button>\n                      </Box>\n                    );\n                  }\n                })\n              }\n              </Box>\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n        <GridItem xs={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              <h4 className={classes.cardTitleWhite}>{texts.tableTitle}</h4>\n            </CardHeader>\n            <CardBody>\n              {content}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <Snackbar\n          place=\"tr\"\n          color={notifyColor}\n          message={notifyMessage}\n          open={\"\" !== notifyMessage}\n          closeNotification={closeNotify}\n          close\n        />\n        <CreateDialog\n          lang={lang}\n          open={createDialogVisible}\n          onSuccess={onCreateSuccess}\n          onCancel={closeCreateDialog}\n          />\n        <ModifyDialog\n          lang={lang}\n          open={modifyDialogVisible}\n          policyID={selected}\n          onSuccess={onModifySuccess}\n          onCancel={closeModifyDialog}\n          />\n        <DeleteDialog\n          lang={lang}\n          open={deleteDialogVisible}\n          policyID={selected}\n          onSuccess={onDeleteSuccess}\n          onCancel={closeDeleteDialog}\n          />\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { removeSecurityPolicyRule } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Remove Security Policy Rule',\n    content: 'Are you sure to remove ',\n    content2: 'th rule',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '删除安全规则',\n    content: '是否删除第 ',\n    content2: '个安全规则',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function RemoveDialog(props){\n  const { lang, open, policyID, index, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const texts = i18n[lang];\n  const title = texts.title;\n  const onRemoveFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n\n  const closeDialog = ()=>{\n    setPrompt('');\n    onCancel();\n  }\n\n  const onRemoveSuccess = () =>{\n    setOperatable(true);\n    setPrompt('');\n    onSuccess(policyID, index);\n  }\n\n  const handleRemove = () =>{\n    setOperatable(false);\n    removeSecurityPolicyRule(policyID, index, onRemoveSuccess, onRemoveFail);\n  }\n\n  const content = texts.content + (index + 1) + texts.content2;\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label:  texts.confirm,\n      onClick: handleRemove,\n    },\n  ];\n\n  return <CustomDialog size='xs' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { addSecurityPolicyRule } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Add Security Policy Rule',\n    action: 'Action',\n    accept: 'Accept',\n    reject: 'Reject',\n    protocol: 'Protocol',\n    sourceAddress: 'Source Address',\n    targetPort: 'Target Port',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '添加安全规则',\n    action: '处理',\n    accept: '接受',\n    reject: '拒绝',\n    protocol: '协议',\n    sourceAddress: '来源地址',\n    targetPort: '目标端口',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function AddRuleDialog(props){\n\n  const protocolOptions = [\n    {\n      label: 'TCP',\n      value: 'tcp',\n    },\n    {\n      label: 'UDP',\n      value: 'udp',\n    }];\n  const defaultValues = {\n    action: 'accept',\n    protocol: '',\n    port: '',\n  };\n  const { lang, policyID, open, onSuccess, onCancel } = props;\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const texts = i18n[lang];\n  const title = texts.title;\n  const actionOptions = [\n    {\n      label: texts.accept,\n      value: 'accept',\n    },\n    {\n      label: texts.reject,\n      value: 'reject',\n    },\n  ];\n  const onAddFail = msg =>{\n    setOperatable(true);\n    setPrompt(msg);\n  }\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onAddSuccess = id =>{\n    setOperatable(true);\n    resetDialog();\n    onSuccess(id);\n  }\n\n  const handleAdd = () =>{\n    setOperatable(false);\n\n    if(!request.action){\n      onAddFail('must specify action');\n      return;\n    }\n    if(!request.protocol){\n      onAddFail('must specify protocol');\n      return;\n    }\n    if(!request.port){\n      onAddFail('must specify target port');\n      return;\n    }\n    var targetPort = Number.parseInt(request.port);\n    if(Number.isNaN(targetPort)){\n      onAddFail('invalid target port: ' + request.port);\n      return;\n    }\n\n    addSecurityPolicyRule(policyID, request.action, request.protocol, targetPort, onAddSuccess, onAddFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n\n  //begin render\n  const inputs = [\n    {\n      type: \"radio\",\n      label: texts.action,\n      onChange: handleRequestPropsChanged('action'),\n      value: request.action,\n      options: actionOptions,\n      required: true,\n      oneRow: true,\n      xs: 10,\n      sm: 8,\n      md: 6,\n    },\n    {\n      type: \"select\",\n      label: texts.protocol,\n      onChange: handleRequestPropsChanged('protocol'),\n      value: request.protocol,\n      options: protocolOptions,\n      required: true,\n      oneRow: true,\n      xs: 8,\n      sm: 6,\n      md: 4,\n    },\n    {\n      type: \"text\",\n      label: texts.targetPort,\n      onChange: handleRequestPropsChanged('port'),\n      value: request.port,\n      required: true,\n      oneRow: true,\n      xs: 8,\n      sm: 6,\n      md: 4,\n    },\n  ];\n\n  const content = <InputList inputs={inputs}/>\n\n  const buttons = [\n    {\n      color: 'transparent',\n      label: texts.cancel,\n      onClick: closeDialog,\n    },\n    {\n      color: 'info',\n      label: texts.confirm,\n      onClick: handleAdd,\n    },\n  ];\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport InputList from \"components/CustomInput/InputList\";\nimport CustomDialog from \"components/Dialog/CustomDialog.js\";\nimport { modifySecurityPolicyRule } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Modify Security Policy Rule',\n    action: 'Action',\n    accept: 'Accept',\n    reject: 'Reject',\n    protocol: 'Protocol',\n    sourceModifyress: 'Source Address',\n    targetPort: 'Target Port',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '修改安全规则',\n    action: '处理',\n    accept: '接受',\n    reject: '拒绝',\n    protocol: '协议',\n    sourceModifyress: '来源地址',\n    targetPort: '目标端口',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function ModifyRuleDialog(props){\n  const { lang, policyID, rule, open, onSuccess, onCancel } = props;\n  const protocolOptions = [\n    {\n      label: 'TCP',\n      value: 'tcp',\n    },\n    {\n      label: 'UDP',\n      value: 'udp',\n    }];\n  const defaultValues = {\n    action: rule.action,\n    protocol: rule.protocol,\n    port: rule.to_port,\n  };\n  const [ operatable, setOperatable ] = React.useState(true);\n  const [ prompt, setPrompt ] = React.useState('');\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ initialed, setInitialed ] = React.useState(false);\n  const [ request, setRequest ] = React.useState(defaultValues);\n  const texts = i18n[lang];\n  const title = texts.title;\n  const actionOptions = [\n    {\n      label: texts.accept,\n      value: 'accept',\n    },\n    {\n      label: texts.reject,\n      value: 'reject',\n    },\n  ];\n  const onModifyFail = React.useCallback(msg =>{\n    if(!mounted){\n      return;\n    }\n    setOperatable(true);\n    setPrompt(msg);\n  }, [mounted]);\n\n  const resetDialog = () =>{\n    setPrompt('');\n    setRequest(defaultValues);\n    setInitialed(false);\n  };\n\n  const closeDialog = ()=>{\n    resetDialog();\n    onCancel();\n  }\n\n  const onModifySuccess = id =>{\n    setOperatable(true);\n    resetDialog();\n    onSuccess(id);\n  }\n\n  const handleModify = () =>{\n    setOperatable(false);\n\n    if(!request.action){\n      onModifyFail('must specify action');\n      return;\n    }\n    if(!request.protocol){\n      onModifyFail('must specify protocol');\n      return;\n    }\n    if(!request.port){\n      onModifyFail('must specify target port');\n      return;\n    }\n    var targetPort = Number.parseInt(request.port);\n    if(Number.isNaN(targetPort)){\n      onModifyFail('invalid target port: ' + request.port);\n      return;\n    }\n\n    modifySecurityPolicyRule(policyID, rule.index, request.action, request.protocol, targetPort, onModifySuccess, onModifyFail);\n  }\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n\n    React.useEffect(()=>{\n      if (!policyID || !rule ){\n        return;\n      }\n\n      setMounted(true);\n      setRequest({\n        action: rule.action,\n        protocol: rule.protocol,\n        port: rule.to_port,\n      })\n      setInitialed(true);\n      return () => {\n        setMounted(false);\n      }\n    }, [mounted, open, policyID, rule, onModifyFail]);\n\n\n  //begin render\n  var buttons = [{\n    color: 'transparent',\n    label: texts.cancel,\n    onClick: closeDialog,\n  }];\n  let content;\n  if (!initialed){\n    content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n  }else{\n    const inputs = [\n      {\n        type: \"radio\",\n        label: texts.action,\n        onChange: handleRequestPropsChanged('action'),\n        value: request.action,\n        options: actionOptions,\n        required: true,\n        oneRow: true,\n        xs: 10,\n        sm: 8,\n        md: 6,\n      },\n      {\n        type: \"select\",\n        label: texts.protocol,\n        onChange: handleRequestPropsChanged('protocol'),\n        value: request.protocol,\n        options: protocolOptions,\n        required: true,\n        oneRow: true,\n        xs: 8,\n        sm: 6,\n        md: 4,\n      },\n      {\n        type: \"text\",\n        label: texts.targetPort,\n        onChange: handleRequestPropsChanged('port'),\n        value: request.port,\n        required: true,\n        oneRow: true,\n        xs: 8,\n        sm: 6,\n        md: 4,\n      },\n    ];\n\n    content = <InputList inputs={inputs}/>\n    buttons.push({\n        color: 'info',\n        label: texts.confirm,\n        onClick: handleModify,\n      });\n  }\n\n  return <CustomDialog size='sm' open={open} prompt={prompt}\n    title={title}  buttons={buttons} content={content} operatable={operatable}/>;\n};\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport Divider from '@material-ui/core/Divider';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport BuildIcon from '@material-ui/icons/Build';\nimport CheckIcon from '@material-ui/icons/Check';\nimport BlockIcon from '@material-ui/icons/Block';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport Box from '@material-ui/core/Box';\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Table from \"components/Table/ObjectTable.js\";\nimport IconButton from \"components/CustomButtons/IconButton.js\";\nimport RemoveDialog from \"views/PolicyGroups/RemoveRuleDialog.js\";\nimport AddDialog from \"views/PolicyGroups/AddRuleDialog.js\";\nimport ModifyDialog from \"views/PolicyGroups/ModifyRuleDialog.js\";\nimport fontStyles from \"assets/jss/material-dashboard-react/components/typographyStyle.js\";\nimport { getSecurityPolicyRules, moveUpSecurityPolicyRule,\n  moveDownSecurityPolicyRule, writeLog } from \"nano_api.js\";\n\nconst styles = {\n  ...fontStyles,\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    createButton: \"Add New Rule\",\n    tableTitle: \"Security Policy Rules\",\n    rule: 'Rule',\n    action: 'Action',\n    protocol: 'Protocol',\n    sourceAddress: 'Source Address',\n    targetPort: 'Target Port',\n    accept: 'Accept',\n    reject: 'Reject',\n    operates: \"Operates\",\n    noResource: \"No security policy available\",\n    modify: 'Modify',\n    remove: 'Remove',\n    moveUp: 'Move Up',\n    moveDown: 'Move Down',\n    back: 'Back',\n  },\n  'cn':{\n    createButton: \"添加新规则\",\n    tableTitle: \"安全规则\",\n    rule: '规则',\n    action: '处理',\n    protocol: '协议',\n    sourceAddress: '来源地址',\n    targetPort: '目标端口',\n    accept: '接受',\n    reject: '拒绝',\n    operates: \"操作\",\n    noResource: \"没有安全策略组\",\n    modify: '修改',\n    remove: '移除',\n    moveUp: '上移',\n    moveDown: '下移',\n    back: '返回',\n  }\n}\n\nexport default function SystemTemplates(props){\n    const policyID = props.match.params.id;\n    const { lang } = props;\n    const texts = i18n[lang];\n    const classes = useStyles();\n    const [ mounted, setMounted ] = React.useState(false);\n    const [ datalist, setDatalist ] = React.useState(null);\n    //for dialog\n    const [ addDialogVisible, setAddDialogVisible ] = React.useState(false);\n    const [ modifyDialogVisible, setModifyDialogVisible ] = React.useState(false);\n    const [ remoeDialogVisible, setRemoveDialogVisible ] = React.useState(false);\n    const [ selected, setSelected ] = React.useState('');\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage, mounted]);\n\n    const reloadAllData = React.useCallback(() => {\n      if (!mounted){\n        return;\n      }\n      getSecurityPolicyRules(policyID, setDatalist, showErrorMessage);\n    }, [policyID, showErrorMessage, mounted]);\n\n    const showNotifyMessage = msg => {\n      if (!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    //modify\n    const showModifyDialog = rule =>{\n      setModifyDialogVisible(true);\n      setSelected(rule);\n    }\n\n    const closeModifyDialog = () =>{\n      setModifyDialogVisible(false);\n    }\n\n    const onModifySuccess = index =>{\n      closeModifyDialog();\n      showNotifyMessage(index + 'th rule modified');\n      reloadAllData();\n    };\n\n    //delete\n    const showRemoveDialog = rule =>{\n      setRemoveDialogVisible(true);\n      setSelected(rule);\n    }\n\n    const closeRemoveDialog = () =>{\n      setRemoveDialogVisible(false);\n    }\n\n    const onRemoveSuccess = (id, index) =>{\n      closeRemoveDialog();\n      showNotifyMessage(index + 'the rule removed');\n      reloadAllData();\n    };\n\n    //create\n    const showAddDialog = () =>{\n      setAddDialogVisible(true);\n    };\n\n    const closeAddDialog = () =>{\n      setAddDialogVisible(false);\n    }\n\n    const onAddSuccess = () =>{\n      closeAddDialog();\n      showNotifyMessage('new security policy rule added');\n      reloadAllData();\n    };\n\n    //move rule\n    const moveUp = rule =>{\n      const onMoveUpSuccess = (id, i) =>{\n        showNotifyMessage(i + 'th rule moved up');\n        reloadAllData();\n      }\n      moveUpSecurityPolicyRule(policyID, rule.index, onMoveUpSuccess, showErrorMessage);\n    }\n\n    const moveDown = rule =>{\n      const onMoveDownSuccess = (id, i) =>{\n        showNotifyMessage(i + 'th rule moved down');\n        reloadAllData();\n      }\n      moveDownSecurityPolicyRule(policyID, rule.index, onMoveDownSuccess, showErrorMessage);\n    }\n\n    React.useEffect(() =>{\n      setMounted(true);\n      reloadAllData();\n      return () =>{\n        setMounted(false);\n      }\n    }, [reloadAllData]);\n\n    function dataToNodes(index, datalist, buttons){\n      const operates = buttons.map((button, key) => (\n        <IconButton label={button.label} icon={button.icon} onClick={button.onClick} key={key}/>\n      ))\n      const { action, protocol, from_address, to_port } = datalist;\n      let actionIcon;\n      if ('accept' === action){\n        actionIcon = (\n          <Tooltip title={texts.accept} placement=\"top\">\n            <CheckIcon className={classes.successText}/>\n          </Tooltip>);\n      }else{\n        actionIcon = (\n          <Tooltip title={texts.reject} placement=\"top\">\n            <BlockIcon className={classes.dangerText}/>\n          </Tooltip>);\n      }\n      return [ index, actionIcon, protocol, from_address, to_port, operates];\n    }\n\n    //begin rendering\n    let content;\n    if (null === datalist){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === datalist.length){\n      content = <Box display=\"flex\" justifyContent=\"center\"><Info>{texts.noResource}</Info></Box>;\n    }else{\n      var rows = [];\n      datalist.forEach( (rule, index) => {\n        var item = {\n          index: index,\n          action: rule.action,\n          protocol: rule.protocol,\n          to_port: rule.to_port,\n        }\n        var buttons = [\n          {\n            onClick: e => showModifyDialog(item),\n            icon: BuildIcon,\n            label: texts.modify,\n          },\n          {\n            onClick: e => showRemoveDialog(item),\n            icon: DeleteIcon,\n            label: texts.remove,\n          },\n        ];\n        if (datalist.length - 1 !== index){\n          buttons.push({\n            onClick: e => moveDown(item),\n            icon: ArrowDownwardIcon,\n            label: texts.moveDown,\n          });\n        }\n        if (0 !== index){\n          buttons.push({\n            onClick: e => moveUp(item),\n            icon: ArrowUpwardIcon,\n            label: texts.moveUp,\n          });\n        }\n\n        rows.push(dataToNodes(index, rule, buttons));\n      });\n\n      content = (\n        <Table\n          color=\"primary\"\n          headers={[texts.rule, texts.action, texts.protocol, texts.sourceAddress, texts.targetPort, texts.operates]}\n          rows={rows}/>\n      );\n\n    }\n\n    var buttonProps = [\n      {\n        href: '/admin/security_policies/',\n        icon: NavigateBeforeIcon,\n        label: texts.back,\n      },\n      {\n        onClick: showAddDialog,\n        icon: AddIcon,\n        label: texts.createButton,\n      },\n    ];\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n          <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <GridContainer>\n            <GridItem xs={12} sm={6} md={4}>\n              <Box display=\"flex\">\n              {\n                buttonProps.map( (p, key) => {\n                  if (p.href){\n                    return (\n                      <Box p={1} key={key}>\n                        <Button size=\"sm\" color=\"info\" round href={p.href}>\n                          {React.createElement(p.icon)}{p.label}\n                        </Button>\n                      </Box>\n                    );\n                  }else{\n                    return (\n                      <Box p={1} key={key}>\n                        <Button size=\"sm\" color=\"info\" round onClick={p.onClick}>\n                          {React.createElement(p.icon)}{p.label}\n                        </Button>\n                      </Box>\n                    );\n                  }\n                })\n              }\n              </Box>\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n        <GridItem xs={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              <h4 className={classes.cardTitleWhite}>{texts.tableTitle}</h4>\n            </CardHeader>\n            <CardBody>\n              {content}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <Snackbar\n          place=\"tr\"\n          color={notifyColor}\n          message={notifyMessage}\n          open={\"\" !== notifyMessage}\n          closeNotification={closeNotify}\n          close\n        />\n        <AddDialog\n          lang={lang}\n          open={addDialogVisible}\n          policyID={policyID}\n          onSuccess={onAddSuccess}\n          onCancel={closeAddDialog}\n          />\n        <ModifyDialog\n          lang={lang}\n          open={modifyDialogVisible}\n          policyID={policyID}\n          rule={selected}\n          onSuccess={onModifySuccess}\n          onCancel={closeModifyDialog}\n          />\n        <RemoveDialog\n          lang={lang}\n          open={remoeDialogVisible}\n          policyID={policyID}\n          index={selected.index}\n          onSuccess={onRemoveSuccess}\n          onCancel={closeRemoveDialog}\n          />\n      </GridContainer>\n    );\n}\n","import React from \"react\";\n// @material-ui/core components\nimport Grid from \"@material-ui/core/Grid\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n// dashboard components\nimport Button from \"components/CustomButtons/Button.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { deleteLog } from 'nano_api.js';\n\nconst i18n = {\n  'en':{\n    title: 'Batch Deleting Log',\n    content1: 'Are you sure to delete ',\n    content2: ' log(s)',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n  },\n  'cn':{\n    title: '批量删除日志',\n    content1: '是否删除 ',\n    content2: ' 条日志',\n    cancel: '取消',\n    confirm: '确定',\n  },\n}\n\nexport default function BatchDeleteDialog(props){\n  const { lang, targets, open, onSuccess, onCancel } = props;\n  const count = targets.length;\n  const [ error, setError ] = React.useState('');\n  const texts = i18n[lang];\n  const onDeleteFail = (msg) =>{\n    setError(msg);\n  }\n\n  const closeDialog = ()=>{\n    setError('');\n    onCancel();\n  }\n\n  const onDeleteSuccess = () =>{\n    setError('');\n    onSuccess(count);\n  }\n\n  const confirmDelete = () =>{\n    deleteLog(targets, onDeleteSuccess, onDeleteFail);\n  }\n\n  //begin render\n  let prompt;\n  if (!error || '' === error){\n    prompt = <GridItem xs={12}/>;\n  }else{\n    prompt = (\n      <GridItem xs={12}>\n        <SnackbarContent message={error} color=\"danger\"/>\n      </GridItem>\n    );\n  }\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby={texts.title}\n      maxWidth=\"sm\"\n      fullWidth\n    >\n      <DialogTitle>{texts.title}</DialogTitle>\n      <DialogContent>\n        <Grid container>\n          <GridItem xs={12}>\n            {texts.content1 + count.toString() + texts.content2}\n          </GridItem>\n          {prompt}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"transparent\" autoFocus>\n          {texts.cancel}\n        </Button>\n        <Button onClick={confirmDelete} color=\"info\">\n          {texts.confirm}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n};\n","import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Link from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ListIcon from '@material-ui/icons/List';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Info from \"components/Typography/Info.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport OperableTable from \"components/Table/OperableTable.js\";\nimport BatchDeleteDialog from \"views/Logs/BatchDeleteDialog\";\n\nimport dashboardStyles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\nimport { getLoggedSession, redirectToLogin } from 'utils.js';\nimport { queryLogs, writeLog } from \"nano_api.js\";\n\nconst styles = {\n  ...dashboardStyles,\n  cardTitleWhite: {\n    color: \"#FFFFFF\",\n    marginTop: \"0px\",\n    minHeight: \"auto\",\n    fontWeight: \"300\",\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\n    marginBottom: \"3px\",\n    textDecoration: \"none\",\n    \"& small\": {\n      color: \"#777\",\n      fontSize: \"65%\",\n      fontWeight: \"400\",\n      lineHeight: \"1\"\n    }\n  }\n};\n\nconst useStyles = makeStyles(styles);\n\nconst i18n = {\n  'en':{\n    batchDelete: 'Batch Delete',\n    enterBatch: 'Enter Batch Mode',\n    exitBatch: 'Exit Batch Mode',\n    tableTitle: \"Operate Logs\",\n    duration: 'Log Duration',\n    time: \"Timestamp\",\n    content: \"Content\",\n    noResource: \"No log available\",\n    day: 'The Last Day',\n    month: 'The Last Month',\n    year: 'The Last Year',\n  },\n  'cn':{\n    batchDelete: '批量删除',\n    enterBatch: '进入批量模式',\n    exitBatch: '退出批量模式',\n    tableTitle: \"操作日志\",\n    duration: '日志范围',\n    time: \"日志时间\",\n    content: \"内容\",\n    noResource: \"没有日志信息\",\n    day: '最近一天',\n    month: '最近一个月',\n    year: '最近一年',\n  }\n}\n\nconst LogRow = props =>{\n  const { log, checked, checkable, onCheckStatusChanged} = props;\n  const handleCheckChanged = e => {\n    const isChecked = e.target.checked;\n    onCheckStatusChanged(isChecked, log.id);\n  }\n  let rowHeader;\n  if(checkable){\n    rowHeader = (\n      <Box display='flex' alignItems=\"center\">\n        <Box>\n          <Checkbox\n            checked={checked}\n            onChange={handleCheckChanged}\n            value={log.id}\n            />\n        </Box>\n        <Box>\n          {log.time}\n        </Box>\n      </Box>\n    );\n  }else{\n    rowHeader = log.time;\n  }\n  return (\n    <TableRow>\n      <TableCell>\n        {rowHeader}\n      </TableCell>\n      <TableCell>\n        {log.content}\n      </TableCell>\n    </TableRow>\n  );\n}\n\nexport default function Logs(props){\n    const logsPerPage = 10;\n    const DurantionDay = 'last-day';\n    const DurantionMonth = 'last-month';\n    const DurantionYear = 'last-year';\n    const classes = useStyles();\n    const [ logList, setLogList ] = React.useState(null);\n    const [ checkedMap, setCheckedMap ] = React.useState(new Map());\n    const [ batchMode, setBatchMode ] = React.useState(false);\n    const [ queryParams, setQueryParams ] = React.useState({\n      offset: 0,\n      duration: DurantionDay,\n    })\n    const [ pages, setPages ] = React.useState({\n      current: 0,\n      total: 0,\n    })\n\n    //for dialog\n    const [ batchDeleteDialogVisible, setBatchDeleteDialogVisible ] = React.useState(false);\n\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [setNotifyColor, setNotifyMessage]);\n\n    const showNotifyMessage = (msg) => {\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    const dateToString = date => {\n      const paddingToTwoBytes = number => {\n        if (number < 10){\n          return '0' + number.toString();\n        }else{\n          return number.toString();\n        }\n      }\n      return date.getFullYear() + '-' + paddingToTwoBytes(date.getMonth() + 1)\n       + '-' + paddingToTwoBytes(date.getDate()) + ' ' +\n       paddingToTwoBytes(date.getHours()) + ':' + paddingToTwoBytes(date.getMinutes())\n       + ':' + paddingToTwoBytes(date.getSeconds());\n    }\n\n    const reloadAllLogs = React.useCallback(() => {\n      const onLoadFail = (err) =>{\n        showErrorMessage(err);\n      }\n      const onLoadSuccess = result => {\n        const { logs, total, offset } = result;\n        var updated = new Map(checkedMap);\n        var modified = false;\n        if (!logs){\n          setLogList([]);\n          if (0 !== updated.size){\n            updated.clear();\n            modified = true;\n          }\n        }else{\n          setLogList(logs);\n          var removeTargets = [];\n          updated.forEach((checked, id) =>{\n            if(!logs.some(log => log.id === id)){\n              //not exists\n              removeTargets.push(id);\n            }\n          });\n          logs.forEach(log =>{\n            const logID = log.id;\n            if (!updated.has(logID)){\n              //new entry\n              updated.set(logID, false);\n              if(!modified){\n                modified = true;\n              }\n            }\n          })\n          if (0 !== removeTargets.length){\n            removeTargets.forEach(id =>{\n              updated.delete(id);\n              if(!modified){\n                modified = true;\n              }\n            })\n          }\n        }\n        if(modified){\n          setCheckedMap(new Map(updated));\n        }\n        if(0 !== total){\n          let currentPage;\n          if(offset < logsPerPage){\n            currentPage = 0;\n          }else{\n            currentPage = Math.floor(offset / logsPerPage);\n          }\n          let totalPages;\n          if(0 === total % logsPerPage){\n            totalPages = total / logsPerPage;\n          }else{\n            totalPages = Math.ceil(total / logsPerPage);\n          }\n          setPages({\n            current: currentPage,\n            total: totalPages,\n          })\n        }\n      }\n\n      const before = new Date();\n      var after = new Date(before);\n      switch (queryParams.duration) {\n        case DurantionDay:\n          after.setDate(before.getDate() - 1);\n          break;\n        case DurantionMonth:\n          after.setMonth(before.getMonth() - 1);\n          break;\n        case DurantionYear:\n          after.setFullYear(before.getFullYear() - 1);\n          break;\n        default:\n          showErrorMessage('invalid duration: ' + queryParams.duration);\n          return;\n      }\n\n      queryLogs(logsPerPage, queryParams.offset, dateToString(after), dateToString(before), onLoadSuccess, onLoadFail);\n    }, [queryParams, checkedMap, showErrorMessage]);\n\n\n    //batch deleting\n    const showBatchDeleteDialog = () =>{\n      setBatchDeleteDialogVisible(true);\n    };\n\n    const closeBatchDeleteDialog = () =>{\n      setBatchDeleteDialogVisible(false);\n    }\n\n    const onBatchDeleteSuccess = count =>{\n      closeBatchDeleteDialog();\n      showNotifyMessage(count.toString() + ' log(s) deleted');\n      writeLog(count.toString() + ' log(s) deleted');\n      reloadAllLogs();\n    };\n\n\n    const enterBatchMode = () => {\n      var updated = new Map();\n      //uncheck all\n      for(var instanceID of checkedMap.keys()){\n        updated.set(instanceID, false);\n      }\n      setCheckedMap(updated);\n      setBatchMode(true);\n    }\n\n    const exitBatchMode = () => {\n      setBatchMode(false);\n    }\n\n    const handleLogChecked = (checked, logID) =>{\n      var checkedStatus = new Map(checkedMap);\n      checkedStatus.set(logID, checked);\n      setCheckedMap(checkedStatus);\n    }\n\n    const handleAllClicked = e =>{\n      const checked = e.target.checked;\n      var updated = new Map();\n      for(const logID of checkedMap.keys()){\n        updated.set(logID, checked);\n      }\n      setCheckedMap(updated);\n    }\n\n    const handleDurationChanged = e => {\n      const duration = e.target.value;\n      setQueryParams({\n        offset: 0,\n        duration: duration,\n      })\n\n      reloadAllLogs();\n    }\n\n    const changeCurrentPage = index => {\n      const offset = index * logsPerPage;\n      setQueryParams(previous => ({\n        ...previous,\n        offset: offset,\n      }))\n    }\n\n    React.useEffect(() =>{\n      // var mounted = true\n      // reloadAllLogs();\n      // const updateInterval = 5 * 1000;\n      // var timerID = setInterval(()=>{\n      //   if (mounted){\n      //     reloadAllLogs();\n      //   }\n      // }, updateInterval);\n      // return () =>{\n      //   mounted = false;\n      //   clearInterval(timerID);\n      // }\n      reloadAllLogs();\n    }, [reloadAllLogs]);\n\n    //reder begin\n    var session = getLoggedSession();\n    if (null === session){\n      return redirectToLogin();\n    }\n\n    const { lang } = props;\n    const texts = i18n[lang];\n    let content;\n    if (!logList){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n    }else if (0 === logList.length){\n      content = <Info>{texts.noResource}</Info>;\n    }else{\n      let rowHeader;\n      if(batchMode){\n        rowHeader = (\n          <Box display='flex' alignItems=\"center\">\n            <Box>\n              <Checkbox\n                onChange={handleAllClicked}\n                />\n            </Box>\n            <Box>\n              {texts.time}\n            </Box>\n          </Box>\n        );\n      }else{\n        rowHeader = texts.time;\n      }\n      content = (\n        <OperableTable\n          color=\"primary\"\n          headers={[rowHeader, texts.content]}\n          rows={\n            logList.map(log =>{\n              const logID = log.id;\n              return (\n                <LogRow\n                  key={logID}\n                  log={log}\n                  checked={checkedMap && checkedMap.has(logID) ? checkedMap.get(logID): false}\n                  checkable={batchMode}\n                  onCheckStatusChanged={handleLogChecked}\n                  />\n              )\n            })}\n          />\n      );\n    }\n\n    var buttons = [];\n    if(batchMode){\n      buttons.push(\n        <Button size=\"sm\" color=\"info\" round onClick={showBatchDeleteDialog}><DeleteIcon />{texts.batchDelete}</Button>,\n        <Button size=\"sm\" color=\"rose\" round onClick={exitBatchMode}><ExitToAppIcon />{texts.exitBatch}</Button>,\n      );\n    }else{\n      buttons.push(\n        <Button size=\"sm\" color=\"info\" round onClick={enterBatchMode}><ListIcon />{texts.enterBatch}</Button>\n      );\n    }\n\n    const durationOptions = [\n      {\n        label: texts.day,\n        value: DurantionDay,\n      },\n      {\n        label: texts.month,\n        value: DurantionMonth,\n      },\n      {\n        label: texts.year,\n        value: DurantionYear,\n      },\n    ];\n    const durationRadioGroup = (\n      <Box m={0} pt={2}>\n        <FormControl component=\"fieldset\" fullWidth>\n          <FormLabel component=\"legend\">{texts.duration}</FormLabel>\n          <RadioGroup name=\"duration\" value={queryParams.duration} onChange={handleDurationChanged} row>\n            <Box display='flex' alignItems='center'>\n              {\n                durationOptions.map((option, key) => (\n                  <Box key={key}>\n                    <FormControlLabel value={option.value} control={<Radio />} label={option.label}/>\n                  </Box>\n                ))\n              }\n            </Box>\n          </RadioGroup>\n        </FormControl>\n      </Box>\n    )\n\n    var batchTargets = [];\n    if(checkedMap){\n      checkedMap.forEach((checked, id) =>{\n        if(checked){\n          batchTargets.push(id);\n        }\n      });\n      batchTargets.sort();\n    }\n\n    let pagination;\n    if (pages.total > 1){\n      var links = [];\n      for(var index = 0; index < pages.total; index++){\n        const targetPage = index;\n        if(index === pages.current){\n          links.push(<Typography>{targetPage + 1}</Typography>);\n        }else{\n          links.push(<Link href='#' underline='none' onClick={() => changeCurrentPage(targetPage)}>{targetPage + 1}</Link>);\n        }\n      }\n      pagination = (\n        <Box display='flex' alignItems='center' justifyContent=\"center\">\n          {\n            links.map((link, key) => (\n              <Box key={key} m={1} p={0}>\n                {link}\n              </Box>\n            ))\n          }\n        </Box>\n      )\n    }else{\n      pagination = <div/>;\n    }\n\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <GridContainer>\n            <GridItem xs={12}>\n              {durationRadioGroup}\n            </GridItem>\n          </GridContainer>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box mt={3} mb={3}>\n            <Divider/>\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box display='flex'>\n            {\n              buttons.map((button, key) =>(\n                <Box key={key} m={1}>\n                  {button}\n                </Box>\n              ))\n            }\n          </Box>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              <h4 className={classes.cardTitleWhite}>{texts.tableTitle}</h4>\n            </CardHeader>\n            <CardBody>\n              {content}\n              {pagination}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <BatchDeleteDialog\n            lang={lang}\n            open={batchDeleteDialogVisible}\n            targets={batchDeleteDialogVisible? batchTargets : []}\n            onSuccess={onBatchDeleteSuccess}\n            onCancel={closeBatchDeleteDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n// import { Router, Redirect } from \"@reach/router\";\n// creates a beautiful scrollbar\nimport PerfectScrollbar from \"perfect-scrollbar\";\nimport \"perfect-scrollbar/css/perfect-scrollbar.css\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// core components\nimport Navbar from \"components/Navbars/Navbar.js\";\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\nimport ComputeCells from \"views/ComputeCells/ComputeCells.js\";\nimport allRoutes from \"routes.js\";\nimport styles from \"assets/jss/material-dashboard-react/layouts/adminStyle.js\";\n\nimport bgImage from \"assets/img/sidebar.jpg\";\n// import logo from \"assets/img/reactlogo.png\";\n// import logo from \"assets/img/nano.ico\";\nimport logo from \"assets/img/nano_white.svg\";\nimport { getLoggedSession, redirectToLogin } from 'utils.js';\n\nlet ps;\n\nfunction SwitchRoutes(props) {\n  const { routes, ...rest } = props;\n  const first = routes[0];\n  const firstPath = first.layout + first.path;\n  return (\n    <Switch>\n      {routes.map((item, key) => {\n        if (item.layout === \"/admin\") {\n          return (\n            <Route\n              path={item.layout + item.path}\n              render={()=> React.createElement(item.component, rest)}\n              key={key}\n            />\n          );\n        }\n        return null;\n      })}\n      <Route path=\"/admin/compute_cells/\" render={()=> React.createElement(ComputeCells, rest)}/>\n      <Redirect from=\"/admin\" to={firstPath} />\n    </Switch>\n  );\n}\n\nconst useStyles = makeStyles(styles);\n\nexport default function Admin({ lang, setLang, ...rest }) {\n  // styles\n  const classes = useStyles();\n  // ref to help us initialize PerfectScrollbar on windows devices\n  const mainPanel = React.createRef();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const resizeFunction = () => {\n    if (window.innerWidth >= 960) {\n      setMobileOpen(false);\n    }\n  };\n  // initialize and destroy the PerfectScrollbar plugin\n  React.useEffect(() => {\n    if (navigator.platform.indexOf(\"Win\") > -1) {\n      ps = new PerfectScrollbar(mainPanel.current, {\n        suppressScrollX: true,\n        suppressScrollY: false\n      });\n      document.body.style.overflow = \"hidden\";\n    }\n    window.addEventListener(\"resize\", resizeFunction);\n    // Specify how to clean up after this effect:\n    return function cleanup() {\n      if (navigator.platform.indexOf(\"Win\") > -1) {\n        ps.destroy();\n      }\n      window.removeEventListener(\"resize\", resizeFunction);\n    };\n  }, [mainPanel]);\n\n  var session = getLoggedSession();\n  if (null === session){\n    return redirectToLogin();\n  }\n  const menuList = session.menu;\n  var authorizedMenus = [];\n  allRoutes.forEach( menu => {\n    if(menuList.some(name => {\n      if(name === menu.name){\n        return true;\n      }else{\n        return false;\n      }\n    })){\n      authorizedMenus.push(menu);\n    }\n  })\n\n  return (\n    <div className={classes.wrapper}>\n      <Sidebar\n        routes={authorizedMenus}\n        logoText={\"Nano Portal\"}\n        logo={logo}\n        image={bgImage}\n        handleDrawerToggle={handleDrawerToggle}\n        open={mobileOpen}\n        color=\"blue\"\n        lang={lang}\n        {...rest}\n      />\n      <div className={classes.mainPanel} ref={mainPanel}>\n        <Navbar\n          routes={authorizedMenus}\n          handleDrawerToggle={handleDrawerToggle}\n          lang={lang}\n          setLang={setLang}\n          {...rest}\n        />\n        <div className={classes.content}>\n          <div className={classes.container}>\n            <SwitchRoutes lang={lang} routes={authorizedMenus}/>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/*!\n\n=========================================================\n* Material Dashboard React - v1.8.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/material-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/\n\nimport Dashboard from 'views/Dashboard/Dashboard.js';\nimport ComputePools from 'views/ComputePools/ComputePools.js';\nimport AddressPools from 'views/AddressPools/AddressPools.js';\nimport StoragePools from 'views/StoragePools/StoragePools.js';\nimport MediaImages from 'views/MediaImages/MediaImages.js';\nimport DiskImages from 'views/DiskImages/DiskImages.js';\nimport SystemTemplates from 'views/SystemTemplates/SystemTemplates.js';\nimport Instances from 'views/Instances/Instances.js';\nimport Users from 'views/Users/Main';\nimport Visibilities from 'views/Visibilities/Visibilities';\nimport PolicyGroups from 'views/PolicyGroups/PolicyGroups';\nimport Logs from 'views/Logs/Logs';\n\nimport MultilineChartIcon from '@material-ui/icons/MultilineChart';\nimport BlurOnIcon from '@material-ui/icons/BlurOn';\nimport ShareIcon from '@material-ui/icons/Share';\nimport StorageIcon from '@material-ui/icons/Storage';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport SaveIcon from '@material-ui/icons/Save';\nimport AlbumIcon from '@material-ui/icons/Album';\nimport PeopleIcon from '@material-ui/icons/People';\nimport BorderColorIcon from '@material-ui/icons/BorderColor';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport SecurityIcon from '@material-ui/icons/Security';\n\nconst dashboardRoutes = [\n  {\n    path: \"/dashboard\",\n    name: \"dashboard\",\n    display: {\n      'cn': '系统仪表盘',\n      'en': 'Dashboard',\n    },\n    icon: MultilineChartIcon,\n    component: Dashboard,\n    layout: \"/admin\"\n  },\n  {\n    path: \"/compute_pools\",\n    name: \"compute_pool\",\n    display: {\n      'cn': '计算资源池',\n      'en': 'Compute Pools',\n    },\n    icon: BlurOnIcon,\n    component: ComputePools,\n    layout: \"/admin\"\n  },\n  {\n    path: \"/address_pools\",\n    name: \"address_pool\",\n    display: {\n      'cn': '地址池',\n      'en': 'Address Pools',\n    },\n    icon: ShareIcon,\n    component: AddressPools,\n    layout: \"/admin\"\n  },\n  {\n    path: \"/storage_pools\",\n    name: \"storage_pool\",\n    display: {\n      'cn': '存储池',\n      'en': 'Storage Pools',\n    },\n    icon: StorageIcon,\n    component: StoragePools,\n    layout: \"/admin\"\n  },\n  {\n    path: \"/instances\",\n    name: \"instance\",\n    display: {\n      'cn': '云主机',\n      'en': 'Instances',\n    },\n    icon: CloudIcon,\n    component: Instances,\n    layout: \"/admin\"\n  },\n  {\n    path: \"/disk_images\",\n    name: \"image\",\n    display: {\n      'cn': '磁盘镜像',\n      'en': 'Disk Images',\n    },\n    icon: SaveIcon,\n    component: DiskImages,\n    layout: \"/admin\"\n  },\n  {\n    path: \"/media_images\",\n    name: \"media\",\n    display: {\n      'cn': '光盘镜像',\n      'en': 'Media Images',\n    },\n    icon: AlbumIcon,\n    component: MediaImages,\n    layout: \"/admin\"\n  },\n  {\n    path: \"/system_templates\",\n    name: \"templates\",\n    display: {\n      'cn': '系统模板',\n      'en': 'System Templates',\n    },\n    icon: TuneIcon,\n    component: SystemTemplates,\n    layout: \"/admin\"\n  },\n  {\n    path: \"/security_policies\",\n    name: \"policies\",\n    display: {\n      'cn': '安全策略组',\n      'en': 'Security Policies',\n    },\n    icon: SecurityIcon,\n    component: PolicyGroups,\n    layout: \"/admin\"\n  },\n  {\n    path: \"/users\",\n    name: \"user\",\n    display: {\n      'cn': '用户管理',\n      'en': 'User Management',\n    },\n    icon: PeopleIcon,\n    component: Users,\n    layout: \"/admin\"\n  },\n  {\n    path: \"/logs\",\n    name: \"log\",\n    display: {\n      'cn': '操作日志',\n      'en': 'Operate Logs',\n    },\n    icon: BorderColorIcon,\n    component: Logs,\n    layout: \"/admin\"\n  },\n  {\n    path: \"/visibilities\",\n    name: \"visibility\",\n    display: {\n      'cn': '资源可见性',\n      'en': 'Resource Visibilities',\n    },\n    icon: VisibilityIcon,\n    component: Visibilities,\n    layout: \"/admin\"\n  },\n];\n\nexport default dashboardRoutes;\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport ZoneStatus from \"views/Dashboard/ZoneStatus.js\";\nimport PoolStatus from \"views/Dashboard/PoolStatus.js\";\nimport CellStatus from \"views/Dashboard/CellStatus.js\";\n\nexport default function Dashboard(props){\n  return (\n    <div>\n      <Route path=\"/admin/dashboard\" exact render={(childrenProps) => React.createElement(ZoneStatus, {\n        ...childrenProps,\n        ...props,\n      })}/>\n      <Route path=\"/admin/dashboard/pools/\" exact render={(childrenProps) => React.createElement(PoolStatus, {\n        ...childrenProps,\n        ...props,\n      })}/>\n\n      <Route path=\"/admin/dashboard/pools/:pool\" exact render={(childrenProps) => React.createElement(CellStatus, {\n        ...childrenProps,\n        ...props,\n      })}/>\n\n    </div>\n  )\n}\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport PoolList from \"views/AddressPools/PoolList\";\nimport PoolStatus from \"views/AddressPools/PoolStatus\";\nimport RangeStatus from \"views/AddressPools/RangeStatus\";\n\nexport default function AddressPools(props){\n  return (\n    <div>\n      <Route path=\"/admin/address_pools\" exact render={()=> React.createElement(PoolList, props)}/>\n      <Route path=\"/admin/address_pools/:pool\" exact render={(current)=> React.createElement(PoolStatus, {\n        ...props,\n        ...current,\n      })}/>\n      <Route path=\"/admin/address_pools/:pool/:type/ranges/:start\" render={(current)=> React.createElement(RangeStatus, {\n        ...props,\n        ...current,\n      })}/>\n    </div>\n  )\n}\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport InstancesInScope from \"views/Instances/InstancesInScope.js\";\n// import ControlInstance from \"views/Instances/ControlInstance.js\";\nimport InstanceStatus from \"views/Instances/InstanceStatus.js\";\nimport Snapshots from \"views/Instances/Snapshots.js\";\nimport Details from \"views/Instances/Details.js\";\nimport AllInstances from \"views/Instances/AllInstances.js\";\nimport SecurityPolicies from \"views/Instances/SecurityPolicies.js\";\n\nexport default function Instances(props){\n  return (\n    <div>\n      <Route path=\"/admin/instances\" exact render={()=> React.createElement(AllInstances, props)}/>\n      <Route path=\"/admin/instances/range/\" render={()=> React.createElement(InstancesInScope, props)}/>\n      <Route path=\"/admin/instances/status/:id\" render={(childrenProps)=> React.createElement(InstanceStatus, {\n        ...childrenProps,\n        ...props,\n      })}/>\n      <Route path=\"/admin/instances/snapshots/:id\" render={(childrenProps)=> React.createElement(Snapshots, {\n        ...childrenProps,\n        ...props,\n      })}/>\n      <Route path=\"/admin/instances/details/:id\" render={(childrenProps)=> React.createElement(Details, {\n        ...childrenProps,\n        ...props,\n      })}/>\n      <Route path=\"/admin/instances/policies/:id\" render={(childrenProps)=> React.createElement(SecurityPolicies, {\n        ...childrenProps,\n        ...props,\n      })}/>\n    </div>\n  )\n}\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport PolicyGroupList from \"views/PolicyGroups/PolicyGroupList.js\";\nimport SecurityRules from \"views/PolicyGroups/SecurityRules\";\n\nexport default function Instances(props){\n  return (\n    <div>\n      <Route path=\"/admin/security_policies/\" exact render={()=> React.createElement(PolicyGroupList, props)}/>\n      <Route path=\"/admin/security_policies/:id/rules/\" render={(childrenProps)=> React.createElement(SecurityRules, {\n        ...childrenProps,\n        ...props,\n      })}/>\n    </div>\n  )\n}\n","import {\n  drawerWidth,\n  transition,\n  container\n} from \"assets/jss/material-dashboard-react.js\";\n\nconst appStyle = theme => ({\n  wrapper: {\n    position: \"relative\",\n    top: \"0\",\n    height: \"100vh\"\n  },\n  mainPanel: {\n    [theme.breakpoints.up(\"md\")]: {\n      width: `calc(100% - ${drawerWidth}px)`\n    },\n    overflow: \"auto\",\n    position: \"relative\",\n    float: \"right\",\n    ...transition,\n    maxHeight: \"100%\",\n    width: \"100%\",\n    overflowScrolling: \"touch\"\n  },\n  content: {\n    marginTop: \"70px\",\n    padding: \"30px 15px\",\n    minHeight: \"calc(100vh - 123px)\"\n  },\n  container,\n  map: {\n    marginTop: \"70px\"\n  }\n});\n\nexport default appStyle;\n","import React from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport Box from '@material-ui/core/Box';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { Redirect } from 'react-router-dom';\n// import { Redirect } from \"@reach/router\";\nimport bgImage from 'assets/img/login_background.jpg';\nimport LanguageSelector from \"components/Language/Selector.js\";\nimport { loginUser, writeLog, getSystemStatus } from 'nano_api.js';\nimport { saveLoggedSession } from 'utils.js';\n\nconst getClasses = makeStyles(() => ({\n  background: {\n    backgroundImage: \"url(\" + bgImage + \")\",\n    height: '100vh',\n  }\n}));\n\nconst i18n = {\n  'cn': {\n    title: 'Nano管理门户',\n    user: '用户名',\n    password: '密码',\n    login: '登录',\n  },\n  'en': {\n    title: 'Nano Web Portal',\n    user: 'User',\n    password: 'Password',\n    login: 'Login',\n  }\n};\n\nexport default function Login(props) {\n  const { lang, setLang } = props;\n  const texts = i18n[lang];\n  const classes = getClasses();\n  const [request, setRequest] = React.useState({\n    user: '',\n    password: '',\n    nonce: 'stub',\n    type: 'manager',\n  });\n  const [errorMessage, setError] = React.useState('');\n  const [systemReady, setSystemReady] = React.useState(true);\n  const [initialed, setInitialed] = React.useState(false);\n  const [isLogged, setLogged] = React.useState(false);\n\n  const notifyError = React.useCallback(message => {\n    const notifyElapsed = 5000;\n    setError(message);\n    setTimeout(() => {\n      setError('');\n    }, notifyElapsed);\n  }, [setError]);\n\n  const handleRequestPropsChanged = name => e => {\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const onLoginFail = React.useCallback(msg => {\n    notifyError(msg);\n  }, [notifyError]);\n\n  const onSystemError = msg =>{\n    setError(msg);\n  };\n\n  const onLoginSuccess = payload => {\n    var session = {\n      id: payload.session,\n      timeout: payload.timeout,\n      menu: payload.menu,\n      address: payload.address,\n      user: request.user,\n      group: payload.group,\n      nonce: request.nonce,\n      type: request.type,\n    }\n    saveLoggedSession(session);\n    if (!isLogged) {\n      setLogged(true);\n      writeLog('login success');\n    }\n  };\n\n  const handleLoginClick = () => {\n    loginUser(request.user, request.password, onLoginSuccess, onLoginFail);\n  };\n\n  React.useEffect(() => {\n    if (initialed) {\n      return;\n    }\n    const onQueryStatusSuccess = result => {\n      if (!result.ready) {\n        setSystemReady(false);\n      }\n      setInitialed(true);\n    }\n\n    getSystemStatus(onQueryStatusSuccess, onSystemError);\n  }, [initialed, onLoginFail]);\n\n  let content, button;\n  if (!initialed) {\n    if (errorMessage) {\n      let prompt;\n      if ('en' === lang) {\n        prompt = `System check failed, Please check backend service status\\r\\n${errorMessage}`;\n      } else {\n        prompt = `系统检测失败，请检查后台服务状态\\r\\n${errorMessage}`;\n      }\n      content = (\n        <GridItem xs={12}>\n          <SnackbarContent message={prompt} color=\"warning\" />\n        </GridItem>\n      )\n    } else {\n      content = <Skeleton variant=\"rect\" style={{ height: '10rem' }} />;\n    }\n  } else if (!systemReady) {\n    return <Redirect to='/initial' />;\n  } else if (isLogged) {\n    const PreviousKey = \"previous\";\n    var params = new URLSearchParams(window.location.search);\n    if (params.has(PreviousKey)) {\n      return <Redirect to={decodeURIComponent(params.get(PreviousKey))} />;\n    } else {\n      return <Redirect to='/admin' />;\n    }\n  } else {\n    let errorBar;\n    if (errorMessage) {\n      errorBar = (\n        <GridItem xs={12}>\n          <SnackbarContent message={errorMessage} color=\"danger\" />\n        </GridItem>\n      );\n    } else {\n      errorBar = <GridItem xs={12} />;\n    }\n    button = <Button color=\"info\" onClick={handleLoginClick}>{texts.login}</Button>;\n    content = (\n      <Grid container>\n        <GridItem xs={12}>\n          <Box m={0} pt={2}>\n            <TextField\n              label={texts.user}\n              onChange={handleRequestPropsChanged('user')}\n              value={request.user}\n              margin=\"normal\"\n              required\n              fullWidth\n            />\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box m={0} pt={2}>\n            <TextField\n              label={texts.password}\n              onChange={handleRequestPropsChanged('password')}\n              value={request.password}\n              margin=\"normal\"\n              type='password'\n              required\n              fullWidth\n            />\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          <Box alignItems='center' display='flex' m={1}>\n            {button}\n            <Box flexGrow={1} />\n            <LanguageSelector lang={lang} setLang={setLang} />\n          </Box>\n        </GridItem>\n        <GridItem xs={12}>\n          {errorBar}\n        </GridItem>\n      </Grid>\n    );\n  }\n  return (\n    <Box component='div' className={classes.background}>\n      <Container maxWidth='lg'>\n        <Grid container justifyContent=\"center\">\n          <Grid item xs={10} sm={6} md={4}>\n            <Box mt={20} p={0}>\n              <Card>\n                <CardHeader color=\"primary\">\n                  <h4 className={classes.cardTitleWhite}>{texts.title}</h4>\n                </CardHeader>\n                <CardBody>\n                  {content}\n                </CardBody>\n              </Card>\n            </Box>\n          </Grid>\n        </Grid>\n      </Container>\n    </Box>\n  )\n}\n","import React from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport Box from '@material-ui/core/Box';\nimport Container from '@material-ui/core/Container';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport { Redirect } from 'react-router-dom';\nimport dashboardStyles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\nimport LanguageSelector from \"components/Language/Selector.js\";\n\nimport bgImage from 'assets/img/login_background.jpg';\nimport { getSystemStatus, initialSystem, getAllMenus } from 'nano_api.js';\n\nconst getClasses = makeStyles(()=>({\n  ...dashboardStyles,\n  background:{\n    backgroundImage: \"url(\" + bgImage + \")\",\n    height: '100vh',\n  }\n}));\n\nconst i18n = {\n  'cn':{\n    welcome: '欢迎使用Nano云平台',\n    description: '请设定管理员账号及密码，开始初始化系统',\n    user: '默认管理员帐号',\n    password: '密码',\n    password2: '确认密码',\n    initial: '初始化',\n    confirm: '确认',\n    success: '系统初始化成功，点击进入登录页面',\n  },\n  'en':{\n    welcome: 'Welcome to Nano',\n    description: 'Please set up a new admin account',\n    user: 'Super Admin Name',\n    password: 'Password',\n    password2: 'Confirm Password',\n    initial: 'Initial System',\n    confirm: 'Confirm',\n    success: 'System initialed, click to login',\n  }\n};\n\nexport default function InitialSystem(props){\n  const StageEnum = {\n    uninitial: 0,\n    input: 1,\n    initialed: 2,\n    redirect: 3,\n  };\n  const classes = getClasses();\n  const { lang, setLang } = props;\n  const texts = i18n[lang];\n  const [ request, setRequest ] = React.useState({\n    user: '',\n    password: '',\n    password2: '',\n  });\n\n  const [ errorMessage, setError ] = React.useState('');\n  const [ stage, setStage ] = React.useState(StageEnum.uninitial);\n\n  const notifyError = (message) =>{\n    const notifyElapsed = 5000;\n    setError(message);\n    setTimeout(()=>{\n      setError('');\n    }, notifyElapsed);\n  };\n\n  const handleRequestPropsChanged = name => e =>{\n    var value = e.target.value\n    setRequest(previous => ({\n      ...previous,\n      [name]: value,\n    }));\n  };\n\n  const onInitialFail = React.useCallback(msg =>{\n    notifyError(msg);\n  }, []);\n\n  const onInitialSuccess = () =>{\n    setError('');\n    setStage(StageEnum.initialed);\n  }\n\n  const redirect = React.useCallback(() =>{\n    setStage(StageEnum.redirect);\n  }, [StageEnum.redirect]);\n\n  const onResultConfirm = () => {\n    redirect();\n  }\n\n  const confirmInitial = () =>{\n    const namePattern = new RegExp('[^\\\\w-.]');\n    if(!request.user){\n      onInitialFail('must specify user name');\n      return;\n    }else if (namePattern.test(request.user)){\n      onInitialFail(\"only letter/digit/'-'/'_'/'.' allowed in username\");\n      return;\n    }\n\n    if(!request.password){\n      onInitialFail('please input password');\n      return;\n    }else if (request.password2 !== request.password){\n      onInitialFail('password mismatch');\n      return;\n    }\n    var menuList = []\n    getAllMenus(lang).forEach(menu => {\n      menuList.push(menu.value);\n    });\n    initialSystem(request.user, null, null, null, request.password, menuList, onInitialSuccess, onInitialFail);\n  }\n\n  React.useEffect(() =>{\n    const onQueryStatusSuccess = result => {\n      if (result.ready){\n        redirect();\n        return;\n      }\n      //need initial\n      setStage(StageEnum.input);\n    }\n\n    getSystemStatus(onQueryStatusSuccess, onInitialFail);\n  }, [StageEnum.input, onInitialFail, redirect]);\n\n  let errorBar;\n  if (errorMessage && '' !== errorMessage){\n    errorBar = (\n      <GridItem xs={12}>\n        <SnackbarContent message={errorMessage} color=\"danger\"/>\n      </GridItem>\n    );\n  }else{\n    errorBar = <GridItem xs={12}/>;\n  }\n\n  let content, button;\n  switch (stage) {\n    case StageEnum.input:\n      button = <Button color=\"info\" onClick={confirmInitial}>{texts.initial}</Button>;\n      content = (\n        <Grid container>\n          <GridItem xs={12}>\n            <Box justifyContent=\"center\" display='flex'>\n              <Typography className={classes.cardTitle}>\n                {texts.description}\n              </Typography>\n            </Box>\n          </GridItem>\n          <GridItem xs={12}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.user}\n                onChange={handleRequestPropsChanged('user')}\n                value={request.user}\n                margin=\"normal\"\n                required\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n          <GridItem xs={12}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.password}\n                onChange={handleRequestPropsChanged('password')}\n                value={request.password}\n                margin=\"normal\"\n                type='password'\n                required\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n          <GridItem xs={12}>\n            <Box m={0} pt={2}>\n              <TextField\n                label={texts.password2}\n                onChange={handleRequestPropsChanged('password2')}\n                value={request.password2}\n                margin=\"normal\"\n                type='password'\n                required\n                fullWidth\n              />\n            </Box>\n          </GridItem>\n          <GridItem xs={12}>\n            <Box alignItems='center' display='flex' m={1}>\n              {button}\n              <Box flexGrow={1}/>\n              <LanguageSelector lang={lang} setLang={setLang}/>\n            </Box>\n          </GridItem>\n          <GridItem xs={12}>\n            {errorBar}\n          </GridItem>\n        </Grid>\n      )\n      break;\n    case StageEnum.initialed:\n      button = <Button color=\"info\" onClick={onResultConfirm}>{texts.confirm}</Button>;\n      content = (\n        <Grid container>\n          <GridItem xs={12}>\n            <Box justifyContent=\"center\" display='flex'>\n              <Typography variant='body1' component='span' className={classes.cardTitle}>\n                {texts.success}\n              </Typography>\n            </Box>\n          </GridItem>\n          <GridItem xs={12}>\n            <Box justifyContent=\"center\" display='flex'>\n              {button}\n            </Box>\n          </GridItem>\n        </Grid>\n      )\n      break;\n    case StageEnum.redirect:\n      return <Redirect to='/login'/>;\n    default:\n      //uninitial\n      content = (\n        <div>\n          <Skeleton variant=\"rect\" style={{height: '10rem'}}/>\n          {errorBar}\n        </div>\n      );\n  }\n\n  return(\n    <Box component='div' className={classes.background}>\n      <Container maxWidth='lg'>\n        <Grid container justify=\"center\">\n          <Grid item xs={12} sm={8} md={4}>\n            <Box mt={20} p={0}>\n              <Card>\n                <CardHeader color=\"primary\">\n                  <h4 className={classes.cardTitleWhite}>{texts.welcome}</h4>\n                </CardHeader>\n                <CardBody>\n                  {content}\n                </CardBody>\n              </Card>\n            </Box>\n          </Grid>\n        </Grid>\n      </Container>\n    </Box>\n  )\n}\n","import React from 'react';\nimport RFB from '@novnc/novnc';\n\nexport default function VncDisplay(props){\n  const { url, password, callback, onFocusChanged } = props;\n  const canvas = React.createRef();\n  const [ connection, setConnection ] = React.useState(null);\n  const [ mounted, setMounted ] = React.useState(false);\n  const [ initialed, setInitialed ] = React.useState(false);\n\n  const activateFocus = () =>{\n    if (!mounted){\n      return;\n    }\n    if (!connection){\n      return;\n    }\n    connection.focus();\n    onFocusChanged(true);\n  };\n\n  const deactivateFocus = () =>{\n    if (!mounted){\n      return;\n    }\n    if (!connection){\n      return;\n    }\n    connection.blur();\n    onFocusChanged(false);\n  };\n\n  const sendEmergencyKeys = () =>{\n    if (!mounted){\n      return;\n    }\n    if (!connection){\n      return;\n    }\n    connection.sendCtrlAltDel();\n  };\n\n  const clickScreen = e => {\n    e.preventDefault();\n    activateFocus();\n  }\n\n  React.useEffect(()=>{\n    if (!canvas ||!canvas.current || !url || !password){\n      return;\n    }\n\n    setMounted(true);\n    if (!initialed){\n      const options = {\n        credentials: {\n          password: password,\n        },\n        clipViewport: true,\n        focusOnClick: false,\n        // scaleViewport: true,\n        qualityLevel: 8,\n      };\n\n\n      var conn = new RFB(canvas.current, url, options);\n      // const disconnect = () =>{\n      //   conn.disconnect();\n      //   setConnection(null);\n      // }\n      // conn.focus();\n      setConnection(conn);\n      setInitialed(true);\n    }\n\n    return () => {\n      // disconnect();\n      setMounted(false);\n    }\n  }, [canvas, password, url, initialed]);\n\n  //render\n  //bind callback\n  callback.onEmergency = sendEmergencyKeys;\n  return (\n    <div\n      ref={canvas}\n      onMouseOver={activateFocus}\n      onMouseOut={deactivateFocus}\n      onMouseDown={clickScreen}\n    />\n  )\n}\n","import React from \"react\";\n// @material-ui/core components\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Box from '@material-ui/core/Box';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from '@material-ui/core/Typography';\nimport KeyboardHideIcon from '@material-ui/icons/KeyboardHide';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\nimport RotateRightIcon from '@material-ui/icons/RotateRight';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\n\n// dashboard components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport Snackbar from \"components/Snackbar/Snackbar.js\";\nimport VncDisplay from \"views/Instances/VncDisplay.js\";\nimport InsertMediaDialog from \"views/Instances/InsertMediaDialog.js\";\nimport { getInstanceConfig, openMonitorChannel, getMonitorURL, ejectMedia,\n  stopInstance, restartInstance, resetInstance, writeLog } from \"nano_api.js\";\n\nconst i18n = {\n  'en':{\n    instance: 'Instance',\n    sendKeys: 'Send Ctrl+Alt+Delete',\n    stop: 'Stop Instance',\n    reboot: 'Reboot Instance',\n    reset: 'Reset Instance',\n    insertMedia: 'Insert Media',\n    ejectMedia: 'Eject Media',\n    activated: 'The input is already redirected, move out the mouse to release control',\n    deactivated: 'Move the mouse to the screen to control the instance',\n  },\n  'cn':{\n    instance: '云主机',\n    sendKeys: '发送 Ctrl+Alt+Delete',\n    stop: '停止云主机',\n    reboot: '重启云主机',\n    reset: '强制重启云主机',\n    insertMedia: '插入光盘镜像',\n    ejectMedia: '弹出光盘镜像',\n    activated: '输入已重定向到云主机，鼠标离开画面解除控制',\n    deactivated: '鼠标移动到监控画面开始控制云主机',\n  }\n}\n\nexport default function ControlInstance(props){\n    const instanceID = props.match.params.id;\n    const { lang } = props;\n    const [ channel, setChannel ] = React.useState(null);\n    const [ focus, setFocus ] = React.useState(false);\n    const [ mounted, setMounted ] = React.useState(false);\n    const [ initialed, setInitialed ] = React.useState(false);\n    const [ initializing, setInitializing ] = React.useState(false);\n    //for dialog\n    const [ insertMediaDialogVisible, setInsertMediaDialogVisible ] = React.useState(false);\n    const [ notifyColor, setNotifyColor ] = React.useState('warning');\n    const [ notifyMessage, setNotifyMessage ] = React.useState(\"\");\n    const texts = i18n[lang];\n\n    const closeNotify = () => {\n      setNotifyMessage(\"\");\n    }\n\n    const showErrorMessage = React.useCallback((msg) => {\n      if(!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('warning');\n      setNotifyMessage(msg);\n      setTimeout(closeNotify, notifyDuration);\n    }, [mounted, setNotifyColor, setNotifyMessage]);\n\n    const showNotifyMessage = (msg) => {\n      if(!mounted){\n        return;\n      }\n      const notifyDuration = 3000;\n      setNotifyColor('info');\n      setNotifyMessage(msg);\n      writeLog(msg);\n      setTimeout(closeNotify, notifyDuration);\n    };\n\n    const onMonitorFail = React.useCallback(msg =>{\n      showErrorMessage(msg);\n    }, [showErrorMessage]);\n\n    //insert media\n    const showInsertMediaDialog = () =>{\n      setInsertMediaDialogVisible(true);\n    }\n\n    const closeInsertMediaDialog = () =>{\n      setInsertMediaDialogVisible(false);\n    }\n\n    const onInsertMediaSuccess = () =>{\n      closeInsertMediaDialog();\n      showNotifyMessage('media insert into instance ' + channel.name);\n    };\n\n    const handleEjectMedia = () => {\n      const onOperateSuccess = () => {\n        showNotifyMessage('media of instance ' + channel.name + ' ejected')\n      }\n      ejectMedia(instanceID, onOperateSuccess, onMonitorFail);\n    }\n\n    const handleStopInstance = () =>{\n      const onOperateSuccess = () =>{\n        showNotifyMessage('instance ' + channel.name + ' stopped');\n      }\n      stopInstance(instanceID, onOperateSuccess, onMonitorFail);\n    }\n\n    const handleRebootInstance = () =>{\n      const onOperateSuccess = () =>{\n        showNotifyMessage('instance ' + channel.name + ' reboot');\n      }\n      restartInstance(instanceID, onOperateSuccess, onMonitorFail);\n    }\n\n    const handleResetInstance = () =>{\n      const onOperateSuccess = () =>{\n        showNotifyMessage('instance ' + channel.name + ' reset');\n      }\n      resetInstance(instanceID, onOperateSuccess, onMonitorFail);\n    }\n\n    const handleEmergencyKeys = () =>{\n        if(channel&&channel.delegate&&channel.delegate.onEmergency){\n          channel.delegate.onEmergency();\n        }\n    }\n\n    const handleFocusChanged = isActivated => {\n      setFocus(isActivated);\n    }\n\n    React.useEffect(() =>{\n      if (!instanceID){\n        return;\n      }\n\n      setMounted(true);\n      if (!initializing && !initialed){\n        setInitializing(true);\n        const onGetInstanceSuccess = status =>{\n          const onOpenChannelSuccess = (id, password) =>{\n            const channelData = {\n              name: status.name,\n              pool: status.pool,\n              cell: status.cell,\n              channel: id,\n              password: password,\n              delegate: {},\n            }\n            setChannel(channelData);\n            setInitialed(true);\n            setInitializing(false);\n          }\n          openMonitorChannel(instanceID, onOpenChannelSuccess, onMonitorFail);\n        }\n        getInstanceConfig(instanceID, onGetInstanceSuccess, onMonitorFail);\n      }\n      return () =>{\n        setMounted(false);\n      }\n    }, [instanceID, onMonitorFail, initialed, initializing]);\n\n    let content, headers;\n    if (!initialed){\n      content = <Skeleton variant=\"rect\" style={{height: '10rem'}}/>;\n      headers = <Box/>;\n    }else{\n      const url = getMonitorURL(channel.channel);\n      content = (\n        <VncDisplay\n          url={url}\n          password={channel.password}\n          callback={channel.delegate}\n          onFocusChanged={handleFocusChanged}\n          />\n      );\n      const operators = [\n        {\n          tips: texts.sendKeys,\n          icon: KeyboardHideIcon,\n          handler: handleEmergencyKeys,\n        },\n        {\n          tips: texts.insertMedia,\n          icon: ArrowDropDownIcon,\n          handler: showInsertMediaDialog,\n        },\n        {\n          tips: texts.ejectMedia,\n          icon: ArrowDropUpIcon,\n          handler: handleEjectMedia,\n        },\n        {\n          tips: texts.stop,\n          icon: PowerSettingsNewIcon,\n          handler: handleStopInstance,\n        },\n        {\n          tips: texts.reboot,\n          icon: RotateRightIcon,\n          handler: handleRebootInstance,\n        },\n        {\n          tips: texts.reset,\n          icon: RefreshIcon,\n          handler: handleResetInstance,\n        },\n      ];\n      headers = (\n        <Box display=\"flex\" alignItems=\"center\">\n          <Box flexGrow={1}  fontWeight=\"fontWeightBold\" letterSpacing={10}>\n            <Typography component='span'>\n              {texts.instance + ': ' + channel.name + '  ('+ ( focus? texts.activated : texts.deactivated ) +')'}\n            </Typography>\n          </Box>\n          {\n            operators.map((operator, key) => (\n              <Box key={key}>\n                <Tooltip\n                  title={operator.tips}\n                  placement=\"top\"\n                  >\n                  <IconButton\n                    color=\"inherit\"\n                    onClick={operator.handler}\n                    >\n                    {React.createElement(operator.icon)}\n                  </IconButton>\n                </Tooltip>\n              </Box>\n            ))\n          }\n        </Box>\n      )\n    }\n\n    return (\n      <GridContainer>\n        <GridItem xs={12}>\n          <Card>\n            <CardHeader color=\"primary\">\n              {headers}\n            </CardHeader>\n            <CardBody>\n              {content}\n            </CardBody>\n          </Card>\n        </GridItem>\n        <GridItem>\n          <Snackbar\n            place=\"tr\"\n            color={notifyColor}\n            message={notifyMessage}\n            open={\"\" !== notifyMessage}\n            closeNotification={closeNotify}\n            close\n          />\n        </GridItem>\n        <GridItem>\n          <InsertMediaDialog\n            lang={lang}\n            instanceID={instanceID}\n            open={insertMediaDialogVisible}\n            onSuccess={onInsertMediaSuccess}\n            onCancel={closeInsertMediaDialog}\n            />\n        </GridItem>\n      </GridContainer>\n    );\n}\n","/*!\n\n=========================================================\n* Material Dashboard React - v1.8.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/material-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {createTheme} from '@material-ui/core/styles';\nimport ThemeProvider from '@material-ui/styles/ThemeProvider';\n\nimport { createBrowserHistory } from \"history\";\nimport { Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport Danger from \"components/Typography/Danger.js\";\nimport { primaryColor, infoColor, dangerColor } from \"assets/jss/material-dashboard-react.js\";\n// core components\nimport Admin from \"layouts/Admin.js\";\nimport Login from \"views/Login/Login.js\";\nimport Initial from \"views/Login/Initial.js\";\nimport ControlInstance from \"views/Instances/ControlInstance.js\";\nimport { getLanguage } from \"utils.js\";\n\nimport \"assets/css/material-dashboard-react.css?v=1.8.0\";\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      error: null,\n      errorStack: null,\n    };\n  }\n\n  static getDerivedStateFromError(error) {\n    // 更新 state 使下一次渲染能够显示降级后的 UI\n    return {\n      hasError: true,\n      error: error.message,\n      errorStack: error.stack,\n    };\n  }\n\n  render() {\n    if (this.state.hasError){\n      return <Danger>{this.state.error}</Danger>;\n    }\n\n    return this.props.children;\n  }\n}\n\nconst history = createBrowserHistory();\nconst mainTheme = createTheme({\n  palette: {\n    primary: {\n      light: primaryColor[1],\n      main: primaryColor[0],\n    },\n    secondary:{\n      light: infoColor[1],\n      main: infoColor[0],\n    },\n    error:{\n      light: dangerColor[1],\n      main: dangerColor[0],\n    },\n  },\n});\n\nfunction LanguageProvider(props){\n  const [ lang, setLang ] = React.useState(getLanguage());\n\n  return (\n    <ThemeProvider theme={mainTheme}>\n      <ErrorBoundary>\n        <Router history={history}>\n          <Switch>\n            <Route path=\"/admin\" render={ (props) => <Admin lang={lang} setLang={setLang}/>}/>\n            <Route path=\"/login\" render={ (props) => <Login lang={lang} setLang={setLang}/>}/>\n            <Route path=\"/initial\" render={ (props) => <Initial lang={lang} setLang={setLang}/>}/>\n            <Route path=\"/monitor/:id\" render={ props => <ControlInstance lang={lang} {...props}/>}/>\n            <Redirect from=\"/\" to=\"/login\" />\n          </Switch>\n        </Router>\n      </ErrorBoundary>\n    </ThemeProvider>\n  )\n}\n\nReactDOM.render(\n  <LanguageProvider/>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}